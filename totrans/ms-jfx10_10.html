<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Mobile Testing on iOS and Android using Appium</h1>
                </header>
            
            <article>
                
<p>In all the previous chapters, we have worked on web applications that are loaded in desktop browsers. But with the increasing number of mobile users, businesses today have to serve their users on mobile devices as well. In this chapter, you will learn about the following:</p>
<ul>
<li>The different types of mobile applications and testing tools</li>
<li>How to test mobile application using Selenium WebDriver, more specifically, with Appium</li>
<li>Testing mobile applications on Android and iOS</li>
<li>Using cloud-based device labs for real device testing</li>
</ul>
<p><kbd>Appium</kbd> is an open source mobile-automation framework used to test mobile apps on iOS and Android platforms using the JSON wire protocol with Selenium WebDriver. Appium replaces the iPhoneDriver and AndroidDriver APIs in Selenium 2 that were used to test mobile web applications.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Different forms of mobile applications</h1>
                </header>
            
            <article>
                
<p>There are three different forms in which an application can reach a user on the mobile platform:</p>
<ul>
<li><span><span><strong>Native apps</strong>: Native apps are purely specific to the target mobile platform. They are developed in the platform-supported languages and are very much tied to underlying SDKs. For iOS, applications are developed in the Objective-C or Swift programming language and are dependent on iOS SDK; similarly, for the Android platform, they are developed in Java or Kotlin and are dependent on Android SDK.</span></span></li>
<li><strong>m.site</strong>: Also known as a mobile website, it is a mini version of your web application that loads on the browsers of your mobile devices. On iOS devices, it can be Safari or Chrome, and on Android devices, it can be the Android default browser or Chrome. For example, on your iOS or Android device, open your browser and type in <a href="http://www.facebook.com">www.facebook.com</a>. Before the page loads, you will observe that a URL redirection happens from <a href="http://www.facebook.com">www.facebook.com</a> to <a href="http://m.facebook.com">m.facebook.com</a>. The Facebook application servers realize that the request has originated from a mobile device and start serving the mobile site rather than the desktop site. These m.sites use JavaScript and HTML5 to be developed like your normal web applications:</li>
</ul>
<div class="CDPAlignCenter CDPAlign"><img src="assets/897b1347-98fc-4c96-9ce4-2e6698ec15f6.png" style=""/></div>
<ul>
<li><strong>Hybrid apps</strong>: The Hybrid app is a combination of the native app and the web app. When you develop a native app, some parts of it load HTML web pages into the app trying to make the user feel that they are using a native application. They generally use WebViews in native apps to load the web pages.</li>
</ul>
<p>Now, as a test-scripts developer, you have to test all these different applications on various mobile devices.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Available software tools</h1>
                </header>
            
            <article>
                
<p>To automate the testing of your applications on mobile devices, there are many software tools available. The following are some of the tools that are built based on Selenium WebDriver:</p>
<ul>
<li><strong>Appium</strong>: A<span> cross-platform and cross-technology mobile testing framework based on Selenium for native, hybrid, and mobile web applications. </span>Appium enables the use and extension of the existing Selenium WebDriver framework to build mobile tests. As it uses Selenium WebDriver to drive the tests, we can use any language to create tests for which a Selenium client library exists. You can create and execute your test scripts against Android and iOS platforms without having to change the underlying driver. Appium can also work with Firefox OS platforms. In the rest of the chapter, we will see how we can work with Appium. <span> </span></li>
<li><strong>Selendroid</strong>: This driver is similar to iOSDriver <span>and can execute your native, hybrid, and m.site application test scripts on the Android platform. It uses the native UI Automator library provided by Google. The test scripts communicate with the Selendroid driver over the JSON wire protocol while using its</span> favourite <span>client-language bindings.</span></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Automating iOS and Android tests using Appium</h1>
                </header>
            
            <article>
                
<p>Appium is a popular and widely used tool that can be employed to automate mobile-app testing for both the Android and iOS platforms. It can be used to automate native, m.sites, and hybrid applications. It internally uses WebDriver's JSON wire protocol.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Automating iOS Application tests</h1>
                </header>
            
            <article>
                
<p>For automating iOS app tests, Appium uses XCTest or UI Automation (for older iOS versions):</p>
<ul>
<li><strong>XCTest</strong>: You can use XCTest to c<span>reate and run unit tests, performance tests, and UI tests for your iOS applications built for iOS 9.3 and higher. It integrates with Xcode's testing workflow for testing the iOS application. Appium internally uses XCTest for automating the iOS applications.</span></li>
<li><strong>UI Automation</strong>: For testing apps developed for iOS 9.3 and lower, you need to use UI Automation. Appium receives the commands from test scripts over the JSON wire protocol. Appium sends these commands to Apple Instruments so that they can be executed on the app that is launched in a simulator or real device. While doing so, Appium translates the JSON commands into UI Automation JavaScript commands that can be understood by the instruments. The instruments take care of launching and closing the app in the simulator or device. </li>
</ul>
<p>Appium works as a Remote WebDriver and receives the commands from your test scripts over the JSON wire protocol. These commands are passed to XCTest or Apple Instruments to be executed on the app launched on a simulator or a real device. This process is shown in the following diagram:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/0c2d9f49-39a1-4edd-b570-87d7c37113e5.png"/></div>
<p>After the command is executed against your app on the simulator or device, the target app sends the response to XCTest or UI Automation Instrument, which is transferred to Appium in the JavaScript response format. Appium translates the responses into Selenium WebDriver JSON wire protocol responses and sends them back to your test script.</p>
<p class="mce-root"/>
<p>The main advantages of using Appium for your iOS automation testing are as follows:</p>
<ul>
<li>It uses the iOS platform-supported XCTest or the UI Automation library and instruments provided by Apple itself.</li>
<li>Even though you are using the JavaScript library, you, and a test-script developer, and your tests are not really tied to it. You can use your own Selenium WebDriver client-language bindings, such as Java, Ruby, or Python, to develop your test scripts. Appium will take care of translating them into JavaScript for you.</li>
<li>You don't have to modify your native or hybrid apps for the purpose of testing.</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Automating Android application tests</h1>
                </header>
            
            <article>
                
<p>Automating Android tests for your Android apps is similar to automating iOS apps tests. Except for the fact that your target platform is changing, your test scripts will not undergo any change. The following diagram that shows the workflow:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/b060e218-e8e7-489f-8092-8666734b8978.png"/></div>
<p>Again, Appium works as a Remote WebDriver and receives the commands from your test scripts over the JSON wire protocol. These commands are passed to Google UI Automator, which comes with Android SDK, to be executed on the native app launched on a simulator or a real device. Before the commands are passed on the UI Automator, Appium translates the JSON commands into UI Automator commands that can be understood by UI Automator. This UI Automator will launch your app on the simulator or real device and start executing your test-script commands on it. After the command is executed against your app on the simulator or device, the target app sends the response to the UI Automator, which is transferred to Appium in the UI Automator response format. Appium translates the UI Automator responses into Selenium WebDriver JSON wire protocol responses and sends them back to your test script.</p>
<p>This is the high-level architecture that helps you understand how Appium works with Android and iOS devices to execute your test commands.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Prerequisites for Appium</h1>
                </header>
            
            <article>
                
<p>Before we start discussing some working examples for Appium, we need to install some prerequisite tools for the iOS and Android platforms. We need to set up Xcode and Android Studio for this purpose, for which I'll be showing the examples on macOS.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up Xcode</h1>
                </header>
            
            <article>
                
<p>To set up the Xcode, we will perform the following steps:</p>
<ol>
<li>You can download the latest Xcode from <a href="https://developer.apple.com/xcode/">https://developer.apple.com/xcode/</a>.</li>
<li>After downloading it, install and open it.</li>
<li>Navigate to <span class="packt_screen">Preferences | Components</span> to download and install command-line tools and iOS Simulators, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/438d70e8-cfdc-4060-be80-6bda85a9d803.png" style=""/></div>
<p class="mce-root"/>
<p><span>If you are using a real device, you need a </span>provisioning<span> profile installed on the device and USB-debugging enabled on it.</span></p>
<p><span>Try to launch the iPhone simulator and verify that it works. You can launch the simulator by navigating to <span class="packt_screen">Xcode | Open Developer Tool | iOS Simulator</span>. The simulator should look similar to what is shown in the following screenshot:</span></p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/e1de65ea-0d2c-4391-8e3d-bc078040fda4.png" style=""/></div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up Android SDK</h1>
                </header>
            
            <article>
                
<p>You need to install Android SDK from <a href="https://developer.android.com/studio/">https://developer.android.com/studio/</a>. Download and install Android Studio.</p>
<p><span>Launch the installed Android Studio. Now download any Android whose API level is 27, and install it. You can do that by navigating to <span class="packt_screen">Tools |  SDK Manager</span>. You should see something similar to what is shown in the following screenshot:</span></p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/6e2f86c0-47a9-4085-bf04-31a4a462123a.png"/></div>
<p><span>Here, we are installing Android 8.1, which has an API level of 27.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating the Android Emulator</h1>
                </header>
            
            <article>
                
<p>If you want to execute your test scripts on an Android Emulator, you have to create one. To create one, we will perform the following steps:</p>
<ol>
<li>In Android Studio, open the <span class="packt_screen">AVD Manager</span> by navigating to <span class="packt_screen">Tools | AVD Manager</span>. It launches the AVD Manager, as shown in the following screenshot:</li>
</ol>
<div style="padding-left: 30px" class="CDPAlignCenter CDPAlign"><img src="assets/d8b68ab6-50f7-47a3-8730-7f57528d7a1a.png" style=""/></div>
<ol start="2">
<li class="CDPAlignLeft CDPAlign">Create a new virtual device or emulator by clicking on the <span class="packt_screen">Create Virtual Device...</span> button. You should see a window that will take all the necessary information from you, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/d3cca45e-c895-4045-9731-cbb2c28f06e7.png"/></div>
<ol start="3">
<li>Launch the emulator to see whether it was created successfully. It might take several minutes for the Android Virtual Device to start. The following screenshot shows a started Android Emulator:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/6055aea8-1d4d-4ee3-8e7f-d7b6b53115e0.png" style=""/></div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Appium </h1>
                </header>
            
            <article>
                
<p>You can download Appium from <a href="http://appium.io/.">http://appium.io/.</a> Click on the <span class="packt_screen">Download Appium</span> button to download the Appium specific to your workstation platform. Here, I am using a Mac, so it will download the Appium DMG file.</p>
<p>Copy Appium to the <kbd>Applications</kbd> folder, and try to launch it. The first time it is launched, it asks for your authorization to run the iOS simulators, as shown in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/b5f94734-f809-46db-9359-e75f1348078c.png" style=""/></div>
<p>Click on Launch to <span class="packt_screen">Start Server</span> button. By default, it starts at <kbd>http://localhost:4723</kbd>. This is the remote URL to which your test scripts should direct the test commands.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Automating for iOS</h1>
                </header>
            
            <article>
                
<p>Now we have Appium running, so let's create a test that will check the search test on the iPhone Safari browser. Let's use the <kbd>DesiredCapabilities</kbd> class to provide capabilities to Appium for running tests on iPhone X and iOS 11.4, as shown in the following code:</p>
<pre><span>public class </span>SearchTest {<br/><br/>    <span>private </span>WebDriver <span>driver</span><span>;<br/></span><span><br/></span><span>    </span><span>@BeforeTest<br/></span><span>    </span><span>public void </span><span>setUp</span>() <span>throws </span>Exception {<br/><br/>        <span>// Set the desired capabilities for iOS- iPhone X<br/></span><span>        </span>DesiredCapabilities caps = <span>new </span>DesiredCapabilities()<span>;<br/></span><span>        </span>caps.setCapability(<span>"platformName"</span><span>, </span><span>"iOS"</span>)<span>;<br/></span><span>        </span>caps.setCapability(<span>"platformVersion"</span><span>, </span><span>"11.4"</span>)<span>;<br/></span><span>        </span>caps.setCapability(<span>"deviceName"</span><span>, </span><span>"iPhone X"</span>)<span>;<br/></span><span>        </span>caps.setCapability(<span>"browserName"</span><span>, </span><span>"safari"</span>)<span>;<br/></span><span><br/></span><span>        </span><span>// Create an instance of AndroidDriver for testing on Android platform<br/></span><span>        // connect to the local Appium server running on a different machine<br/></span><span>        // We will use WebElement type for testing the Web application<br/></span><span>        </span><span>driver </span>= <span>new </span>IOSDriver&lt;&gt;(<span>new </span>URL(<br/>                <span>"http://192.168.0.101:4723/wd/hub"</span>)<span>, </span>caps)<span>;<br/></span><span>        </span><span>driver</span>.get(<span>"http://demo-store.seleniumacademy.com/"</span>)<span>;<br/></span><span>    </span>}<br/><br/>    <span>@Test<br/></span><span>    </span><span>public void </span><span>searchProduct</span>() {<br/><br/>        WebElement lookingGlassIcon =<br/>                <span>driver</span>.findElement(By<br/>                        .<span>cssSelector</span>(<span>"a.skip-search span.icon"</span>))<span>;<br/></span><span><br/></span><span>        </span>lookingGlassIcon.click()<span>;<br/></span><span><br/></span><span>        </span><span>// find search box and enter search string<br/></span><span>        </span>WebElement searchBox = <span>driver</span>.findElement(By.<span>name</span>(<span>"q"</span>))<span>;<br/></span><span><br/></span><span>        </span>searchBox.sendKeys(<span>"Phones"</span>)<span>;<br/></span><span><br/></span><span>        </span>WebElement searchButton =<br/>                <span>driver</span>.findElement(By.<span>className</span>(<span>"search-button"</span>))<span>;<br/></span><span><br/></span><span>        </span>searchButton.click()<span>;<br/></span><span><br/></span><span>        </span>List&lt;WebElement&gt; searchItems = <span>new </span>WebDriverWait(<span>driver</span><span>, </span><span>30</span>)<br/>                .until(ExpectedConditions<br/>                        .<span>presenceOfAllElementsLocatedBy</span>(By<br/>                                .<span>cssSelector</span>(<span>"h2.product-name a"</span>)))<span>;<br/></span><span><br/></span><span>        </span><span>assertThat</span>(searchItems.size())<br/>                .isEqualTo(<span>3</span>)<span>;<br/></span><span><br/></span><span>    </span>}<br/><br/>    <span>@AfterTest<br/></span><span>    </span><span>public void </span><span>tearDown</span>() <span>throws </span>Exception {<br/>        <span>// Close the browser<br/></span><span>        </span><span>driver</span>.quit()<span>;<br/></span><span>    </span>}<br/>}</pre>
<p>As you can see, the preceding code is similar to the test script for <kbd>RemoteWebDriver</kbd>. However, there are a few differences. The following code depicts that:</p>
<pre>DesiredCapabilities caps = <span>new </span>DesiredCapabilities()<span>;<br/></span>caps.setCapability(<span>"platformName"</span><span>, </span><span>"iOS"</span>)<span>;<br/></span>caps.setCapability(<span>"platformVersion"</span><span>, </span><span>"11.4"</span>)<span>;<br/></span>caps.setCapability(<span>"deviceName"</span><span>, </span><span>"iPhone X"</span>)<span>;<br/></span>caps.setCapability(<span>"browserName"</span><span>, </span><span>"safari"</span>)<span>;</span></pre>
<p>The Appium Java Client library provides the <kbd>IOSDriver</kbd> class that supports executed tests on the iOS platform to run the tests with Appium. However, for Appium to use the desired platform, we need to pass a set of desired  The <kbd>platformName</kbd> capability is used by Appium to decide on which platform the test script should get executed. In this example, we used the iPhone X Simulator. To run the tests on an iPad, we can specify the iPad Simulator.</p>
<p>When running the tests on a real device, we need to specify the value of the iPhone or iPad for the device capability. Appium will pick the device that is connected to the Mac via USB. The last desired capability that we used is browserName, which is used by Appium to launch the Safari browser.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Automating for Android</h1>
                </header>
            
            <article>
                
<p>Testing apps on Android is similar to testing on iOS. For Android, we will use a real device instead of an emulator (a simulator is called an emulator in the Android community). We will use the same application to test in Chrome for Android.</p>
<p>For this example, I am using the Samsung Galaxy S4 Android handset. We need to install the Google Chrome browser on the device. You can get Google Chrome at Google's Play store in case it is not pre-installed on your device. Next, we need to connect the device to the machine on which the Appium server is running. Let's run the following command to get a list of emulators or devices connected to the machine:</p>
<pre>./adb devices</pre>
<p>The<kbd>Android Debug Bridge</kbd> (ADB) is a command-line tool available in the Android SDK that lets you communicate with an emulator instance or an actual Android device connected to your computer. The <kbd>./adb devices</kbd> command will display a list of all the Android devices that are connected to the host, as per the following output:</p>
<pre><span>List of devices</span> attached<br/>4df1e76f39e54f43 device</pre>
<p class="mce-root">Let's modify the script we created for iOS to use the Android capabilities and AndroidDriver class to execute tests on real Android devices, as shown in the following code:</p>
<pre><span>public class MobileBmiCalculatorTest {<br/>    private WebDriver driver;<br/> <br/>@BeforeTest<br/></span><span>public void </span><span>setUp</span>() <span>throws </span>Exception {<br/><br/>    <span>// Set the desired capabilities for Android Device<br/></span><span>    </span>DesiredCapabilities caps = DesiredCapabilities.<span>android</span>()<span>;<br/></span><span>    </span>caps.setCapability(<span>"deviceOrientation"</span><span>, </span><span>"portrait"</span>)<span>;<br/></span><span>    </span>caps.setCapability(<span>"platformVersion"</span><span>, </span><span>"8.1"</span>)<span>;<br/></span><span>    </span>caps.setCapability(<span>"platformName"</span><span>, </span><span>"Android"</span>)<span>;<br/></span><span>    </span>caps.setCapability(<span>"browserName"</span><span>, </span><span>"Chrome"</span>)<span>;<br/></span><span><br/></span><span>    </span><span>// Create an instance of AndroidDriver for testing on Android platform<br/></span><span>    // connect to the local Appium server running on a different machine<br/></span><span>    // We will use WebElement type for testing the Web application<br/></span><span>    </span><span>driver </span>= <span>new </span>AndroidDriver&lt;WebElement&gt;(<span>new </span>URL(<br/>            <span>"http://192.168.0.101:4723/wd/hub"</span>)<span>, </span>caps)<span>;<br/></span><span>    </span><span>driver</span>.get(<span>"http://demo-store.seleniumacademy.com/"</span>)<span>;<br/></span>}</pre>
<p class="mce-root"/>
<p>In the preceding example, we assigned the <kbd>platformName</kbd> capability value to <kbd>Android</kbd>, which will be used by Appium to run tests on Android. As we want to run the tests in Chrome for Android, we have mentioned Chrome in the browser capability section of the code. The other important change we made was using the <kbd>AndroidDriver</kbd> class from the Appium Java client libraries.</p>
<p>Appium will use the first device from the list of devices that <kbd>adb</kbd> returns, as shown in the following screenshot. It will use the desired capabilities that we mentioned, and will launch the Chrome browser on the device and start executing the test-script commands.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Using Device Cloud to run tests on Real Devices</h1>
                </header>
            
            <article>
                
<p>Appium supports testing on mobile simulators, emulators, and real devices. To set up a mobile-testing lab with real devices requires capital investment as well as the maintenance of devices and infrastructure. Mobile phone manufacturers release new phone models and operating system updates almost every day and your application has to be compatible with the new launches.</p>
<p>To respond to these changes faster and keep the investment to a minimum, we can use Cloud-based mobile-testing labs. There are a number of vendors, such as Amazon Web Services, BrowserStack, and Sauce Labs, that provide cloud-based real-mobile-device labs to execute tests without requiring any upfront investment in real devices. You pay only for the amount of time used for testing. These vendors also allow you to run automated tests using Appium in their Device clouds.</p>
<p>In this section, we will explore BrowserStack to run tests on its real-device Cloud:</p>
<ol>
<li>You need to have a BrowserStack account with a subscription to the <strong>Automate</strong> feature. You can sign up for a free trial account at <a href="https://www.browserstack.com/">https://www.browserstack.com/</a>.</li>
<li>We need to get the desired capabilities from BrowserStack based on device combination. BrowserStack provides capability-suggestions based on the selected combination of devices and platforms. Go to <a href="https://www.browserstack.com/automate/java">https://www.browserstack.com/automate/java</a> and select an OS and Device :</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/1b973f88-79a8-4af1-804a-9f548829ccf4.png" style=""/></div>
<p class="mce-root"/>
<ol start="3">
<li>Based on your selection, BrowserStack will auto-generate code using your username and access key:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8b734eee-5357-4da2-9c8a-cfe2a7fe24a3.png"/></div>
<p>We will not use the suggested code in step 3, and instead change our test as shown in the following code. Remember, you need to use the username and access key shown in the auto-generated code:</p>
<pre><span>public class </span>SearchTest {<br/><br/>    <span>private </span>WebDriver <span>driver</span><span>;<br/></span><span><br/></span><span>    </span><span>@BeforeTest<br/></span><span>    </span><span>public void </span><span>setUp</span>() <span>throws </span>Exception {<br/><br/><strong>        String USERNAME = <span>"username"</span><span>;<br/></span><span>        </span>String AUTOMATE_KEY = <span>"access_key"</span><span>;<br/></span><span>        </span>String URL = <span>"https://" </span>+ USERNAME + <span>":" <br/></span><span>                </span>+ AUTOMATE_KEY + <span>"@hub-cloud.browserstack.com/wd/hub"</span><span>;<br/></span><span><br/></span><span>        </span><span>// Set the desired capabilities for iPhone X<br/></span><span>        </span>DesiredCapabilities caps = <span>new </span>DesiredCapabilities()<span>;<br/></span><span>        </span>caps.setCapability(<span>"browserName"</span><span>, </span><span>"iPhone"</span>)<span>;<br/></span><span>        </span>caps.setCapability(<span>"device"</span><span>, </span><span>"iPhone X"</span>)<span>;<br/></span><span>        </span>caps.setCapability(<span>"realMobile"</span><span>, </span><span>"true"</span>)<span>;<br/></span><span>        </span>caps.setCapability(<span>"os_version"</span><span>, </span><span>"11.0"</span>)<span>;<br/></span><span><br/></span><span>        </span><span>driver </span>= <span>new </span>RemoteWebDriver(<span>new </span>URL(URL)<span>, </span>caps)<span>;<br/></span><span>        </span><span>driver</span>.get(<span>"http://demo-store.seleniumacademy.com/"</span>)</strong><span><strong>;</strong><br/></span><span>    </span>}<br/><br/>    <span>@Test<br/></span><span>    </span><span>public void </span><span>searchProduct</span>() {<br/><br/>        WebElement lookingGlassIcon =<br/>                <span>driver</span>.findElement(By<br/>                        .<span>cssSelector</span>(<span>"a.skip-search span.icon"</span>))<span>;<br/></span><span>        </span>lookingGlassIcon.click()<span>;<br/></span><span><br/></span><span>        </span><span>// find search box and enter search string<br/></span><span>        </span>WebElement searchBox = <span>driver</span>.findElement(By.<span>name</span>(<span>"q"</span>))<span>;<br/></span><span>        </span>searchBox.sendKeys(<span>"Phones"</span>)<span>;<br/></span><span><br/></span><span>        </span>WebElement searchButton =<br/>                <span>driver</span>.findElement(By.<span>className</span>(<span>"search-button"</span>))<span>;<br/></span><span><br/></span><span>        </span>searchButton.click()<span>;<br/></span><span><br/></span><span>        </span>List&lt;WebElement&gt; searchItems = <span>new </span>WebDriverWait(<span>driver</span><span>, </span><span>30</span>)<br/>                .until(ExpectedConditions<br/>                        .<span>presenceOfAllElementsLocatedBy</span>(By<br/>                                .<span>cssSelector</span>(<span>"h2.product-name a"</span>)))<span>;<br/></span><span><br/></span><span>        </span><span>assertThat</span>(searchItems.size())<br/>                .isEqualTo(<span>3</span>)<span>;<br/></span><span>    </span>}<br/><br/>    <span>@AfterTest<br/></span><span>    </span><span>public void </span><span>tearDown</span>() <span>throws </span>Exception {<br/>        <span>// Close the browser<br/></span><span>        </span><span>driver</span>.quit()<span>;<br/></span><span>    </span>}<br/>}</pre>
<p class="mce-root"/>
<p>Execute the test from your IDE, and it will run in the BrowserStack cloud. You can monitor the tests in the BrowserStack dashboard where it will show you capabilities used, the status of each step, console logs, network logs, Appium logs, and a video of the execution:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ddd572c8-832e-40f6-b531-f8025357dfe0.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we discussed the different ways a business can reach out to its users on mobile platforms. We also learned about the various software tools that are created using Selenium WebDriver. Finally, we went through one of the upcoming software tools and modified our test script to work with iOS and Android platforms. </p>
<p>In the next <a href="92f91d98-4a76-4ea5-90cd-840ba7fabb96.xhtml">chapter</a>, we will see how to create parameterized and data-driven tests using <kbd>TestNG</kbd>. This will help us to reuse tests and increase test coverage.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Questions</h1>
                </header>
            
            <article>
                
<p class="mce-root"/>
<ol>
<li>What are the different types of mobile apps?</li>
<li>Which classes does the Appium Java Client library provide for testing iOS and Android applications?</li>
<li>What is the command to list the Android devices connected to a computer via USB ports?</li>
<li>What is the default port used by Appium Server?</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Further information</h1>
                </header>
            
            <article>
                
<p><span>You can check out the following link for more information about the topics covered in this chapter:</span></p>
<ul>
<li><span>For more examples of using Appium, please visit its website and GitHub forums at <a href="http://appium.io/">http://appium.io/</a> and <a href="https://github.com/appium/appium/tree/master/sample-code/java">https://github.com/appium/appium/tree/master/sample-code/java</a></span></li>
</ul>


            </article>

            
        </section>
    </body></html>