<html><head></head><body>
  <div id="_idContainer037">
   <h1 class="chapterNumber">
    <a id="_idTextAnchor076">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     3
    </span>
   </h1>
   <h1 class="chapterTitle" id="_idParaDest-71">
    <a id="_idTextAnchor077">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Documenting Your API Effectively
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.3.1">
     Comprehensive
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.4.1">
      documentation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.5.1">
     is
    </span>
    <a id="_idIndexMarker161">
    </a>
    <span class="koboSpan" id="kobo.6.1">
     essential for ensuring clients understand how to use your API effectively.
    </span>
    <span class="koboSpan" id="kobo.6.2">
     In this chapter, we will explore the process of documenting a REST API using
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.7.1">
      Swagger
     </span>
    </strong>
    <span class="koboSpan" id="kobo.8.1">
     annotations
    </span>
    <a id="_idIndexMarker162">
    </a>
    <span class="koboSpan" id="kobo.9.1">
     and best practices.
    </span>
    <span class="koboSpan" id="kobo.9.2">
     We’ll delve into several key topics to provide you with a comprehensive understanding.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.10.1">
     Firstly, we’ll discuss the importance of API specifications by
    </span>
    <a id="_idIndexMarker163">
    </a>
    <span class="koboSpan" id="kobo.11.1">
     examining
    </span>
    <a id="_idIndexMarker164">
    </a>
    <span class="koboSpan" id="kobo.12.1">
     the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.13.1">
      OpenAPI Specification
     </span>
    </strong>
    <span class="koboSpan" id="kobo.14.1">
     and
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.15.1">
      JSON Schema
     </span>
    </strong>
    <span class="koboSpan" id="kobo.16.1">
     , essential standards that define the structure and format of API documentation.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.17.1">
     We’ll also explore the debate
    </span>
    <a id="_idIndexMarker165">
    </a>
    <span class="koboSpan" id="kobo.18.1">
     between
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.19.1">
      code-first
     </span>
    </strong>
    <span class="koboSpan" id="kobo.20.1">
     and
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.21.1">
      specification-first
     </span>
    </strong>
    <span class="koboSpan" id="kobo.22.1">
     approaches
    </span>
    <a id="_idIndexMarker166">
    </a>
    <span class="koboSpan" id="kobo.23.1">
     in API development, discussing their respective advantages and considerations.
    </span>
    <span class="koboSpan" id="kobo.23.2">
     Following this, we’ll document the Product API, illustrating how to use Swagger annotations effectively to describe endpoints, parameters, responses, and other critical details.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.24.1">
     Finally, we’ll demonstrate the practical utility of the
    </span>
    <a id="_idIndexMarker167">
    </a>
    <span class="koboSpan" id="kobo.25.1">
     Swagger
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.26.1">
      user interface
     </span>
    </strong>
    <span class="koboSpan" id="kobo.27.1">
     (
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.28.1">
      UI)
     </span>
    </strong>
    <span class="koboSpan" id="kobo.29.1">
     , a powerful tool for visualizing and interacting with API documentation, enhancing developer experience and facilitating seamless API consumption.
    </span>
    <span class="koboSpan" id="kobo.29.2">
     Through these discussions and examples, you will gain insights into creating well-documented, standardized REST APIs that promote interoperability and ease of use.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.30.1">
     In this chapter, we’ll be covering the following topics:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.31.1">
      Importance of API specifications
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.32.1">
      Introducing OpenAPI and JSON Schema
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.33.1">
      Choosing between specification-first and code-first
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.34.1">
      Documenting the Product API
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.35.1">
      Using the Swagger UI
     </span>
    </li>
   </ul>
   <h1 class="heading-1" id="_idParaDest-72">
    <a id="_idTextAnchor078">
    </a>
    <span class="koboSpan" id="kobo.36.1">
     Technical requirements
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.37.1">
     In this chapter, we will implement the documentation for our Product API.
    </span>
    <span class="koboSpan" id="kobo.37.2">
     To be able to follow along and use the code examples as they are printed in this book, you should have the Product API code that was created in the previous chapter.
    </span>
    <span class="koboSpan" id="kobo.37.3">
     You can access the code for this chapter on GitHub at
    </span>
    <a href="https://github.com/PacktPublishing/Mastering-RESTful-Web-Services-with-Java/tree/main/chapter3">
     <span class="url">
      <span class="koboSpan" id="kobo.38.1">
       https://github.com/PacktPublishing/Mastering-RESTful-Web-Services-with-Java/tree/main/chapter3
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.39.1">
     .
    </span>
    <span class="koboSpan" id="kobo.39.2">
     The code added in this chapter will not change the actual functionality of the API; it will only provide metadata to generate the documentation for the API.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-73">
    <a id="_idTextAnchor079">
    </a>
    <span class="koboSpan" id="kobo.40.1">
     Importance of API specifications
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.41.1">
     Let us begin by discussing
    </span>
    <a id="_idIndexMarker168">
    </a>
    <span class="koboSpan" id="kobo.42.1">
     what API specifications are and why they are important.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.43.1">
     From Java, we know the principles of object-oriented programming.
    </span>
    <span class="koboSpan" id="kobo.43.2">
     One of those principles is
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.44.1">
      encapsulation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.45.1">
     , which
    </span>
    <a id="_idIndexMarker169">
    </a>
    <span class="koboSpan" id="kobo.46.1">
     involves making as many members of a class private as possible.
    </span>
    <span class="koboSpan" id="kobo.46.2">
     Only those members (typically methods) that are explicitly intended for external access should be made public.
    </span>
    <span class="koboSpan" id="kobo.46.3">
     The collection of these public members forms the class’s API.
    </span>
    <span class="koboSpan" id="kobo.46.4">
     It is good practice to accompany the public members by Javadoc so that their usage is clear without seeing the code implementing the class.
    </span>
    <span class="koboSpan" id="kobo.46.5">
     By limiting the size of the public API, we retain the liberty to change or remove the internal (private) members without breaking code outside the class.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.47.1">
     We should also be cautious when defining the signatures of public methods.
    </span>
    <span class="koboSpan" id="kobo.47.2">
     Passing unnecessary data via arguments or return values can cause unnecessary coupling, increase the complexity of the code processing the data (e.g., validations or ensuring immutability), and limit the possibilities of performance optimization.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.48.1">
     A poorly designed API, whose structure is driven more by the ease of technical implementation rather than business requirements, can expose elements that should be hidden.
    </span>
    <span class="koboSpan" id="kobo.48.2">
     Once such an API is in use, it becomes difficult to change because there may be clients outside our control who depend on it.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.49.1">
     If this is true for APIs within a single Java program, it is even more crucial for REST APIs that cross the boundaries of individual programs to have clearly separated interfaces and thorough documentation.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.50.1">
     Although it may be necessary to provide API users with some additional information using prose, we can greatly benefit from describing as much as possible of our API using a formal and machine-readable specification language.
    </span>
    <span class="koboSpan" id="kobo.50.2">
     For REST APIs, the most widely used and advanced
    </span>
    <a id="_idIndexMarker170">
    </a>
    <span class="koboSpan" id="kobo.51.1">
     standard is
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.52.1">
      OpenAPI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.53.1">
     .
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-74">
    <a id="_idTextAnchor080">
    </a>
    <span class="koboSpan" id="kobo.54.1">
     Introducing OpenAPI and JSON Schema
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.55.1">
     The
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.56.1">
      OpenAPI Specification
     </span>
    </strong>
    <span class="koboSpan" id="kobo.57.1">
     , backed
    </span>
    <a id="_idIndexMarker171">
    </a>
    <span class="koboSpan" id="kobo.58.1">
     by the OpenAPI Initiative (
    </span>
    <a href="https://www.openapis.org/">
     <span class="url">
      <span class="koboSpan" id="kobo.59.1">
       https://www.openapis.org/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.60.1">
     ), defines a
    </span>
    <a id="_idIndexMarker172">
    </a>
    <span class="koboSpan" id="kobo.61.1">
     formal language that both humans and computers can read to learn about the capabilities of a service without the following:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.62.1">
      Access to the service implementation code
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.63.1">
      Separate documentation in another format (language)
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.64.1">
      Analyzing the network traffic
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.65.1">
     The OpenAPI Specification was originally based on the Swagger Specification.
    </span>
    <span class="koboSpan" id="kobo.65.2">
     OpenAPI can describe any API using the HTTP protocol, including RESTful APIs at any maturity level.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.66.1">
     OpenAPI Specification documents can be written in JSON and YAML formats.
    </span>
    <span class="koboSpan" id="kobo.66.2">
     The YAML syntax (
    </span>
    <a href="https://yaml.org/">
     <span class="url">
      <span class="koboSpan" id="kobo.67.1">
       https://yaml.org/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.68.1">
     ) replaces
    </span>
    <a id="_idIndexMarker173">
    </a>
    <span class="koboSpan" id="kobo.69.1">
     a lot of the JSON punctuation with indentation; therefore, YAML tends to be more concise and easier to read for many humans.
    </span>
    <span class="koboSpan" id="kobo.69.2">
     In this book, we will use the YAML format for all OpenAPI Specifications written manually (not generated by tools).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.70.1">
     The two most important (and usually longest) parts of a typical OpenAPI Specification are as follows:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.71.1">
       Paths
      </span>
     </strong>
     <span class="koboSpan" id="kobo.72.1">
      : These describe the actions that the API supports, specified by resources, HTTP methods, URI parameters, etc.
     </span>
    </li>
    <li class="bulletList">
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.73.1">
       Schemas
      </span>
     </strong>
     <span class="koboSpan" id="kobo.74.1">
      : These describe the complex data structures of the request and response bodies (payloads)
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.75.1">
     Our Product API uses two paths:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.76.1">
       /api/products/{productId}
      </span>
     </code>
     <span class="koboSpan" id="kobo.77.1">
      : This supports the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.78.1">
       GET
      </span>
     </code>
     <span class="koboSpan" id="kobo.79.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.80.1">
       PUT
      </span>
     </code>
     <span class="koboSpan" id="kobo.81.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.82.1">
       DELETE
      </span>
     </code>
     <span class="koboSpan" id="kobo.83.1">
      , and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.84.1">
       PATCH
      </span>
     </code>
     <span class="koboSpan" id="kobo.85.1">
      methods
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.86.1">
       /api/products
      </span>
     </code>
     <span class="koboSpan" id="kobo.87.1">
      : This supports the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.88.1">
       GET
      </span>
     </code>
     <span class="koboSpan" id="kobo.89.1">
      method only
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.90.1">
     The following schemas are used:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.91.1">
       ProductInput
      </span>
     </code>
     <span class="koboSpan" id="kobo.92.1">
      : This is used for full product data in requests
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.93.1">
       ProductDescriptionInput
      </span>
     </code>
     <span class="koboSpan" id="kobo.94.1">
      : This is used to update the product description only
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.95.1">
       ProductOutput
      </span>
     </code>
     <span class="koboSpan" id="kobo.96.1">
      : This is used for product data in responses
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.97.1">
       ProblemDetail
      </span>
     </code>
     <span class="koboSpan" id="kobo.98.1">
      : This is used for error responses
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.99.1">
     The format we use to transfer complex data through our API is JSON, which is why the schemas part of the OpenAPI Specification uses a dialect of a specification language called JSON Schema.
    </span>
   </p>
   <p class="normal">
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.100.1">
      JSON Schema
     </span>
    </strong>
    <span class="koboSpan" id="kobo.101.1">
     is a separate standard that can be used to validate JSON documents outside the scope of OpenAPI Specifications.
    </span>
    <span class="koboSpan" id="kobo.101.2">
     The schema part of every version of the OpenAPI Specification is based on a version of the JSON Schema standard, plus some OpenAPI-specific modifications.
    </span>
    <span class="koboSpan" id="kobo.101.3">
     This is why it is called
    </span>
    <a id="_idIndexMarker174">
    </a>
    <span class="koboSpan" id="kobo.102.1">
     a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.103.1">
      dialect
     </span>
    </strong>
    <span class="koboSpan" id="kobo.104.1">
     of the JSON Schema.
    </span>
    <span class="koboSpan" id="kobo.104.2">
     It is important to use the features of the schemas section supported by the version of the OpenAPI Specification that we want to use.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.105.1">
     Let’s see what the
    </span>
    <a id="_idIndexMarker175">
    </a>
    <span class="koboSpan" id="kobo.106.1">
     OpenAPI Specification of our Product API would look like.
    </span>
    <span class="koboSpan" id="kobo.106.2">
     We will use YAML syntax.
    </span>
    <span class="koboSpan" id="kobo.106.3">
     In the
    </span>
    <a id="_idIndexMarker176">
    </a>
    <span class="koboSpan" id="kobo.107.1">
     following subsections, some attributes of the API specification are omitted for brevity.
    </span>
    <span class="koboSpan" id="kobo.107.2">
     You can see the full specification in the accompanying GitHub repository at
    </span>
    <a href="https://github.com/PacktPublishing/Mastering-RESTful-Web-Services-with-Java/blob/main/chapter3/product-api/src/main/resources/Product_Catalogue_API.yml">
     <span class="url">
      <span class="koboSpan" id="kobo.108.1">
       https://github.com/PacktPublishing/Mastering-RESTful-Web-Services-with-Java/blob/main/chapter3/product-api/src/main/resources/Product_Catalogue_API.yml
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.109.1">
     .
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-75">
    <a id="_idTextAnchor081">
    </a>
    <span class="koboSpan" id="kobo.110.1">
     Common API metadata
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.111.1">
     Besides the
    </span>
    <a id="_idIndexMarker177">
    </a>
    <span class="koboSpan" id="kobo.112.1">
     two main parts of the specification mentioned earlier, there are header sections providing metadata about the API and its specification.
    </span>
    <span class="koboSpan" id="kobo.112.2">
     They define the version of the OpenAPI standard, the version of our API, the base URL for the API, and some human-readable names and descriptions:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.113.1">openapi</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.114.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.115.1">3.0.1</span></span><span class="koboSpan" id="kobo.116.1">
info</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.117.1">:</span></span><span class="koboSpan" id="kobo.118.1">
  title</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.119.1">:</span></span><span class="koboSpan" id="kobo.120.1"> Product Catalogue API
  description</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.121.1">:</span></span><span class="koboSpan" id="kobo.122.1"> API for managing product catalog
  version</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.123.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.124.1">0.0.1</span></span><span class="koboSpan" id="kobo.125.1">
servers</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.126.1">:</span></span><span class="koboSpan" id="kobo.127.1">
  - url</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.128.1">:</span></span><span class="koboSpan" id="kobo.129.1"> http</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.130.1">:</span></span><span class="hljs-comment"><span class="koboSpan" id="kobo.131.1">//localhost:8080</span></span><span class="koboSpan" id="kobo.132.1">
    description</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.133.1">:</span></span><span class="koboSpan" id="kobo.134.1"> Generated server url
tags</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.135.1">:</span></span><span class="koboSpan" id="kobo.136.1">
  - name</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.137.1">:</span></span><span class="koboSpan" id="kobo.138.1"> products
    description</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.139.1">:</span></span><span class="koboSpan" id="kobo.140.1"> the products API
</span></code></pre>
   <h2 class="heading-2" id="_idParaDest-76">
    <a id="_idTextAnchor082">
    </a>
    <span class="koboSpan" id="kobo.141.1">
     Product API paths
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.142.1">
     The following parts
    </span>
    <a id="_idIndexMarker178">
    </a>
    <span class="koboSpan" id="kobo.143.1">
     of the Product API specification are the paths, starting with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.144.1">
      GET
     </span>
    </code>
    <span class="koboSpan" id="kobo.145.1">
     method for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.146.1">
      /api/products/{productId}
     </span>
    </code>
    <span class="koboSpan" id="kobo.147.1">
     .
    </span>
    <span class="koboSpan" id="kobo.147.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.148.1">
      $ref
     </span>
    </code>
    <span class="koboSpan" id="kobo.149.1">
     notation is used to refer to the schemas.
    </span>
    <span class="koboSpan" id="kobo.149.2">
     There are separate response specifications for the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.150.1">
      200
     </span>
    </code>
    <span class="koboSpan" id="kobo.151.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.152.1">
      400
     </span>
    </code>
    <span class="koboSpan" id="kobo.153.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.154.1">
      404
     </span>
    </code>
    <span class="koboSpan" id="kobo.155.1">
     HTTP response codes.
    </span>
    <span class="koboSpan" id="kobo.155.2">
     We can also see the specification of the required
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.156.1">
      productId
     </span>
    </code>
    <span class="koboSpan" id="kobo.157.1">
     URI parameter:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.158.1">paths</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.159.1">:</span></span><span class="koboSpan" id="kobo.160.1">
  /api/products/</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.161.1">{</span></span><span class="koboSpan" id="kobo.162.1">productId</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.163.1">}:</span></span><span class="koboSpan" id="kobo.164.1">
    get</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.165.1">:</span></span><span class="koboSpan" id="kobo.166.1">
      parameters</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.167.1">:</span></span><span class="koboSpan" id="kobo.168.1">
        - name</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.169.1">:</span></span><span class="koboSpan" id="kobo.170.1"> productId
          in</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.171.1">:</span></span><span class="koboSpan" id="kobo.172.1"> path
          required</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.173.1">:</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.174.1">true</span></span><span class="koboSpan" id="kobo.175.1">
          schema</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.176.1">:</span></span><span class="koboSpan" id="kobo.177.1">
            type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.178.1">:</span></span><span class="koboSpan" id="kobo.179.1"> string
          example</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.180.1">:</span></span><span class="koboSpan" id="kobo.181.1"> AK21109
      responses</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.182.1">:</span></span><span class="koboSpan" id="kobo.183.1">
        '</span><span class="hljs-number"><span class="koboSpan" id="kobo.184.1">200</span></span><span class="koboSpan" id="kobo.185.1">'</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.186.1">:</span></span><span class="koboSpan" id="kobo.187.1">
          content</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.188.1">:</span></span><span class="koboSpan" id="kobo.189.1">
            application/json</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.190.1">:</span></span><span class="koboSpan" id="kobo.191.1">
              schema</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.192.1">:</span></span><span class="koboSpan" id="kobo.193.1">
                $ref</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.194.1">:</span></span><span class="koboSpan" id="kobo.195.1"> '#/components/schemas/ProductOutput'
        '</span><span class="hljs-number"><span class="koboSpan" id="kobo.196.1">400</span></span><span class="koboSpan" id="kobo.197.1">'</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.198.1">:</span></span><span class="koboSpan" id="kobo.199.1">
          content</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.200.1">:</span></span><span class="koboSpan" id="kobo.201.1">
            '*</span><span class="hljs-comment"><span class="koboSpan" id="kobo.202.1">/*':</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.203.1">              schema:</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.204.1">                $ref: '#/components/schemas/ProblemDetail'</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.205.1">        '404':c</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.206.1">          content:</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.207.1">            '*/</span></span><span class="koboSpan" id="kobo.208.1">*'</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.209.1">:</span></span><span class="koboSpan" id="kobo.210.1">
              schema</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.211.1">:</span></span><span class="koboSpan" id="kobo.212.1">
                $ref</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.213.1">:</span></span><span class="koboSpan" id="kobo.214.1"> '#/components/schemas/ProblemDetail'
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.215.1">
     The same path
    </span>
    <a id="_idIndexMarker179">
    </a>
    <span class="koboSpan" id="kobo.216.1">
     continues with the specification of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.217.1">
      PUT
     </span>
    </code>
    <span class="koboSpan" id="kobo.218.1">
     method that needs a request body:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.219.1">    put</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.220.1">:</span></span><span class="koboSpan" id="kobo.221.1">
      parameters</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.222.1">:</span></span><span class="koboSpan" id="kobo.223.1">
        - name</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.224.1">:</span></span><span class="koboSpan" id="kobo.225.1"> productId
          in</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.226.1">:</span></span><span class="koboSpan" id="kobo.227.1"> path
          required</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.228.1">:</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.229.1">true</span></span><span class="koboSpan" id="kobo.230.1">
          schema</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.231.1">:</span></span><span class="koboSpan" id="kobo.232.1">
            type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.233.1">:</span></span><span class="koboSpan" id="kobo.234.1"> string
      requestBody</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.235.1">:</span></span><span class="koboSpan" id="kobo.236.1">
        content</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.237.1">:</span></span><span class="koboSpan" id="kobo.238.1">
          application/json</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.239.1">:</span></span><span class="koboSpan" id="kobo.240.1">
            schema</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.241.1">:</span></span><span class="koboSpan" id="kobo.242.1">
              $ref</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.243.1">:</span></span><span class="koboSpan" id="kobo.244.1"> '#/components/schemas/ProductInput'
        required</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.245.1">:</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.246.1">true</span></span><span class="koboSpan" id="kobo.247.1">
      responses</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.248.1">:</span></span><span class="koboSpan" id="kobo.249.1">
        '</span><span class="hljs-number"><span class="koboSpan" id="kobo.250.1">200</span></span><span class="koboSpan" id="kobo.251.1">'</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.252.1">:</span></span><span class="koboSpan" id="kobo.253.1">
          content</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.254.1">:</span></span><span class="koboSpan" id="kobo.255.1">
            application/json</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.256.1">:</span></span><span class="koboSpan" id="kobo.257.1">
              schema</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.258.1">:</span></span><span class="koboSpan" id="kobo.259.1">
                $ref</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.260.1">:</span></span><span class="koboSpan" id="kobo.261.1"> '#/components/schemas/ProductOutput'
        '</span><span class="hljs-number"><span class="koboSpan" id="kobo.262.1">201</span></span><span class="koboSpan" id="kobo.263.1">'</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.264.1">:</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.265.1">
     (The response bodies for the other status codes are omitted.)
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.266.1">
     Let’s look at one
    </span>
    <a id="_idIndexMarker180">
    </a>
    <span class="koboSpan" id="kobo.267.1">
     more operation: the one returning the list of products (represented by a JSON array):
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.268.1">  /api/products</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.269.1">:</span></span><span class="koboSpan" id="kobo.270.1">
    get</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.271.1">:</span></span><span class="koboSpan" id="kobo.272.1">
      tags</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.273.1">:</span></span><span class="koboSpan" id="kobo.274.1">
        - products
      summary</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.275.1">:</span></span><span class="koboSpan" id="kobo.276.1"> Retrieve all products
      operationId</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.277.1">:</span></span><span class="koboSpan" id="kobo.278.1"> getProducts
      responses</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.279.1">:</span></span><span class="koboSpan" id="kobo.280.1">
        '</span><span class="hljs-number"><span class="koboSpan" id="kobo.281.1">200</span></span><span class="koboSpan" id="kobo.282.1">'</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.283.1">:</span></span><span class="koboSpan" id="kobo.284.1">
          description</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.285.1">:</span></span><span class="koboSpan" id="kobo.286.1"> A list of products
          content</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.287.1">:</span></span><span class="koboSpan" id="kobo.288.1">
            application/json</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.289.1">:</span></span><span class="koboSpan" id="kobo.290.1">
              schema</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.291.1">:</span></span><span class="koboSpan" id="kobo.292.1">
                type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.293.1">:</span></span><span class="koboSpan" id="kobo.294.1"> array
                items</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.295.1">:</span></span><span class="koboSpan" id="kobo.296.1">
                  $ref</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.297.1">:</span></span><span class="koboSpan" id="kobo.298.1">
    '#/components/schemas/ProductOutput'
</span></code></pre>
   <h2 class="heading-2" id="_idParaDest-77">
    <a id="_idTextAnchor083">
    </a>
    <span class="koboSpan" id="kobo.299.1">
     Product API schemas
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.300.1">
     Putting the named
    </span>
    <a id="_idIndexMarker181">
    </a>
    <span class="koboSpan" id="kobo.301.1">
     schemas in a separate part of the specification lets us reuse them for multiple operations, for example, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.302.1">
      ProductOutput
     </span>
    </code>
    <span class="koboSpan" id="kobo.303.1">
     schema.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.304.1">
     Using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.305.1">
      example
     </span>
    </code>
    <span class="koboSpan" id="kobo.306.1">
     attribute, we can provide additional information about the data elements that can be used by both humans and automated tools (test client or mock server generators).
    </span>
    <span class="koboSpan" id="kobo.306.2">
     Without the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.307.1">
      example
     </span>
    </code>
    <span class="koboSpan" id="kobo.308.1">
     attribute, anyone who wants to test our API would have to guess meaningful values solely based on their types.
    </span>
    <span class="koboSpan" id="kobo.308.2">
     Generating random strings would lead to unrealistic examples:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.309.1">components</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.310.1">:</span></span><span class="koboSpan" id="kobo.311.1">
  schemas</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.312.1">:</span></span><span class="koboSpan" id="kobo.313.1">
    ProductOutput</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.314.1">:</span></span><span class="koboSpan" id="kobo.315.1">
      type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.316.1">:</span></span><span class="koboSpan" id="kobo.317.1"> object
      properties</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.318.1">:</span></span><span class="koboSpan" id="kobo.319.1">
        name</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.320.1">:</span></span><span class="koboSpan" id="kobo.321.1">
          type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.322.1">:</span></span><span class="koboSpan" id="kobo.323.1"> string
          example</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.324.1">:</span></span><span class="koboSpan" id="kobo.325.1"> Keyboard
        productId</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.326.1">:</span></span><span class="koboSpan" id="kobo.327.1">
          type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.328.1">:</span></span><span class="koboSpan" id="kobo.329.1"> string
          description</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.330.1">:</span></span><span class="koboSpan" id="kobo.331.1"> ID of the product to delete
          example</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.332.1">:</span></span><span class="koboSpan" id="kobo.333.1"> AK21109
        description</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.334.1">:</span></span><span class="koboSpan" id="kobo.335.1">
          type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.336.1">:</span></span><span class="koboSpan" id="kobo.337.1"> string
          example</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.338.1">:</span></span><span class="koboSpan" id="kobo.339.1"> Ergonomic Keyboard
        price</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.340.1">:</span></span><span class="koboSpan" id="kobo.341.1">
          type</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.342.1">:</span></span><span class="koboSpan" id="kobo.343.1"> number
          example</span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.344.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.345.1">60</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.346.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.347.1">
      ProblemDetail
     </span>
    </code>
    <span class="koboSpan" id="kobo.348.1">
     schema used for error responses is so generic that it is likely that we will want to reuse it across multiple APIs (microservices).
    </span>
    <span class="koboSpan" id="kobo.348.2">
     OpenAPI Specifications can be divided into multiple files.
    </span>
    <span class="koboSpan" id="kobo.348.3">
     We can also host the reusable schemas on a web server and refer to them using HTTP URLs.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.349.1">
     However, we should bear in mind that it brings coupling among the different APIs, so this kind of reuse should only be used with schemas that rarely change (the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.350.1">
      ProblemDetail
     </span>
    </code>
    <span class="koboSpan" id="kobo.351.1">
     schema fulfills this criterion).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.352.1">
     We have introduced the basic structure and the most important attributes of OpenAPI Specifications.
    </span>
    <span class="koboSpan" id="kobo.352.2">
     We will get to more advanced OpenAPI features in the following chapter.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.353.1">
     In the following
    </span>
    <a id="_idIndexMarker182">
    </a>
    <span class="koboSpan" id="kobo.354.1">
     section, you will learn about an important decision you have to make: This is whether you want to start with an explicit abstract specification document, such as the one shown earlier, or derive it from Java code.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-78">
    <a id="_idTextAnchor084">
    </a>
    <span class="koboSpan" id="kobo.355.1">
     Choosing between specification-first and code-first
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.356.1">
     We made it clear that for the success of our API, we need both a concrete implementation and an abstract specification of the interface it implements.
    </span>
    <span class="koboSpan" id="kobo.356.2">
     There are two basic approaches when creating APIs:
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.357.1">
      specification-first
     </span>
    </strong>
    <span class="koboSpan" id="kobo.358.1">
     (also known as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.359.1">
      design-first
     </span>
    </em>
    <span class="koboSpan" id="kobo.360.1">
     or
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.361.1">
      API-first
     </span>
    </em>
    <span class="koboSpan" id="kobo.362.1">
     ) and
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.363.1">
      code-first
     </span>
    </strong>
    <span class="koboSpan" id="kobo.364.1">
     .
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-79">
    <a id="_idTextAnchor085">
    </a>
    <span class="koboSpan" id="kobo.365.1">
     Specification-first
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.366.1">
     Starting with the
    </span>
    <a id="_idIndexMarker183">
    </a>
    <span class="koboSpan" id="kobo.367.1">
     specification forces the API developers to decide upfront what needs to be in the public part of the API.
    </span>
    <span class="koboSpan" id="kobo.367.2">
     Intentional hiding of the details the consumers do not need to know makes the API as small as possible and hence easier to maintain and evolve.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.368.1">
     Here are the pros of specification-first:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.369.1">
      Standalone
     </span>
     <a id="_idIndexMarker184">
     </a>
     <span class="koboSpan" id="kobo.370.1">
      specifications tend to be smaller as they only define the elements of the API needed to satisfy the business requirements; the APIs defined by separate specification documents are easier to maintain, and the specification changes are more controllable.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.371.1">
      Specification-first ensures the API specification is not biased to any implementation language, supporting API providers and consumers written in multiple languages.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.372.1">
      You get the ability to develop the API provider and consumers in parallel.
     </span>
     <span class="koboSpan" id="kobo.372.2">
      The interface between the connected parties can be negotiated without going into the details of the implementation.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.373.1">
      Tests can be created before the API is implemented.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.374.1">
      Specifications written manually (not generated) are easier for humans to read.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.375.1">
     Here are the cons of specification-first:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.376.1">
      The development
     </span>
     <a id="_idIndexMarker185">
     </a>
     <span class="koboSpan" id="kobo.377.1">
      team needs to master the API specification language in addition to the implementation programming language.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.378.1">
      To maintain consistency between the specification and the code, we need tools to generate code stubs from the specification.
     </span>
     <span class="koboSpan" id="kobo.378.2">
      The code generators available may not support all the features of both the specification and the implementation language.
     </span>
    </li>
   </ul>
   <h2 class="heading-2" id="_idParaDest-80">
    <a id="_idTextAnchor086">
    </a>
    <span class="koboSpan" id="kobo.379.1">
     Code-first
    </span>
   </h2>
   <p class="normal">
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.380.1">
      Code-first
     </span>
    </strong>
    <span class="koboSpan" id="kobo.381.1">
     prioritizes the
    </span>
    <a id="_idIndexMarker186">
    </a>
    <span class="koboSpan" id="kobo.382.1">
     short-term speed of implementation over clean interface design.
    </span>
    <span class="koboSpan" id="kobo.382.2">
     The API specification is actually reverse-engineered from the implementation code.
    </span>
    <span class="koboSpan" id="kobo.382.3">
     Annotations on code elements and additional metadata are added manually to aid the tool used to generate the specification.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.383.1">
     Here are the pros of code-first:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.384.1">
      Skipping the
     </span>
     <a id="_idIndexMarker187">
     </a>
     <span class="koboSpan" id="kobo.385.1">
      specification step leads to a working API faster; this makes sense for rapid prototyping or low-impact APIs whose clients are under our control
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.386.1">
      Both the implementation and the interface are written in one language (usually with the help of some annotations or metadata)
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.387.1">
      Having the implementation code available may help to include performance or other non-functional considerations in the API specification
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.388.1">
     Here are the cons of code-first:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.389.1">
      Need to explicitly
     </span>
     <a id="_idIndexMarker188">
     </a>
     <span class="koboSpan" id="kobo.390.1">
      prevent unwanted implementation details from leaking in the generated specification.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.391.1">
      Need to master the specification generation tools with their annotations specific to each implementation language instead of using a standard implementation-agnostic specification language.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.392.1">
      Hard to generate polished and nice-to-read specifications, especially for more complex APIs.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.393.1">
      The structure of the APIs developed without the conscious API design step is likely to reflect the (first) technical implementation rather than the business domain.
     </span>
     <span class="koboSpan" id="kobo.393.2">
      This is why they tend to be hard to maintain and evolve.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.394.1">
     In this chapter, we will demonstrate the code-first approach for the Product API because we already have its implementation code from the previous chapter.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.395.1">
     The specification-first approach will be shown in the following chapter.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-81">
    <a id="_idTextAnchor087">
    </a>
    <span class="koboSpan" id="kobo.396.1">
     Documenting the Product API
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.397.1">
     To document our
    </span>
    <a id="_idIndexMarker189">
    </a>
    <span class="koboSpan" id="kobo.398.1">
     API, we will need to add some dependencies from Swagger.
    </span>
    <span class="koboSpan" id="kobo.398.2">
     In the case of the Spring framework, we have the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.399.1">
      springdoc-openapi-starter-webmvc-ui
     </span>
    </code>
    <span class="koboSpan" id="kobo.400.1">
     dependency, which covers all we need to document the API of the Spring application:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag"><span class="koboSpan" id="kobo.401.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.402.1">dependency</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.403.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.404.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.405.1">groupId</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.406.1">&gt;</span></span><span class="koboSpan" id="kobo.407.1">org.springdoc</span><span class="hljs-tag"><span class="koboSpan" id="kobo.408.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.409.1">groupId</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.410.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.411.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.412.1">artifactId</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.413.1">&gt;</span></span><span class="koboSpan" id="kobo.414.1">springdoc-openapi-starter-webmvc-ui</span><span class="hljs-tag"><span class="koboSpan" id="kobo.415.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.416.1">artifactId</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.417.1">&gt;</span></span>
    <span class="hljs-tag"><span class="koboSpan" id="kobo.418.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.419.1">version</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.420.1">&gt;</span></span><span class="koboSpan" id="kobo.421.1">2.5.0</span><span class="hljs-tag"><span class="koboSpan" id="kobo.422.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.423.1">version</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.424.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.425.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.426.1">dependency</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.427.1">&gt;</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.428.1">
     Adding this dependency in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.429.1">
      pom.xml
     </span>
    </code>
    <span class="koboSpan" id="kobo.430.1">
     allows us to use the Swagger annotations and the Swagger UI.
    </span>
    <span class="koboSpan" id="kobo.430.2">
     After accessing
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.431.1">
      http://localhost:8080/swagger-ui/index.html
     </span>
    </code>
    <span class="koboSpan" id="kobo.432.1">
     , we can see the Swagger UI, represented in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.433.1">
      Figure 3.1
     </span>
    </em>
    <span class="koboSpan" id="kobo.434.1">
     .
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.435.1">
     <img alt="Figure 3.1 – Swagger UI" src="../Images/B21843_03_1.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.436.1">
     Figure 3.1 – Swagger UI
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.437.1">
     The Swagger UI is generated based on
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.438.1">
      RestController
     </span>
    </code>
    <span class="koboSpan" id="kobo.439.1">
     and our endpoints.
    </span>
    <span class="koboSpan" id="kobo.439.2">
     To make our API more user-friendly
    </span>
    <a id="_idIndexMarker190">
    </a>
    <span class="koboSpan" id="kobo.440.1">
     and comprehensible for clients, we should enhance it using Swagger annotations.
    </span>
    <span class="koboSpan" id="kobo.440.2">
     These annotations are available in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.441.1">
      io.swagger.v3.oas.annotations
     </span>
    </code>
    <span class="koboSpan" id="kobo.442.1">
     package.
    </span>
    <span class="koboSpan" id="kobo.442.2">
     Let us explore some of them and see how they can be applied to improve our API documentation.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-82">
    <a id="_idTextAnchor088">
    </a>
    <span class="koboSpan" id="kobo.443.1">
     Swagger annotations
    </span>
   </h2>
   <p class="normal">
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.444.1">
      Swagger annotations
     </span>
    </strong>
    <span class="koboSpan" id="kobo.445.1">
     are a
    </span>
    <a id="_idIndexMarker191">
    </a>
    <span class="koboSpan" id="kobo.446.1">
     set of annotations provided by
    </span>
    <a id="_idIndexMarker192">
    </a>
    <span class="koboSpan" id="kobo.447.1">
     the Swagger library used to generate interactive API documentation for RESTful web services.
    </span>
    <span class="koboSpan" id="kobo.447.2">
     These annotations, when added to your code, help define and describe the structure and behavior of your API endpoints, request and response models, and overall API metadata.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-83">
    <a id="_idTextAnchor089">
    </a>
    <span class="koboSpan" id="kobo.448.1">
     @Tag
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.449.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.450.1">
      @Tag
     </span>
    </code>
    <span class="koboSpan" id="kobo.451.1">
     annotation is
    </span>
    <a id="_idIndexMarker193">
    </a>
    <span class="koboSpan" id="kobo.452.1">
     used to group a set of operations; we
    </span>
    <a id="_idIndexMarker194">
    </a>
    <span class="koboSpan" id="kobo.453.1">
     can use it in our API class to inform that every method in this class should belong to this tag:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.454.1">@</span><span class="hljs-title"><span class="koboSpan" id="kobo.455.1">Tag</span></span><span class="koboSpan" id="kobo.456.1">(name = </span><span class="hljs-string"><span class="koboSpan" id="kobo.457.1">"products"</span></span><span class="koboSpan" id="kobo.458.1">, description = </span><span class="hljs-string"><span class="koboSpan" id="kobo.459.1">"the products API"</span></span><span class="koboSpan" id="kobo.460.1">)
public interface </span><span class="hljs-title"><span class="koboSpan" id="kobo.461.1">ProductsApi</span></span><span class="koboSpan" id="kobo.462.1"> {
....
</span><span class="koboSpan" id="kobo.462.2">}
</span></code></pre>
   <h3 class="heading-3" id="_idParaDest-84">
    <a id="_idTextAnchor090">
    </a>
    <span class="koboSpan" id="kobo.463.1">
     @Operation
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.464.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.465.1">
      @Operation
     </span>
    </code>
    <span class="koboSpan" id="kobo.466.1">
     annotation is
    </span>
    <a id="_idIndexMarker195">
    </a>
    <span class="koboSpan" id="kobo.467.1">
     used in method
    </span>
    <a id="_idIndexMarker196">
    </a>
    <span class="koboSpan" id="kobo.468.1">
     declarations to name API endpoints.
    </span>
    <span class="koboSpan" id="kobo.468.2">
     This annotation can be combined with other annotations to provide a comprehensive description of the endpoint, including possible outputs and HTTP status codes:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.469.1">@</span><span class="hljs-title"><span class="koboSpan" id="kobo.470.1">Operation</span></span><span class="koboSpan" id="kobo.471.1">(
    operationId = </span><span class="hljs-string"><span class="koboSpan" id="kobo.472.1">"deleteProduct"</span></span><span class="koboSpan" id="kobo.473.1">,
    summary = </span><span class="hljs-string"><span class="koboSpan" id="kobo.474.1">"Logical remove a product by ID"</span></span><span class="koboSpan" id="kobo.475.1">,
    responses = {
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.476.1">ApiResponse</span></span><span class="koboSpan" id="kobo.477.1">(responseCode = </span><span class="hljs-string"><span class="koboSpan" id="kobo.478.1">"204"</span></span><span class="koboSpan" id="kobo.479.1">,
            description = </span><span class="hljs-string"><span class="koboSpan" id="kobo.480.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.481.1">Product removed successfully"</span></span><span class="koboSpan" id="kobo.482.1">),
    }
)
</span><span class="hljs-title"><span class="koboSpan" id="kobo.483.1">ResponseEntity</span></span><span class="koboSpan" id="kobo.484.1">&lt;</span><span class="hljs-title"><span class="koboSpan" id="kobo.485.1">Void</span></span><span class="koboSpan" id="kobo.486.1">&gt; </span><span class="hljs-title"><span class="koboSpan" id="kobo.487.1">deleteProduct</span></span><span class="koboSpan" id="kobo.488.1">(
    @</span><span class="hljs-title"><span class="koboSpan" id="kobo.489.1">Parameter</span></span><span class="koboSpan" id="kobo.490.1">(name = </span><span class="hljs-string"><span class="koboSpan" id="kobo.491.1">"productId"</span></span><span class="koboSpan" id="kobo.492.1">,
        description = </span><span class="hljs-string"><span class="koboSpan" id="kobo.493.1">"ID of the product to delete"</span></span><span class="koboSpan" id="kobo.494.1">, required = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.495.1">true</span></span><span class="koboSpan" id="kobo.496.1">,
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.497.1">in</span></span><span class="koboSpan" id="kobo.498.1"> = </span><span class="hljs-title"><span class="koboSpan" id="kobo.499.1">ParameterIn</span></span><span class="koboSpan" id="kobo.500.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.501.1">PATH</span></span><span class="koboSpan" id="kobo.502.1">, example = </span><span class="hljs-string"><span class="koboSpan" id="kobo.503.1">"AK21109"</span></span><span class="koboSpan" id="kobo.504.1">) @</span><span class="hljs-title"><span class="koboSpan" id="kobo.505.1">ValidSku</span></span>
        <span class="hljs-title"><span class="koboSpan" id="kobo.506.1">String</span></span><span class="koboSpan" id="kobo.507.1"> productId
);
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.508.1">
     In the preceding code, we are using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.509.1">
      @Operation
     </span>
    </code>
    <span class="koboSpan" id="kobo.510.1">
     annotation to define the description for our
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.511.1">
      delete
     </span>
    </code>
    <span class="koboSpan" id="kobo.512.1">
     endpoint.
    </span>
    <span class="koboSpan" id="kobo.512.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.513.1">
      @ApiResponse
     </span>
    </code>
    <span class="koboSpan" id="kobo.514.1">
     annotation is used to add the possible response status, in this case,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.515.1">
      204
     </span>
    </code>
    <span class="koboSpan" id="kobo.516.1">
     , which represents that the product was removed successfully.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-85">
    <a id="_idTextAnchor091">
    </a>
    <span class="koboSpan" id="kobo.517.1">
     @Parameter
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.518.1">
     In our previous example, we
    </span>
    <a id="_idIndexMarker197">
    </a>
    <span class="koboSpan" id="kobo.519.1">
     used the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.520.1">
      @Parameter
     </span>
    </code>
    <span class="koboSpan" id="kobo.521.1">
     annotation.
    </span>
    <span class="koboSpan" id="kobo.521.2">
     This
    </span>
    <a id="_idIndexMarker198">
    </a>
    <span class="koboSpan" id="kobo.522.1">
     annotation is specifically designed to be applied to method parameters, allowing for the definition of clear descriptions, examples, and additional information about each parameter.
    </span>
    <span class="koboSpan" id="kobo.522.2">
     Such details are very useful for API consumers, as they provide clear examples and essential information, enhancing the usability of the API.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-86">
    <a id="_idTextAnchor092">
    </a>
    <span class="koboSpan" id="kobo.523.1">
     @ApiResponse
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.524.1">
     In our previous
    </span>
    <a id="_idIndexMarker199">
    </a>
    <span class="koboSpan" id="kobo.525.1">
     example, we applied the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.526.1">
      @ApiResponse
     </span>
    </code>
    <span class="koboSpan" id="kobo.527.1">
     annotation.
    </span>
    <span class="koboSpan" id="kobo.527.2">
     This annotation serves to specify the
    </span>
    <a id="_idIndexMarker200">
    </a>
    <span class="koboSpan" id="kobo.528.1">
     potential responses from our API endpoint, detailing the HTTP status and response type, and providing examples where applicable.
    </span>
    <span class="koboSpan" id="kobo.528.2">
     In our previous case, there was no return body, as it is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.529.1">
      204
     </span>
    </code>
    <span class="koboSpan" id="kobo.530.1">
     ; let’s see an example for a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.531.1">
      GET
     </span>
    </code>
    <span class="koboSpan" id="kobo.532.1">
     operation:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.533.1">@</span><span class="hljs-title"><span class="koboSpan" id="kobo.534.1">Operation</span></span><span class="koboSpan" id="kobo.535.1">(
    operationId = </span><span class="hljs-string"><span class="koboSpan" id="kobo.536.1">"getProductById"</span></span><span class="koboSpan" id="kobo.537.1">,
    summary = </span><span class="hljs-string"><span class="koboSpan" id="kobo.538.1">"Retrieve a product by ID"</span></span><span class="koboSpan" id="kobo.539.1">,
    responses = {
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.540.1">ApiResponse</span></span><span class="koboSpan" id="kobo.541.1">(responseCode = </span><span class="hljs-string"><span class="koboSpan" id="kobo.542.1">"200"</span></span><span class="koboSpan" id="kobo.543.1">, description = </span><span class="hljs-string"><span class="koboSpan" id="kobo.544.1">"Product found"</span></span><span class="koboSpan" id="kobo.545.1">,
            content = {
                @</span><span class="hljs-title"><span class="koboSpan" id="kobo.546.1">Content</span></span><span class="koboSpan" id="kobo.547.1">(mediaType = </span><span class="hljs-string"><span class="koboSpan" id="kobo.548.1">"application/json"</span></span><span class="koboSpan" id="kobo.549.1">,
                schema = @</span><span class="hljs-title"><span class="koboSpan" id="kobo.550.1">Schema</span></span><span class="koboSpan" id="kobo.551.1">(implementation = </span><span class="hljs-title"><span class="koboSpan" id="kobo.552.1">ProductOutput</span></span><span class="koboSpan" id="kobo.553.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.554.1">class</span></span><span class="koboSpan" id="kobo.555.1">))}),
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.556.1">ApiResponse</span></span><span class="koboSpan" id="kobo.557.1">(responseCode = </span><span class="hljs-string"><span class="koboSpan" id="kobo.558.1">"404"</span></span><span class="koboSpan" id="kobo.559.1">,
            description = </span><span class="hljs-string"><span class="koboSpan" id="kobo.560.1">"Product not found"</span></span><span class="koboSpan" id="kobo.561.1">,content = @</span><span class="hljs-title"><span class="koboSpan" id="kobo.562.1">Content</span></span><span class="koboSpan" id="kobo.563.1">(
                schema = @</span><span class="hljs-title"><span class="koboSpan" id="kobo.564.1">Schema</span></span><span class="koboSpan" id="kobo.565.1">(implementation = </span><span class="hljs-title"><span class="koboSpan" id="kobo.566.1">ProblemDetail</span></span><span class="koboSpan" id="kobo.567.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.568.1">class</span></span><span class="koboSpan" id="kobo.569.1">),
                examples = {
                    @</span><span class="hljs-title"><span class="koboSpan" id="kobo.570.1">ExampleObject</span></span><span class="koboSpan" id="kobo.571.1">(name = </span><span class="hljs-string"><span class="koboSpan" id="kobo.572.1">"Validation Error"</span></span><span class="koboSpan" id="kobo.573.1">,
                        summary = </span><span class="hljs-string"><span class="koboSpan" id="kobo.574.1">"Example of validation error"</span></span><span class="koboSpan" id="kobo.575.1">,
                        value = </span><span class="hljs-string"><span class="koboSpan" id="kobo.576.1">"""</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.577.1">                        {"</span></span><span class="koboSpan" id="kobo.578.1">type</span><span class="hljs-string"><span class="koboSpan" id="kobo.579.1">":"</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.580.1">about</span></span><span class="koboSpan" id="kobo.581.1">:blank</span><span class="hljs-string"><span class="koboSpan" id="kobo.582.1">",</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.583.1">                         "</span></span><span class="koboSpan" id="kobo.584.1">title</span><span class="hljs-string"><span class="koboSpan" id="kobo.585.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.586.1">: "</span></span><span class="hljs-title"><span class="koboSpan" id="kobo.587.1">Not</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.588.1">Found</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.589.1">",</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.590.1">                         "</span></span><span class="koboSpan" id="kobo.591.1">status</span><span class="hljs-string"><span class="koboSpan" id="kobo.592.1">": 404,</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.593.1">                         "</span></span><span class="koboSpan" id="kobo.594.1">detail</span><span class="hljs-string"><span class="koboSpan" id="kobo.595.1">": "</span></span><span class="hljs-title"><span class="koboSpan" id="kobo.596.1">Product</span></span><span class="koboSpan" id="kobo.597.1"> not found </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.598.1">with</span></span><span class="koboSpan" id="kobo.599.1"> id </span><span class="hljs-title"><span class="koboSpan" id="kobo.600.1">AK21102</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.601.1">",</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.602.1">                         "</span></span><span class="koboSpan" id="kobo.603.1">instance</span><span class="hljs-string"><span class="koboSpan" id="kobo.604.1">": "</span></span><span class="koboSpan" id="kobo.605.1">/api/products/</span><span class="hljs-title"><span class="koboSpan" id="kobo.606.1">AK21102</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.607.1">"</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.608.1">                         }</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.609.1">"""</span></span><span class="koboSpan" id="kobo.610.1">)}))})
</span><span class="hljs-title"><span class="koboSpan" id="kobo.611.1">ResponseEntity</span></span><span class="koboSpan" id="kobo.612.1">&lt;</span><span class="hljs-title"><span class="koboSpan" id="kobo.613.1">ProductOutput</span></span><span class="koboSpan" id="kobo.614.1">&gt; </span><span class="hljs-title"><span class="koboSpan" id="kobo.615.1">getProductById</span></span><span class="koboSpan" id="kobo.616.1">(
    @</span><span class="hljs-title"><span class="koboSpan" id="kobo.617.1">Parameter</span></span><span class="koboSpan" id="kobo.618.1">(name = </span><span class="hljs-string"><span class="koboSpan" id="kobo.619.1">"productId"</span></span><span class="koboSpan" id="kobo.620.1">,
        description = </span><span class="hljs-string"><span class="koboSpan" id="kobo.621.1">"ID of the product to delete"</span></span><span class="koboSpan" id="kobo.622.1">, required = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.623.1">true</span></span><span class="koboSpan" id="kobo.624.1">,
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.625.1">in</span></span><span class="koboSpan" id="kobo.626.1"> = </span><span class="hljs-title"><span class="koboSpan" id="kobo.627.1">ParameterIn</span></span><span class="koboSpan" id="kobo.628.1">.</span><span class="hljs-property"><span class="koboSpan" id="kobo.629.1">PATH</span></span><span class="koboSpan" id="kobo.630.1">, example = </span><span class="hljs-string"><span class="koboSpan" id="kobo.631.1">"AK21109"</span></span><span class="koboSpan" id="kobo.632.1">)
    @</span><span class="hljs-title"><span class="koboSpan" id="kobo.633.1">ValidSku</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.634.1">String</span></span><span class="koboSpan" id="kobo.635.1"> productId
);
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.636.1">
     In our example, we have two instances of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.637.1">
      @ApiResponse
     </span>
    </code>
    <span class="koboSpan" id="kobo.638.1">
     , the first for successful responses with a
    </span>
    <a id="_idIndexMarker201">
    </a>
    <span class="koboSpan" id="kobo.639.1">
     status code of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.640.1">
      200
     </span>
    </code>
    <span class="koboSpan" id="kobo.641.1">
     .
    </span>
    <span class="koboSpan" id="kobo.641.2">
     In this scenario, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.642.1">
      @Schema
     </span>
    </code>
    <span class="koboSpan" id="kobo.643.1">
     annotation to reference the implementation class, specifically
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.644.1">
      ProductOutput.class
     </span>
    </code>
    <span class="koboSpan" id="kobo.645.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.646.1">
     The second
    </span>
    <a id="_idIndexMarker202">
    </a>
    <span class="koboSpan" id="kobo.647.1">
     instance pertains to a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.648.1">
      404
     </span>
    </code>
    <span class="koboSpan" id="kobo.649.1">
     error, utilizing a schema outside our domain, namely
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.650.1">
      ProblemDetail.class
     </span>
    </code>
    <span class="koboSpan" id="kobo.651.1">
     from Spring.
    </span>
    <span class="koboSpan" id="kobo.651.2">
     In this case, we use another annotation from Swagger, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.652.1">
      @ExampleObject
     </span>
    </code>
    <span class="koboSpan" id="kobo.653.1">
     annotation, to create a structured JSON representation of the expected error response, using Java’s text block feature to enhance readability.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-87">
    <a id="_idTextAnchor093">
    </a>
    <span class="koboSpan" id="kobo.654.1">
     @Schema
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.655.1">
     In our previous
    </span>
    <a id="_idIndexMarker203">
    </a>
    <span class="koboSpan" id="kobo.656.1">
     example, we used the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.657.1">
      @Schema
     </span>
    </code>
    <span class="koboSpan" id="kobo.658.1">
     annotation
    </span>
    <a id="_idIndexMarker204">
    </a>
    <span class="koboSpan" id="kobo.659.1">
     to identify the content for the API response.
    </span>
    <span class="koboSpan" id="kobo.659.2">
     This annotation is also used to describe the fields of the request and response models.
    </span>
    <span class="koboSpan" id="kobo.659.3">
     Let’s look at an example using
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.660.1">
      ProductInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.661.1">
     :
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.662.1">public record </span><span class="hljs-title"><span class="koboSpan" id="kobo.663.1">ProductInput</span></span><span class="koboSpan" id="kobo.664.1">(
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.665.1">NotBlank</span></span><span class="koboSpan" id="kobo.666.1">
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.667.1">Size</span></span><span class="koboSpan" id="kobo.668.1">(min = </span><span class="hljs-number"><span class="koboSpan" id="kobo.669.1">3</span></span><span class="koboSpan" id="kobo.670.1">, max = </span><span class="hljs-number"><span class="koboSpan" id="kobo.671.1">255</span></span><span class="koboSpan" id="kobo.672.1">)
        </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.673.1">@</span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.674.1">Schema</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.675.1">(name = </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.676.1">"name"</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.677.1">,</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.678.1">           requiredMode = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.679.1">Schema</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.680.1">.RequiredMode.REQUIRED,</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.681.1">           example = </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.682.1">"Keyboard"</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.683.1">)</span></strong></span><span class="koboSpan" id="kobo.684.1">
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.685.1">JsonProperty</span></span><span class="koboSpan" id="kobo.686.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.687.1">"name"</span></span><span class="koboSpan" id="kobo.688.1">)
        </span><span class="hljs-title"><span class="koboSpan" id="kobo.689.1">String</span></span><span class="koboSpan" id="kobo.690.1"> name,
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.691.1">NotBlank</span></span><span class="koboSpan" id="kobo.692.1">
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.693.1">Size</span></span><span class="koboSpan" id="kobo.694.1">(min = </span><span class="hljs-number"><span class="koboSpan" id="kobo.695.1">10</span></span><span class="koboSpan" id="kobo.696.1">, max = </span><span class="hljs-number"><span class="koboSpan" id="kobo.697.1">255</span></span><span class="koboSpan" id="kobo.698.1">)
        </span><span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.699.1">@Schema</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.700.1">(name = </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.701.1">"description"</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.702.1">,</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.703.1">           requiredMode = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.704.1">Schema</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.705.1">.RequiredMode.REQUIRED,</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.706.1">           example = </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.707.1">"Ergonomic Keyboard")</span></strong></span><span class="koboSpan" id="kobo.708.1">
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.709.1">JsonProperty</span></span><span class="koboSpan" id="kobo.710.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.711.1">"description"</span></span><span class="koboSpan" id="kobo.712.1">)
        </span><span class="hljs-title"><span class="koboSpan" id="kobo.713.1">String</span></span><span class="koboSpan" id="kobo.714.1"> description,
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.715.1">NotNull</span></span><span class="koboSpan" id="kobo.716.1">
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.717.1">Positive</span></span>
        <span class="code-highlight"><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.718.1">@Schema</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.719.1">(name = </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.720.1">"price",</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.721.1">           requiredMode = </span></strong><strong class="hljs-title-slc"><span class="koboSpan" id="kobo.722.1">Schema</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.723.1">.RequiredMode.REQUIRED,</span></strong></span>
<span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.724.1">           example = </span></strong><strong class="hljs-string-slc"><span class="koboSpan" id="kobo.725.1">"60.0"</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.726.1">)</span></strong></span><span class="koboSpan" id="kobo.727.1">
        @</span><span class="hljs-title"><span class="koboSpan" id="kobo.728.1">JsonProperty</span></span><span class="koboSpan" id="kobo.729.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.730.1">"price"</span></span><span class="koboSpan" id="kobo.731.1">)
        </span><span class="hljs-title"><span class="koboSpan" id="kobo.732.1">BigDecimal</span></span><span class="koboSpan" id="kobo.733.1"> price) {
}
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.734.1">
     In this example, we are using
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.735.1">
      @Schema
     </span>
    </code>
    <span class="koboSpan" id="kobo.736.1">
     to define the name of each field, indicate whether the field is required, and provide an example value.
    </span>
    <span class="koboSpan" id="kobo.736.2">
     The example value is especially useful for new API users, as it offers clear information about the expected input and output.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.737.1">
     By incorporating bean validation, we enhance our API with additional information about the fields.
    </span>
    <span class="koboSpan" id="kobo.737.2">
     The generated code for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.738.1">
      ProductInput
     </span>
    </code>
    <span class="koboSpan" id="kobo.739.1">
     will look something like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code">    <span class="hljs-attr"><span class="koboSpan" id="kobo.740.1">"ProductInput"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.741.1">:</span></span> <span class="hljs-punctuation"><span class="koboSpan" id="kobo.742.1">{</span></span>
        <span class="hljs-attr"><span class="koboSpan" id="kobo.743.1">"required"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.744.1">:</span></span> <span class="hljs-punctuation"><span class="koboSpan" id="kobo.745.1">[</span></span>
            <span class="hljs-string"><span class="koboSpan" id="kobo.746.1">"description"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.747.1">,</span></span>
            <span class="hljs-string"><span class="koboSpan" id="kobo.748.1">"name"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.749.1">,</span></span>
            <span class="hljs-string"><span class="koboSpan" id="kobo.750.1">"price"</span></span>
        <span class="hljs-punctuation"><span class="koboSpan" id="kobo.751.1">],</span></span>
        <span class="hljs-attr"><span class="koboSpan" id="kobo.752.1">"type"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.753.1">:</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.754.1">"object"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.755.1">,</span></span>
        <span class="hljs-attr"><span class="koboSpan" id="kobo.756.1">"properties"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.757.1">:</span></span> <span class="hljs-punctuation"><span class="koboSpan" id="kobo.758.1">{</span></span>
            <span class="hljs-attr"><span class="koboSpan" id="kobo.759.1">"name"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.760.1">:</span></span> <span class="hljs-punctuation"><span class="koboSpan" id="kobo.761.1">{</span></span>
            <span class="hljs-attr"><span class="koboSpan" id="kobo.762.1">"maxLength"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.763.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.764.1">255</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.765.1">,</span></span>
            <span class="hljs-attr"><span class="koboSpan" id="kobo.766.1">"minLength"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.767.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.768.1">3</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.769.1">,</span></span>
            <span class="hljs-attr"><span class="koboSpan" id="kobo.770.1">"type"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.771.1">:</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.772.1">"string"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.773.1">,</span></span>
            <span class="hljs-attr"><span class="koboSpan" id="kobo.774.1">"example"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.775.1">:</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.776.1">"Keyboard"</span></span>
            <span class="hljs-punctuation"><span class="koboSpan" id="kobo.777.1">},</span></span>
            <span class="hljs-attr"><span class="koboSpan" id="kobo.778.1">"description"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.779.1">:</span></span> <span class="hljs-punctuation"><span class="koboSpan" id="kobo.780.1">{</span></span>
                <span class="hljs-attr"><span class="koboSpan" id="kobo.781.1">"maxLength"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.782.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.783.1">255</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.784.1">,</span></span>
                <span class="hljs-attr"><span class="koboSpan" id="kobo.785.1">"minLength"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.786.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.787.1">10</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.788.1">,</span></span>
                <span class="hljs-attr"><span class="koboSpan" id="kobo.789.1">"</span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.790.1">type"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.791.1">:</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.792.1">"string"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.793.1">,</span></span>
                <span class="hljs-attr"><span class="koboSpan" id="kobo.794.1">"example"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.795.1">:</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.796.1">"Ergonomic Keyboard"</span></span>
            <span class="hljs-punctuation"><span class="koboSpan" id="kobo.797.1">},</span></span>
            <span class="hljs-attr"><span class="koboSpan" id="kobo.798.1">"price"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.799.1">:</span></span> <span class="hljs-punctuation"><span class="koboSpan" id="kobo.800.1">{</span></span>
                <span class="hljs-attr"><span class="koboSpan" id="kobo.801.1">"type"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.802.1">:</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.803.1">"number"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.804.1">,</span></span>
                <span class="hljs-attr"><span class="koboSpan" id="kobo.805.1">"example"</span></span><span class="hljs-punctuation"><span class="koboSpan" id="kobo.806.1">:</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.807.1">60</span></span>
            <span class="hljs-punctuation"><span class="koboSpan" id="kobo.808.1">}</span></span>
        <span class="hljs-punctuation"><span class="koboSpan" id="kobo.809.1">}</span></span>
    <span class="hljs-punctuation"><span class="koboSpan" id="kobo.810.1">}</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.811.1">
     By applying
    </span>
    <a id="_idIndexMarker205">
    </a>
    <span class="koboSpan" id="kobo.812.1">
     these
    </span>
    <a id="_idIndexMarker206">
    </a>
    <span class="koboSpan" id="kobo.813.1">
     annotations throughout our entire API, we achieve clear and well-defined documentation.
    </span>
    <span class="koboSpan" id="kobo.813.2">
     Now, we can revisit the Swagger UI to review and explore the updated documentation.
    </span>
   </p>
   <div class="note">
    <div>
     <span class="koboSpan" id="kobo.814.1">
      <img alt="img" src="../Images/Information_Box_Icon.png"/>
     </span>
    </div>
    <p class="normal">
     <span class="koboSpan" id="kobo.815.1">
      Note
     </span>
    </p>
    <p class="normal">
     <span class="koboSpan" id="kobo.816.1">
      Many mock servers use the Swagger implementation to generate mocks; having a clear definition and examples for the input and output is essential to generate better mocks.
     </span>
    </p>
   </div>
   <h1 class="heading-1" id="_idParaDest-88">
    <a id="_idTextAnchor094">
    </a>
    <span class="koboSpan" id="kobo.817.1">
     Using the Swagger UI
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.818.1">
     The
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.819.1">
      Swagger UI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.820.1">
     is a web-based
    </span>
    <a id="_idIndexMarker207">
    </a>
    <span class="koboSpan" id="kobo.821.1">
     interface that provides interactive documentation for APIs.
    </span>
    <span class="koboSpan" id="kobo.821.2">
     It allows developers to visualize and execute API endpoints, making it easier to understand and experiment with the API.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.822.1">
     Before accessing the Swagger UI, let’s add one more annotation from Swagger: the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.823.1">
      OpenAPI
     </span>
    </code>
    <span class="koboSpan" id="kobo.824.1">
     annotation.
    </span>
    <span class="koboSpan" id="kobo.824.2">
     This contains some metadata from our API.
    </span>
    <span class="koboSpan" id="kobo.824.3">
     We can do that in Spring by defining the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.825.1">
      OpenAPI
     </span>
    </code>
    <span class="koboSpan" id="kobo.826.1">
     bean:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.827.1">@</span><span class="hljs-title"><span class="koboSpan" id="kobo.828.1">Configuration</span></span><span class="koboSpan" id="kobo.829.1">
public </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.830.1">class</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.831.1">SpringDocConfiguration</span></span><span class="koboSpan" id="kobo.832.1"> {
  @</span><span class="hljs-title"><span class="koboSpan" id="kobo.833.1">Bean</span></span>
  <span class="hljs-title"><span class="koboSpan" id="kobo.834.1">OpenAPI</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.835.1">apiInfo</span></span><span class="koboSpan" id="kobo.836.1">(
</span><span class="hljs-params"><span class="koboSpan" id="kobo.837.1">    @Value(</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.838.1">"${application.version}"</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.839.1">) </span></span><span class="hljs-built_in"><span class="koboSpan" id="kobo.840.1">String</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.841.1"> version</span></span><span class="koboSpan" id="kobo.842.1">) {
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.843.1">return</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.844.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.845.1">OpenAPI</span></span><span class="koboSpan" id="kobo.846.1">().</span><span class="hljs-title"><span class="koboSpan" id="kobo.847.1">info</span></span><span class="koboSpan" id="kobo.848.1">(
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.849.1">new</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.850.1">Info</span></span><span class="koboSpan" id="kobo.851.1">()
        .</span><span class="hljs-title"><span class="koboSpan" id="kobo.852.1">title</span></span><span class="koboSpan" id="kobo.853.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.854.1">"Product Catalogue API"</span></span><span class="koboSpan" id="kobo.855.1">)
        .</span><span class="hljs-title"><span class="koboSpan" id="kobo.856.1">description</span></span><span class="koboSpan" id="kobo.857.1">(</span><span class="hljs-string"><span class="koboSpan" id="kobo.858.1">"API for managing product catalog"</span></span><span class="koboSpan" id="kobo.859.1">)
        .</span><span class="hljs-title"><span class="koboSpan" id="kobo.860.1">version</span></span><span class="koboSpan" id="kobo.861.1">(version));
  }
}
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.862.1">
     In this code, we use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.863.1">
      OpenAPI
     </span>
    </code>
    <span class="koboSpan" id="kobo.864.1">
     bean from Swagger to define metadata information.
    </span>
    <span class="koboSpan" id="kobo.864.2">
     Specifically, we set
    </span>
    <a id="_idIndexMarker208">
    </a>
    <span class="koboSpan" id="kobo.865.1">
     the title, description, and version of the API.
    </span>
    <span class="koboSpan" id="kobo.865.2">
     The version information is retrieved from the application properties, allowing us to synchronize it with the version specified in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.866.1">
      pom.xml
     </span>
    </code>
    <span class="koboSpan" id="kobo.867.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.868.1">
     This annotation supports the following metadata items:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.869.1">
       openapi
      </span>
     </code>
     <span class="koboSpan" id="kobo.870.1">
      : The version of the OpenAPI specification.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.871.1">
       info
      </span>
     </code>
     <span class="koboSpan" id="kobo.872.1">
      : This provides metadata about the API:
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.873.1">
       title
      </span>
     </code>
     <span class="koboSpan" id="kobo.874.1">
      : The title of the API
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.875.1">
       version
      </span>
     </code>
     <span class="koboSpan" id="kobo.876.1">
      : The version of the API
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.877.1">
       description
      </span>
     </code>
     <span class="koboSpan" id="kobo.878.1">
      : A brief description of the API
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.879.1">
       termsOfService
      </span>
     </code>
     <span class="koboSpan" id="kobo.880.1">
      : A URL to the terms of service for the API
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.881.1">
       contact
      </span>
     </code>
     <span class="koboSpan" id="kobo.882.1">
      : Contact information for the API
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.883.1">
       license
      </span>
     </code>
     <span class="koboSpan" id="kobo.884.1">
      : License information for the API
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.885.1">
       servers
      </span>
     </code>
     <span class="koboSpan" id="kobo.886.1">
      : This specifies
     </span>
     <a id="_idIndexMarker209">
     </a>
     <span class="koboSpan" id="kobo.887.1">
      the servers where the API can be accessed:
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.888.1">
       url
      </span>
     </code>
     <span class="koboSpan" id="kobo.889.1">
      : The URL of the server
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.890.1">
       description
      </span>
     </code>
     <span class="koboSpan" id="kobo.891.1">
      : A description of the server
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.892.1">
       paths
      </span>
     </code>
     <span class="koboSpan" id="kobo.893.1">
      : The available endpoints for the API; this is usually generated from the annotations shown previously.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.894.1">
       components
      </span>
     </code>
     <span class="koboSpan" id="kobo.895.1">
      : Components are reusable schemas or other objects that can be referenced from multiple places in the API specification.
     </span>
     <span class="koboSpan" id="kobo.895.2">
      This is also generated based on the annotations shown previously.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.896.1">
       security
      </span>
     </code>
     <span class="koboSpan" id="kobo.897.1">
      : This defines the security mechanisms for the API.
     </span>
     <span class="koboSpan" id="kobo.897.2">
      It is also generated from the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.898.1">
       @SecurityRequirement
      </span>
     </code>
     <span class="koboSpan" id="kobo.899.1">
      annotations.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.900.1">
       tags
      </span>
     </code>
     <span class="koboSpan" id="kobo.901.1">
      : This provides a list of tags used by the specification with additional metadata.
     </span>
     <span class="koboSpan" id="kobo.901.2">
      It is also generated from the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.902.1">
       @Tag
      </span>
     </code>
     <span class="koboSpan" id="kobo.903.1">
      annotation.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.904.1">
       externalDocs
      </span>
     </code>
     <span class="koboSpan" id="kobo.905.1">
      : This provides external documentation about the API:
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.906.1">
       description
      </span>
     </code>
     <span class="koboSpan" id="kobo.907.1">
      : A short description of the external documentation
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.908.1">
       url
      </span>
     </code>
     <span class="koboSpan" id="kobo.909.1">
      : The URL for the external documentation
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.910.1">
     All the preceding annotations and configuration parameters can be used to enrich the API documentation.
    </span>
    <span class="koboSpan" id="kobo.910.2">
     Now that our API is documented in the Java code, we can view the results by accessing the Swagger UI at
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.911.1">
      http://localhost:8080/swagger-ui/index.html
     </span>
    </code>
    <span class="koboSpan" id="kobo.912.1">
     , as shown in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.913.1">
      Figure 3.2
     </span>
    </em>
    <span class="koboSpan" id="kobo.914.1">
     :
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.915.1">
     <img alt="Figure 3.2 – Swagger UI" src="../Images/B21843_03_2.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.916.1">
     Figure 3.2 – Swagger UI
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.917.1">
     As we can see
    </span>
    <a id="_idIndexMarker210">
    </a>
    <span class="koboSpan" id="kobo.918.1">
     in the preceding figure, our API has more detail.
    </span>
    <span class="koboSpan" id="kobo.918.2">
     It has the description of each endpoint and all the metadata provided in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.919.1">
      OpenAPI
     </span>
    </code>
    <span class="koboSpan" id="kobo.920.1">
     bean.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.921.1">
     In addition, we have schemas that provide detailed information about our data models.
    </span>
    <span class="koboSpan" id="kobo.921.2">
     These schemas include details about each field, indicating whether the field is required, along with example values, as we can see in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.922.1">
      Figure 3.3
     </span>
    </em>
    <span class="koboSpan" id="kobo.923.1">
     .
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.924.1">
     <img alt="Figure 3.3 – Swagger schemas" src="../Images/B21843_03_3.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.925.1">
     Figure 3.3 – Swagger schemas
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.926.1">
     With this information, API consumers can gain a good understanding of the API, simplifying the process of creating a client.
    </span>
    <span class="koboSpan" id="kobo.926.2">
     In
    </span>
    <a href="B21843_04.xhtml#_idTextAnchor096">
     <em class="italic">
      <span class="koboSpan" id="kobo.927.1">
       Chapter 4
      </span>
     </em>
    </a>
    <span class="koboSpan" id="kobo.928.1">
     , we will explore how to use the generated documentation to help in generating the HTTP client.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.929.1">
     Generating the documentation file is straightforward.
    </span>
    <span class="koboSpan" id="kobo.929.2">
     In Swagger UI, there is a link that opens the OpenAPI
    </span>
    <a id="_idIndexMarker211">
    </a>
    <span class="koboSpan" id="kobo.930.1">
     Specification in JSON format, as shown in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.931.1">
      Figure 3.4
     </span>
    </em>
    <span class="koboSpan" id="kobo.932.1">
     :
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.933.1">
     <img alt="Figure 3.4 – Link to the documentation file" src="../Images/B21843_03_4.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.934.1">
     Figure 3.4 – Link to the documentation file
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.935.1">
     This specification file can be used by anyone who wants to integrate with our API.
    </span>
    <span class="koboSpan" id="kobo.935.2">
     Many tools, such as Postman, IntelliJ IDEA, and others, seamlessly integrate with the OpenAPI standard, offering numerous benefits.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.936.1">
     The wide range of uses of the OpenAPI Specification is the reason why we should prefer to share a good OpenAPI Specification rather than ready-made Java clients in the form of libraries (JAR files).
    </span>
    <span class="koboSpan" id="kobo.936.2">
     Even if we would like to limit ourselves to only Java-implemented clients, ready-made libraries can cause problems:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.937.1">
      Incompatibility of used third-party libraries or their versions
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.938.1">
      Code style not fitting with the rest of the client application (e.g., reactive versus imperative programming)
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.939.1">
      Missing or incompatible annotations
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.940.1">
     The Swagger UI also offers a convenient way to interact with the API and view the results.
    </span>
    <span class="koboSpan" id="kobo.940.2">
     This feature proves
    </span>
    <a id="_idIndexMarker212">
    </a>
    <span class="koboSpan" id="kobo.941.1">
     especially useful, as demonstrated in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.942.1">
      Figure 3.5
     </span>
    </em>
    <span class="koboSpan" id="kobo.943.1">
     , by allowing developers to easily test endpoints and observe responses directly within the interface.
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.944.1">
     <img alt="Figure 3.5 – Try it out – Swagger UI" src="../Images/B21843_03_5.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.945.1">
     Figure 3.5 – Try it out – Swagger UI
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.946.1">
     In the preceding figure, we can see a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.947.1">
      Try it out
     </span>
    </strong>
    <span class="koboSpan" id="kobo.948.1">
     button, which allows users to interact with the API directly from the documentation.
    </span>
    <span class="koboSpan" id="kobo.948.2">
     This feature enables developers to send real requests and view the responses in real time, as illustrated in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.949.1">
      Figure 3.6
     </span>
    </em>
    <span class="koboSpan" id="kobo.950.1">
     .
    </span>
    <span class="koboSpan" id="kobo.950.2">
     It’s a straightforward way to validate API behavior without needing to write external scripts or tools.
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.951.1">
     <img alt="Figure 3.6 – Execute the Swagger UI" src="../Images/B21843_03_6.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.952.1">
     Figure 3.6 – Execute the Swagger UI
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.953.1">
     These features offered by the Swagger UI greatly enhance the developer experience by making it easier to test, understand, and integrate with the API.
    </span>
    <span class="koboSpan" id="kobo.953.2">
     The interactive documentation
    </span>
    <a id="_idIndexMarker213">
    </a>
    <span class="koboSpan" id="kobo.954.1">
     allows developers to explore the API’s functionality, ensuring they can quickly grasp how it works and incorporate it effectively into their own applications.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-89">
    <a id="_idTextAnchor095">
    </a>
    <span class="koboSpan" id="kobo.955.1">
     Summary
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.956.1">
     In this chapter, you learned about the OpenAPI Specification and how to utilize Swagger annotations to generate documentation.
    </span>
    <span class="koboSpan" id="kobo.956.2">
     In the upcoming chapter, we will explore using this documentation to develop a client for it and delve deeper into the specification-first approach.
    </span>
   </p>
  </div>
 </body></html>