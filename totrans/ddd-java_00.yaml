- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: '**Domain-driven design** (**DDD**) makes available a set of principles, patterns,
    and techniques that subject-matter experts, architects, developers, and other
    team members can adopt to work together and decompose complex systems into well-factored,
    collaborative, and loosely coupled subsystems. When Eric Evans introduced these
    concepts in the early 2000s, in a lot of ways, these principles were way ahead
    of their time. We were firmly in the age of the monolith, **service-oriented architectures**
    (**SOAs**) as a concept were just starting to take root, and the cloud, microservices,
    continuous delivery, and so on didn’t even exist yet! While it was relatively
    easy to adopt some of its tactical aspects, the strategic side of DDD was still
    seen as an unjustifiable overhead for the most part.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**领域驱动设计**（DDD）提供了一套原则、模式和技巧，让领域专家、架构师、开发人员和其他团队成员可以采用这些原则共同工作，并将复杂系统分解成结构良好、协作和松散耦合的子系统。当埃里克·埃文斯在21世纪初引入这些概念时，从很多方面来看，这些原则远远超出了它们的时代。我们正处于单体架构的时代，**面向服务的架构**（SOA）作为一个概念刚开始生根发芽，而云、微服务、持续交付等甚至还未出现！虽然采用其战术方面相对容易，但DDD的战略方面在很大程度上仍被视为不必要的额外开销。'
- en: Fast-forwarding to today, we are building our most complex software solutions
    ever, with even more complex organization and team structures to cope. Also, the
    use of the public cloud is almost a given. This has given rise to a situation
    where distributed teams and applications are almost a norm. Also, we are also
    in an age where applications from an earlier generation need to be modernized.
    All this has resulted in the principles of DDD, specifically the strategic elements,
    gaining a lot of prominence.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 快进到今天，我们正在构建我们迄今为止最复杂的软件解决方案，同时需要应对更加复杂的组织和团队结构。此外，公共云的使用几乎成为必然。这导致了一种情况，即分布式团队和应用程序几乎成为常态。同时，我们也处于一个需要将上一代应用程序现代化的时代。所有这些都使得领域驱动设计（DDD）的原则，特别是战略元素，获得了很高的关注度。
- en: We have been practitioners of these concepts and have gained valuable insights
    from our experiences. Over the years, we have seen a number of advancements that
    have made the adoption of DDD at scale a viable option. This book is a distillation
    of all our collective experiences. While we have drawn a lot of inspiration from
    earlier works on the subject, we have been very conscious to apply a practitioner’s
    mindset so that we lower the barrier for teams looking to sustain and thrive in
    their journey of building complex, distributed software.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们一直是这些概念的实践者，并从我们的经验中获得了宝贵的见解。多年来，我们看到了许多进步，使得在更大范围内采用DDD成为可行的选择。本书是我们所有集体经验的结晶。虽然我们从该主题的早期作品中汲取了许多灵感，但我们非常注重以实践者的心态来应用这些概念，以便降低那些希望在其构建复杂、分布式软件的旅程中持续发展和繁荣的团队所面临的门槛。
- en: Who this book is for
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向的对象
- en: This book was written with a diverse set of roles and skills in mind. While
    the concepts of DDD have been in existence for a long time, practical application
    and scaling have been a challenge, arguably due to a dearth of practical techniques,
    tools, and real-world examples that bring all these concepts together as a cohesive
    whole. Successful application of these principles requires strong collaboration
    from a varied set of roles and disciplines across an organization, including executives,
    business experts, product owners, business analysts, architects, developers, testers,
    and operators.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本书是为具有多种角色和技能的读者群体所撰写的。虽然DDD的概念已经存在很长时间，但实际应用和扩展一直是一个挑战，这在很大程度上是由于缺乏将所有这些概念作为一个整体结合起来的实用技术、工具和真实世界案例。成功应用这些原则需要组织内部不同角色和学科之间的紧密合作，包括高管、业务专家、产品负责人、业务分析师、架构师、开发人员、测试人员和运维人员。
- en: 'Here is a quick summary of reader personas and what they will gain from reading
    this book:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是对读者角色和他们在阅读本书中将获得的内容的简要总结：
- en: '**Executives and business experts** should read this book so that they can
    articulate their vision and the core concepts that justify the need for the solution.
    Techniques will allow them to do this in an expedient manner and also gain empathy
    toward what it takes to implement changes quickly and reliably.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '**高管和业务专家**应该阅读本书，以便他们能够清晰地表达自己的愿景和证明解决方案必要性的核心概念。技术将使他们能够迅速地做到这一点，并增进对快速可靠地实施变革所需付出的努力的同情。'
- en: '**Product owners** should read this book so that they can act as effective
    facilitators when communicating with both business and technical team members,
    making sure that there is no loss in translation.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**产品负责人**应该阅读这本书，以便在沟通业务和技术团队成员时能够作为有效的促进者，确保没有翻译上的损失。'
- en: '**Architects** should read this book so that they gain an appreciation of the
    fact that it is of utmost importance to understand the problem before thinking
    of a solution. They will also gain an appreciation of various architecture patterns
    and how they play in conjunction with DDD principles.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**架构师**应该阅读这本书，以便他们能够理解在思考解决方案之前理解问题的重要性。他们还将欣赏到各种架构模式以及它们如何与DDD原则协同作用。 '
- en: '**Developers and testers** will be able to put their knowledge to work with
    this practical guide to create elegant software designs that are easy and pleasant
    to work with and reason about.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**开发人员和测试人员**将能够利用这本实用指南将他们的知识付诸实践，创建出既易于使用又令人愉悦的优雅软件设计，并便于推理。'
- en: The book provides a hands-on approach to gathering requirements effectively,
    promoting a shared understanding among all team members in order to implement
    solutions that will be able to withstand the test of a dynamically evolving business
    ecosystem.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 本书提供了一种动手方法来有效地收集需求，促进团队成员之间的共同理解，以便实施能够经受动态演变商业生态系统考验的解决方案。
- en: What this book covers
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[*Chapter 1*](B16716_01_Final_NM_ePub.xhtml#_idTextAnchor015), *The Rationale
    for Domain-Driven Design*, examines how the practice of DDD provides a set of
    guidelines and techniques to improve the odds of success in our favor. We will
    look at how Eric Evans’ classic book on the subject from 2003 is extremely relevant
    today. We will also introduce the elements of strategic and tactical DDD.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第1章*](B16716_01_Final_NM_ePub.xhtml#_idTextAnchor015)，*领域驱动设计（DDD）的原理*，探讨了DDD实践提供了一套指南和技术，以提高我们成功的概率。我们将探讨埃里克·埃文斯（Eric
    Evans）在2003年出版的关于该主题的经典书籍至今仍极具相关性。我们还将介绍战略和战术DDD的要素。'
- en: '[*Chapter 2*](B16716_02_Final_NM_ePub.xhtml#_idTextAnchor037), *Where and How
    Does DDD Fit?*, examines how DDD compares with several of these architecture styles
    and how/where it fits in the overall scheme of things when crafting a software
    solution.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第2章*](B16716_02_Final_NM_ePub.xhtml#_idTextAnchor037)，*领域驱动设计（DDD）的适用位置和方式*，探讨了DDD与几种架构风格相比的情况，以及它在构建软件解决方案的整体方案中的适用位置和方式。'
- en: '[*Chapter 3*](B16716_03_Final_NM_ePub.xhtml#_idTextAnchor054), *Understanding
    the Domain*, introduces the sample domain (International Trade) at a fictitious
    KP bank. We also examine how we can get started with strategic design using techniques
    like business model canvas, impact maps, and Wardley maps.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第3章*](B16716_03_Final_NM_ePub.xhtml#_idTextAnchor054)，*理解领域*，在虚构的KP银行中介绍了示例领域（国际贸易）。我们还探讨了如何使用商业模式画布、影响图和沃德利图等技术开始战略设计。'
- en: '[*Chapter 4*](B16716_04_Final_NM_ePub.xhtml#_idTextAnchor065), *Domain Analysis
    and Modeling*, continues the analysis and modeling of the sample problem domain
    – Letter of Credit (LC) application, by using techniques like domain storytelling
    and eventstorming to arrive at a shared understanding of the problem and brainstorm
    ideas to arrive at a solution.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第4章*](B16716_04_Final_NM_ePub.xhtml#_idTextAnchor065)，*领域分析和建模*，继续使用领域叙事和事件风暴等技术对示例问题领域——信用证（LC）应用进行分析和建模，以达成对问题的共同理解，并激发想法以找到解决方案。'
- en: '[*Chapter 5*](B16716_05_Final_NM_ePub.xhtml#_idTextAnchor077), *Implementing
    Domain Logic*, implements the command-side API for the sample application. We
    will look at how we can employ an event-driven architecture to build loosely coupled
    components. We will also look at how to implement structural and business validations
    and persistence options by contrasting state-stored and event-sourced aggregates.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第5章*](B16716_05_Final_NM_ePub.xhtml#_idTextAnchor077)，*实现领域逻辑*，实现了示例应用的命令端API。我们将探讨如何采用事件驱动架构来构建松散耦合的组件。我们还将探讨如何通过对比状态存储和事件源聚合来实现结构和业务验证以及持久化选项。'
- en: '[*Chapter 6*](B16716_06_Final_NM_ePub.xhtml#_idTextAnchor097), *Implementing
    the User Interface – Task-Based*, designs the **user interace** (**UI**) for the
    sample application. We will also express expectations of the UI to the service
    implementation.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第6章*](B16716_06_Final_NM_ePub.xhtml#_idTextAnchor097)，*实现用户界面——基于任务的*，为示例应用设计了**用户界面**（**UI**）。我们还将向服务实现表达对UI的期望。'
- en: '[*Chapter 7*](B16716_07_Final_NM_ePub.xhtml#_idTextAnchor112), *Implementing
    Queries*, dives deeper into how we can construct read-optimized representations
    of data by listening to domain events. We will also look at persistence options
    for these read models.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第7章*](B16716_07_Final_NM_ePub.xhtml#_idTextAnchor112)，*实现查询*，深入探讨了如何通过监听领域事件来构建数据读取优化的表示。我们还将探讨这些读取模型的持久化选项。'
- en: '[*Chapter 8*](B16716_08_Final_NM_ePub.xhtml#_idTextAnchor129), *Implementing
    Long-Running Workflows*, looks at implementing both long-running user operations
    (sagas) and deadlines. We will also look at how we can keep track of the overall
    flow using log aggregation and distributed tracing. We will round off by looking
    at when/whether to choose explicit orchestration components of implicit choreography.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第8章*](B16716_08_Final_NM_ePub.xhtml#_idTextAnchor129)，*实现长时间运行的工作流程*，探讨了实现长时间运行的用户操作（叙事）和截止日期。我们还将探讨如何通过日志聚合和分布式跟踪来跟踪整体流程。最后，我们将讨论何时/是否选择显式编排组件或隐式编排。'
- en: '[*Chapter 9*](B16716_09_Final_NM_ePub.xhtml#_idTextAnchor138), *Integrating
    with External Systems*, looks at integrating with other systems and bounded contexts.
    We will present the various styles of integration and the implications of choosing
    each of these.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第9章*](B16716_09_Final_NM_ePub.xhtml#_idTextAnchor138)，*与外部系统集成*，探讨了与其他系统和边界上下文集成的各种风格及其选择每种风格的影响。'
- en: '[*Chapter 10*](B16716_10_Final_NM_ePub.xhtml#_idTextAnchor150), *Beginning
    the Decomposition Journey*, decomposes the command and the query side of the sample-bounded
    context into distinct components. We will look at the trade-offs involved when
    making these choices.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第10章*](B16716_10_Final_NM_ePub.xhtml#_idTextAnchor150)，*开始分解之旅*，将示例边界上下文的命令和查询方面分解为不同的组件。我们将探讨在这些选择中涉及的权衡。'
- en: '[*Chapter 11*](B16716_11_Final_NM_ePub.xhtml#_idTextAnchor164), *Decomposing
    into Finer-Grained Components*, looks at finer-grained decomposition and the trade-offs
    involved beyond the technical implications. We will decompose our application
    into distinct functions and discuss where it might be appropriate to draw the
    line.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第11章*](B16716_11_Final_NM_ePub.xhtml#_idTextAnchor164)，*分解为更细粒度的组件*，探讨了细粒度分解及其涉及的技术影响之外的权衡。我们将把我们的应用程序分解为不同的功能，并讨论在哪里划线可能更合适。'
- en: '[*Chapter 12*](B16716_12_Final_NM_ePub.xhtml#_idTextAnchor176), *Beyond Functional
    Requirements*, looks at factors beyond business requirements that can play a significant
    role in how applications are decomposed. Specifically, we will examine the effect
    that cross-functional requirements play when applying DDD.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第12章*](B16716_12_Final_NM_ePub.xhtml#_idTextAnchor176)，*超越功能需求*，探讨了在应用程序分解中起重要作用的业务需求之外的因素。具体来说，我们将研究在应用领域驱动设计（DDD）时，跨职能需求产生的影响。'
- en: To get the most out of this book
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用本书
- en: This book is aimed at a wide range of software team member personas. Some amount
    of prior experience building software solutions is assumed. Code examples in the
    book use the Java programming language. Familiarity with OO and frameworks such
    as Spring will be very helpful.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向广泛的软件开发团队成员角色。假设读者有一定的软件开发解决方案构建经验。本书中的代码示例使用Java编程语言。熟悉面向对象和Spring等框架将非常有帮助。
- en: '![](img/B16716_Preface_Table_01.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B16716_Preface_Table_01.jpg)'
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book’s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting of code.**'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的GitHub仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码复制粘贴相关的任何潜在错误。**'
- en: Download the example code files
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Domain-Driven-Design-with-Java-A-Practitioner-s-Guide](https://github.com/PacktPublishing/Domain-Driven-Design-with-Java-A-Practitioner-s-Guide).
    If there’s an update to the code, it will be updated in the GitHub repository.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从GitHub下载本书的示例代码文件：[https://github.com/PacktPublishing/Domain-Driven-Design-with-Java-A-Practitioner-s-Guide](https://github.com/PacktPublishing/Domain-Driven-Design-with-Java-A-Practitioner-s-Guide)。如果代码有更新，它将在GitHub仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他来自我们丰富的书籍和视频目录的代码包，可在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)找到。查看它们！
- en: Download the color images
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: 'We also provide a PDF file that has color images of the screenshots and diagrams
    used in this book. You can download it here:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一份包含本书中使用的截图和图表彩色图像的PDF文件。你可以从这里下载：
- en: '[https://packt.link/TwzEB](https://packt.link/TwzEB).'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/TwzEB](https://packt.link/TwzEB)。'
- en: Conventions used
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: “As shown in the event storming artifact, the LC
    Application aggregate is able to handle ApproveLCApplicationCommand, which results
    in LCApplicationApprovedEvent.”'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称。以下是一个示例：“如图所示的事件风暴工件中，LC应用程序聚合器能够处理ApproveLCApplicationCommand，这导致LCApplicationApprovedEvent。”'
- en: 'A block of code is set as follows:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '![](img/preface_image.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](img/preface_image.jpg)'
- en: Tips or Important Notes
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士或重要提示
- en: Appear like this.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来像这样。
- en: Get in touch
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**: 如果你对此书的任何方面有疑问，请通过[customercare@packtpub.com](mailto:customercare@packtpub.com)给我们发邮件，并在邮件主题中提及书名。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，我们将不胜感激，如果你能向我们报告这一点。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**: 如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过[版权@packt.com](mailto:copyright@packt.com)与我们联系，并提供材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且你感兴趣的是撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享你的想法
- en: Once you’ve read *Domain-Driven Design with Java - A Practitioner’s Guide,*
    we’d love to hear your thoughts! Please [click here to go straight to the Amazon
    review page](https://packt.link/r/1800560737) for this book and share your feedback.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你阅读了《使用Java的领域驱动设计 - 实践者指南》，我们很乐意听听你的想法！请[点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1800560737)并分享你的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 你的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。
