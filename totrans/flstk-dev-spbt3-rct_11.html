<html><head></head><body>
  <div id="_idContainer200" class="Basic-Text-Frame">
    <h1 class="chapterNumber">9</h1>
    <h1 id="_idParaDest-120" class="chapterTitle">Introduction to TypeScript</h1>
    <p class="normal">This chapter introduces TypeScript. We will cover the basic skills that are required to use TypeScript with React and create our first React app with TypeScript.</p>
    <p class="normal">In this chapter, we will look at the following topics:</p>
    <ul>
      <li class="bulletList">Understanding TypeScript</li>
      <li class="bulletList">Using TypeScript features with React</li>
      <li class="bulletList">Creating a React app with TypeScript</li>
    </ul>
    <h1 id="_idParaDest-121" class="heading-1">Technical requirements</h1>
    <p class="normal">For our work, React version 18 or higher will be required.</p>
    <p class="normal">You can find more resources at the GitHub link for this chapter: <a href="https://github.com/PacktPublishing/Full-Stack-Development-with-Spring-Boot-3-and-React-Fourth-Edition/tree/main/Chapter09"><span class="url">https://github.com/PacktPublishing/Full-Stack-Development-with-Spring-Boot-3-and-React-Fourth-Edition/tree/main/Chapter09</span></a>.</p>
    <h1 id="_idParaDest-122" class="heading-1">Understanding TypeScript</h1>
    <p class="normal"><strong class="keyWord">TypeScript</strong> (<a href="https://www.typescriptlang.org/"><span class="url">https://www.typescriptlang.org/</span></a>) is a strongly typed superset<a id="_idIndexMarker470"/> of JavaScript, developed<a id="_idIndexMarker471"/> by Microsoft. TypeScript adoption has grown a lot in recent years and it is widely used in the industry. It has an active development community and is supported by most popular libraries. In the JetBrains 2022 Developer Ecosystem report, TypeScript<a id="_idIndexMarker472"/> was named the fastest-growing programming language (<a href="https://www.jetbrains.com/lp/devecosystem-2022/"><span class="url">https://www.jetbrains.com/lp/devecosystem-2022/</span></a>).</p>
    <p class="normal">TypeScript offers several advantages compared to JavaScript, mostly due to strong typing:</p>
    <ul>
      <li class="bulletList">TypeScript allows<a id="_idIndexMarker473"/> you to define <strong class="keyWord">types</strong> for variables, functions, and classes. This allows you to catch errors early in the development process.</li>
      <li class="bulletList">TypeScript improves the scalability of your app, as well as making your code easier to maintain.</li>
      <li class="bulletList">TypeScript improves code readability and makes your code more self-documenting.</li>
    </ul>
    <p class="normal">Compared to JavaScript, the TypeScript learning curve can be steeper if you are not familiar with static typing.</p>
    <p class="normal">The easiest way to try TypeScript is to use an online environment such as <em class="italic">TypeScript Playground</em> (<a href="https://www.typescriptlang.org/play"><span class="url">https://www.typescriptlang.org/play</span></a>). If you want to code TypeScript locally, you can install the TypeScript compiler on your computer using <code class="inlineCode">npm</code>. This will not be needed for our React project because Vite comes with built-in TypeScript support. TypeScript is transpiled to plain JavaScript and can then be executed in a JavaScript engine.</p>
    <p class="normal">The following <code class="inlineCode">npm</code> command installs the latest version of TypeScript globally, allowing you to use TypeScript anywhere in your terminal:</p>
    <pre class="programlisting con"><code class="hljs-con">npm install -g typescript
</code></pre>
    <p class="normal">You can check the installation by checking the TypeScript version number:</p>
    <pre class="programlisting con"><code class="hljs-con">tsc --version
</code></pre>
    <div class="note">
      <p class="normal">If you are using Windows PowerShell, you might get an error stating that <strong class="screenText">running scripts is disabled on this system</strong>. In this case, you have to change the execution policy<a id="_idIndexMarker474"/> to be able to run the installation command. You can read more at <a href="https://go.microsoft.com/fwlink/?LinkID=135170"><span class="url">https://go.microsoft.com/fwlink/?LinkID=135170</span></a>.</p>
    </div>
    <p class="normal">Like JavaScript, TypeScript<a id="_idIndexMarker475"/> has good IDE support that makes your coding more productive, with features like linting and code autocompletion – for example, IntelliSense in Visual Studio Code.</p>
    <h2 id="_idParaDest-123" class="heading-2">Common types</h2>
    <p class="normal">TypeScript will automatically define the type<a id="_idIndexMarker476"/> of a variable when you initialize it. This is called <strong class="keyWord">type inference</strong>. In the following example, we declare<a id="_idIndexMarker477"/> a <code class="inlineCode">message</code> variable and assign it to a string value. If we try to reassign it with another type, we get an error, as shown in the following image:</p>
    <figure class="mediaobject"><img src="../Images/B19818_09_01.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.1: Type inference</p>
    <p class="normal">TypeScript has the following primitive types: <code class="inlineCode">string</code>, <code class="inlineCode">number</code>, and <code class="inlineCode">boolean</code>. The <code class="inlineCode">number</code> type represents both integer and floating-point numbers. You can also set an explicit type for a variable using the following syntax:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> <span class="hljs-attr">variable_name</span>: type;
</code></pre>
    <p class="normal">The following code demonstrates explicit typing:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> <span class="hljs-attr">email</span>: string;
<span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: number;
<span class="hljs-keyword">let</span> <span class="hljs-attr">isActive</span>: boolean;
</code></pre>
    <p class="normal">The variables’ types can be checked using the <code class="inlineCode">typeof</code> keyword, which returns a string representing the type of the variable it is applied to:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Check variable type</span>
<span class="hljs-variable">console</span>.<span class="hljs-title">log</span>(<span class="hljs-keyword">typeof</span> email); <span class="hljs-comment">// Output is "string"</span>
<span class="hljs-keyword">typeof</span> email === <span class="hljs-string">"string"</span> <span class="hljs-comment">// true</span>
<span class="hljs-keyword">typeof</span> age === <span class="hljs-string">"string"</span> <span class="hljs-comment">// false</span>
</code></pre>
    <p class="normal">If you don’t know the type of a variable, you can use the <code class="inlineCode">unknown</code> type. It can be used when you get a value, for example, from some external source, and you don’t know its type:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> <span class="hljs-attr">externalValue</span>: unknown;
</code></pre>
    <p class="normal">When a value is assigned<a id="_idIndexMarker478"/> to the unknown variable, you can check the type using the <code class="inlineCode">typeof</code> keyword.</p>
    <div class="note">
      <p class="normal">TypeScript<a id="_idIndexMarker479"/> also provides the <code class="inlineCode">any</code> type. If you define a variable using the <code class="inlineCode">any</code> type, TypeScript doesn’t perform a type check or inference on that variable. You should avoid using the <code class="inlineCode">any</code> type whenever possible, since it negates the effectiveness of TypeScript.</p>
    </div>
    <p class="normal"><strong class="keyWord">Arrays</strong> can be declared in the same way<a id="_idIndexMarker480"/> as in JavaScript, but you have to define the type of the elements in the array:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> <span class="hljs-attr">arrayOfNums</span>: number[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
<span class="hljs-keyword">let</span> <span class="hljs-attr">animals</span>: string[] = [<span class="hljs-string">"Dog"</span>, <span class="hljs-string">"Cat"</span>, <span class="hljs-string">"Tiger"</span>];
</code></pre>
    <p class="normal">You can also use the <code class="inlineCode">Array</code> generic type (<code class="inlineCode">Array&lt;TypeOfElement&gt;</code>) in the following way:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> <span class="hljs-attr">arrayOfNums</span>: <span class="hljs-title">Array</span>&lt;number&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
<span class="hljs-keyword">let</span> <span class="hljs-attr">animals</span>: <span class="hljs-title">Array</span>&lt;string&gt; = [<span class="hljs-string">"Dog"</span>, <span class="hljs-string">"Cat"</span>, <span class="hljs-string">"Tiger"</span>];
</code></pre>
    <p class="normal">Type inference also works with objects. If you create the following object, TypeScript creates an object with these inferred types: <code class="inlineCode">id: number</code>, <code class="inlineCode">name: string</code>, and <code class="inlineCode">email: string</code>:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> student = {
  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Lisa Smith "</span>,
  <span class="hljs-attr">email</span>: <span class="hljs-string">"lisa.s@mail.com "</span>,
};
</code></pre>
    <p class="normal">You can also define an object using the <code class="inlineCode">interface</code> or <code class="inlineCode">type</code> keyword, which describes the object’s shape. The <code class="inlineCode">type</code> and <code class="inlineCode">interface</code> are quite similar, and most of the time you are free to choose which one you use:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Using interface</span>
interface <span class="hljs-title">Student</span> {
    <span class="hljs-attr">id</span>: number;
    <span class="hljs-attr">name</span>: string;
    <span class="hljs-attr">email</span>: string;
};
<span class="hljs-comment">// Or using type</span>
type <span class="hljs-title">Student</span> = {
    <span class="hljs-attr">id</span>: number;
    <span class="hljs-attr">name</span>: string;
    <span class="hljs-attr">email</span>: string;
};
</code></pre>
    <p class="normal">Then, you can declare<a id="_idIndexMarker481"/> an object that conforms to the <code class="inlineCode">Student</code> interface or type:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-attr">myStudent</span>: <span class="hljs-title">Student</span> = {
    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Lisa Smith "</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">"lisa.s@mail.com "</span>,
};
</code></pre>
    <div class="packt_tip">
      <p class="normal">You can read more about the difference<a id="_idIndexMarker482"/> between <code class="inlineCode">type</code> and <code class="inlineCode">interface</code> in the TypeScript documentation: <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces"><span class="url">https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces</span></a>.</p>
    </div>
    <p class="normal">Now, if you try to create an object that doesn’t match the interface or type, you will get an error. In the next image, we create an object where the <code class="inlineCode">id</code> property value is <code class="inlineCode">string</code>, but it is defined as <code class="inlineCode">number</code> in the interface:</p>
    <figure class="mediaobject"><img src="../Images/B19818_09_02.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.2: Interface</p>
    <p class="normal">You can define optional properties<a id="_idIndexMarker483"/> by using the question mark (<code class="inlineCode">?</code>) at the end of the property name. In the following example, we mark <code class="inlineCode">email</code> to be optional. Now, you can create a student object without an email because it is an optional property:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">Student</span> = {
    <span class="hljs-attr">id</span>: number;
    <span class="hljs-attr">name</span>: string;
    email?: string;
};
<span class="hljs-comment">// Student object without email</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">myStudent</span>: <span class="hljs-title">Student</span> = {
    <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Lisa Smith"</span>
}
</code></pre>
    <p class="normal">The <strong class="keyWord">optional chaining operator</strong> (<code class="inlineCode">?.</code>) can be used to safely access object<a id="_idIndexMarker484"/> properties and methods that can be <code class="inlineCode">null</code> or <code class="inlineCode">undefined</code> without causing an error. It is really useful with optional properties. Let’s look at the following type, where <code class="inlineCode">address</code> is optional:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">Person</span> = {
    <span class="hljs-attr">name</span>: string,
    <span class="hljs-attr">email</span>: string;
    address?: {
        <span class="hljs-attr">street</span>: string;
        <span class="hljs-attr">city</span>: string;
    }
}
</code></pre>
    <p class="normal">You can create an object based on the <code class="inlineCode">Person</code> type that doesn’t have the <code class="inlineCode">address</code> property defined:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-attr">person</span>: <span class="hljs-title">Person</span> = { 
    <span class="hljs-attr">name</span>: <span class="hljs-string">"John Johnson"</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">"j.j@mail.com"</span>
}
</code></pre>
    <p class="normal">Now, if you try to access the <code class="inlineCode">address</code> property, an error is thrown:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Error is thrown</span>
<span class="hljs-variable">console</span>.<span class="hljs-title">log</span>(person.<span class="hljs-property">address</span>.<span class="hljs-property">street</span>);
</code></pre>
    <p class="normal">However, if you use optional<a id="_idIndexMarker485"/> chaining, the value <code class="inlineCode">undefined</code> is printed to the console and an error is not thrown:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Output is undefined</span>
<span class="hljs-variable">console</span>.<span class="hljs-title">log</span>(person.<span class="hljs-property">address</span>?.<span class="hljs-property">street</span>);
</code></pre>
    <p class="normal">There are also many <a id="_idIndexMarker486"/>ways to compose types in TypeScript. You can use the <code class="inlineCode">|</code> operator to create a <strong class="keyWord">union type</strong>, a type that handles different types. For example, the following example defines a type that can contain a string or number:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">InputType</span> = string | number;
<span class="hljs-comment">// Use your type</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-title">InputType</span> = <span class="hljs-string">"Hello"</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-title">InputType</span> = <span class="hljs-number">12</span>;
</code></pre>
    <p class="normal">You can also use union types to define sets of strings or numbers, as shown in the following example:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">Fuel</span> = <span class="hljs-string">"diesel"</span> | <span class="hljs-string">"gasoline"</span> | <span class="hljs-string">"electric "</span>;
type <span class="hljs-title">NoOfGears</span> = <span class="hljs-number">5</span> | <span class="hljs-number">6</span> | <span class="hljs-number">7</span>;
</code></pre>
    <p class="normal">Now, we can use our union types in the following way:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">Car</span> = {
  <span class="hljs-attr">brand</span>: string;
  <span class="hljs-attr">fuel</span>: <span class="hljs-title">Fuel</span>;
  <span class="hljs-attr">gears</span>: <span class="hljs-title">NoOfGears</span>;
}
</code></pre>
    <p class="normal">If you create a new <code class="inlineCode">Car</code> object and try to assign<a id="_idIndexMarker487"/> some other value than what is defined in the <code class="inlineCode">Fuel</code> or <code class="inlineCode">NoOfGears</code> union types, you will get an error.</p>
    <h2 id="_idParaDest-124" class="heading-2">Functions</h2>
    <p class="normal">When you define<a id="_idIndexMarker488"/> functions, you can set parameter<a id="_idIndexMarker489"/> types in the following way:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHello</span>(<span class="code-highlight"><strong class="hljs-prompt-slc">name: string</strong></span>) {
  <span class="hljs-variable">console</span>.<span class="hljs-title">log</span>(<span class="hljs-string">"Hello "</span> + name);
}
</code></pre>
    <p class="normal">If you now try to call the function using a different parameter type, you will get an error:</p>
    <figure class="mediaobject"><img src="../Images/B19818_09_03.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.3: Function call</p>
    <p class="normal">If a function parameter type is not defined, it implicitly has an <code class="inlineCode">any</code> type. You can also use union types in function parameters:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span> <span class="hljs-title">checkId</span>(<span class="code-highlight"><strong class="hljs-operator-slc">id: string | number</strong></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id === <span class="hljs-string">"string "</span>)
    <span class="hljs-comment">// do something</span>
  <span class="hljs-keyword">else</span>
    <span class="hljs-comment">// do something else</span>
}
</code></pre>
    <p class="normal">A function’s return type can be declared in the following way:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span> <span class="hljs-title">calcSum</span>(<span class="hljs-params">x: number, y: number</span>): <span class="code-highlight"><strong class="hljs-prompt-slc">number</strong></span> {
  <span class="hljs-keyword">return</span> x + y;
}
</code></pre>
    <p class="normal">Arrow functions work in the same way in TypeScript, for example:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> calcSum = (<span class="hljs-attr">x</span>:number, <span class="hljs-attr">y</span>:number): <span class="hljs-params">number</span><span class="hljs-function"> =&gt;</span> x + y;
</code></pre>
    <p class="normal">If the arrow function returns nothing, you can use the <code class="inlineCode">void</code> keyword:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> sayHello = (<span class="hljs-attr">name</span>: string): <span class="hljs-params">void</span><span class="hljs-function"> =&gt;</span> <span class="hljs-variable">console</span>.<span class="hljs-title">log</span>(<span class="hljs-string">"Hello "</span> + name);
</code></pre>
    <p class="normal">Now, you have<a id="_idIndexMarker490"/> encountered<a id="_idIndexMarker491"/> some TypeScript basics, and we will learn how to apply these new skills in our React apps.</p>
    <h1 id="_idParaDest-125" class="heading-1">Using TypeScript features with React</h1>
    <p class="normal">TypeScript is a valuable addition<a id="_idIndexMarker492"/> to your React projects, especially when they grow in complexity. In this section, we will learn how we can get prop and state type validation in our React components and detect potential errors early in development.</p>
    <h2 id="_idParaDest-126" class="heading-2">State and props</h2>
    <p class="normal">In React, you have<a id="_idIndexMarker493"/> to define<a id="_idIndexMarker494"/> the type of component<a id="_idIndexMarker495"/> props. We have already learned<a id="_idIndexMarker496"/> that component props are JavaScript objects, so we can use <code class="inlineCode">type</code> or <code class="inlineCode">interface</code> to define the prop type.</p>
    <p class="normal">Let’s look at one example where a component receives a <code class="inlineCode">name</code> (<code class="inlineCode">string</code>) and <code class="inlineCode">age</code> (<code class="inlineCode">number</code>) prop:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span> <span class="hljs-title">HelloComponent</span>(<span class="hljs-params">{ name, age }</span>) {
  <span class="hljs-keyword">return</span>(
    <span class="hljs-tag">&lt;&gt;</span>
<span class="language-xml">      Hello {name}, you are {age} years old!</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/&gt;</span>
  );
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">HelloComponent</span>;
</code></pre>
    <p class="normal">Now, we can render our <code class="inlineCode">HelloComponent</code> and pass props to it:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// imports...</span>
<span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span>(
    <span class="hljs-tag">&lt;</span><span class="hljs-name">HelloComponent</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"Mary"</span><span class="hljs-tag"> </span><span class="hljs-attr">age</span><span class="hljs-tag">=</span><span class="hljs-string">{12}</span><span class="hljs-tag"> /&gt;</span>
  )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">App</span>;
</code></pre>
    <p class="normal">If we use<a id="_idIndexMarker497"/> TypeScript, we can first<a id="_idIndexMarker498"/> create a <code class="inlineCode">type</code> that<a id="_idIndexMarker499"/> describes<a id="_idIndexMarker500"/> our props:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">HelloProps</span> = {
  <span class="hljs-attr">name</span>: string;
  <span class="hljs-attr">age</span>: number;
};
</code></pre>
    <p class="normal">Then, we can use our <code class="inlineCode">HelloProps</code> type in the component props:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span> <span class="hljs-title">HelloComponent</span>(<span class="hljs-params">{ name, age }: </span><span class="code-highlight"><strong class="hljs-params-slc">HelloProps</strong></span>) {
  <span class="hljs-keyword">return</span>(
    <span class="hljs-tag">&lt;&gt;</span>
<span class="language-xml">      Hello {name}, you are {age} years old!</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/&gt;</span>
  );
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">HelloComponent</span>;
</code></pre>
    <p class="normal">Now, if we pass props using the wrong type, we will get an error. This is great because, now, we can catch potential errors in the development phase:</p>
    <figure class="mediaobject"><img src="../Images/B19818_09_04.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.4: Typing props</p>
    <p class="normal">If we had used JavaScript<a id="_idIndexMarker501"/> instead, we wouldn’t have seen an error<a id="_idIndexMarker502"/> in this phase. In JavaScript, if we had passed<a id="_idIndexMarker503"/> a string as the <code class="inlineCode">age</code> prop<a id="_idIndexMarker504"/> instead of a number, it would still have worked, but we might have encountered unexpected behavior or errors if we had tried to perform numerical operations on it later on.</p>
    <p class="normal">If there are optional props, you can mark these using the question mark in your type where you define the props – for example, if <code class="inlineCode">age</code> is optional:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">HelloProps</span> = {
  <span class="hljs-attr">name</span>: string;
  <span class="code-highlight"><strong class="hljs-prompt-slc">age?</strong></span>: number;
};
</code></pre>
    <p class="normal">Now, you can use your component with or without <code class="inlineCode">age</code> props.</p>
    <p class="normal">If you want to pass a function using the props, you can define it in your <code class="inlineCode">type</code> using the following syntax:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Function without parameters </span>
type <span class="hljs-title">HelloProps</span> = {
  <span class="hljs-attr">name</span>: string;
  <span class="hljs-attr">age</span>: number;
  <span class="code-highlight"><strong class="hljs-attr-slc">fn</strong><strong class="hljs-slc">:</strong><strong class="hljs-function-slc"> () =&gt;</strong><strong class="hljs-function-slc"> </strong><strong class="hljs-keyword-slc">void</strong><strong class="hljs-slc">;</strong></span>
};
<span class="hljs-comment">// Function with parameters</span>
type <span class="hljs-title">HelloProps</span> = {
  <span class="hljs-attr">name</span>: string;
  <span class="hljs-attr">age</span>: number;
  <span class="code-highlight"><strong class="hljs-attr-slc">fn</strong><strong class="hljs-slc">:</strong><strong class="hljs-function-slc"> (msg: string) =&gt; </strong><strong class="hljs-keyword-slc">void</strong><strong class="hljs-slc">;</strong></span>
};
</code></pre>
    <p class="normal">Quite often, you will want to use the same <code class="inlineCode">type</code> in multiple files in your app. In that case, it is a good practice to extract types into their own file and export them:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// types.ts file</span>
<span class="hljs-keyword">export</span> type <span class="hljs-title">HelloProps</span> = {
  <span class="hljs-attr">name</span>: string;
  <span class="hljs-attr">age</span>: number;
};
</code></pre>
    <p class="normal">Then, you<a id="_idIndexMarker505"/> can import<a id="_idIndexMarker506"/> the type into<a id="_idIndexMarker507"/> any component<a id="_idIndexMarker508"/> where you need it:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// Import type and use it in your component</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title">HelloProps</span> } <span class="hljs-keyword">from</span> ./types;
<span class="hljs-keyword">function</span> <span class="hljs-title">HelloComponent</span>(<span class="hljs-params">{ name, age }: HelloProps</span>) {
  <span class="hljs-keyword">return</span>(
    <span class="hljs-tag">&lt;&gt;</span>
<span class="language-xml">      Hello {name}, you are {age} years old!</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/&gt;</span>
  );
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">HelloComponent</span>;
</code></pre>
    <p class="normal">As we touched on in <em class="chapterRef">Chapter 8</em>, you can also use the arrow function to create a functional component. There is a standard React type, <code class="inlineCode">FC</code> (<strong class="keyWord">function component</strong>), that we can use with arrow functions. This type takes a generic argument that specifies the prop type, which is <code class="inlineCode">HelloProps</code> in our case:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title">HelloProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./types'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title">HelloComponent</span>: <span class="hljs-title">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title">HelloProps</span>&gt; = <span class="hljs-function">(</span><span class="hljs-params">{ name, age }</span><span class="hljs-function">) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;&gt;</span>
<span class="language-xml">      Hello {name}, you are {age} years old!</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/&gt;</span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">HelloComponent</span>;
</code></pre>
    <p class="normal">Now, you have learned<a id="_idIndexMarker509"/> how to define prop<a id="_idIndexMarker510"/> types in your React<a id="_idIndexMarker511"/> app, so we will move<a id="_idIndexMarker512"/> on to states. When you create states using the <code class="inlineCode">useState</code> hook we learned about in <em class="chapterRef">Chapter 8</em>, type inference handles typing when you are using common primitive types. For example:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// boolean</span>
<span class="hljs-keyword">const</span> [isReady, setReady] = <span class="hljs-title">useState</span>(<span class="hljs-literal">false</span>);
<span class="hljs-comment">// string</span>
<span class="hljs-keyword">const</span> [message, setMessage] = <span class="hljs-title">useState</span>(<span class="hljs-string">""</span>);
<span class="hljs-comment">// number</span>
<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title">useState</span>(<span class="hljs-number">0</span>);
</code></pre>
    <p class="normal">If you try to update the state using a different type, you will get an error:</p>
    <figure class="mediaobject"><img src="../Images/B19818_09_05.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.5: Typing state</p>
    <p class="normal">You can also explicitly define state types. You have to do this if you want to initialize your state to <code class="inlineCode">null</code> or <code class="inlineCode">undefined</code>. In this case, you can use the union operator, and the syntax is the following:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> [message, setMessage] = useState&lt;string | <span class="hljs-literal">undefined</span>&gt;(<span class="hljs-literal">undefined</span>);
</code></pre>
    <p class="normal">If you have a complex <a id="_idIndexMarker513"/>state, you can use a <code class="inlineCode">type</code> or <code class="inlineCode">interface</code>. In the following<a id="_idIndexMarker514"/> example, we create a type<a id="_idIndexMarker515"/> that describes a user. Then, we create a state and initialize<a id="_idIndexMarker516"/> it with an empty <code class="inlineCode">User</code> object. If you want to allow <code class="inlineCode">null</code> values, you can use a union to allow either a <code class="inlineCode">User</code> object or a <code class="inlineCode">null</code> value:</p>
    <pre class="programlisting code"><code class="hljs-code">type <span class="hljs-title">User</span> = {
  <span class="hljs-attr">id</span>: number;
  <span class="hljs-attr">name</span>: string;
  <span class="hljs-attr">email</span>: number;
};
<span class="hljs-comment">// Use type with state, the initial value is an empty User object</span>
<span class="hljs-keyword">const</span> [user, setUser] = useState&lt;<span class="hljs-title">User</span>&gt;({} <span class="hljs-keyword">as</span> <span class="hljs-title">User</span>);
<span class="hljs-comment">// If null values are accepted</span>
<span class="hljs-keyword">const</span> [user, setUser] = useState&lt;<span class="hljs-title">User</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
</code></pre>
    <h2 id="_idParaDest-127" class="heading-2">Events</h2>
    <p class="normal">In <em class="chapterRef">Chapter 8</em>, we learned how to read<a id="_idIndexMarker517"/> user input in a React app. We used the input<a id="_idIndexMarker518"/> element’s <code class="inlineCode">onChange</code> event handler to save typed data to the state. When using TypeScript, we have to define the types of events. In the following screenshot, you can see that we get an error if types are not defined:</p>
    <figure class="mediaobject"><img src="../Images/B19818_09_06.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.6: Typing events</p>
    <p class="normal">Let’s see how we can handle<a id="_idIndexMarker519"/> an input element’s change event. Let’s see one example<a id="_idIndexMarker520"/> where the input element code in the <code class="inlineCode">return</code> statement looks like the following:</p>
    <pre class="programlisting code"><code class="hljs-code">&lt;input 
  type=<span class="hljs-string">"text"</span> 
  onChange={handleChange} 
  value={name} 
/&gt;
</code></pre>
    <p class="normal">The event handler function is called when the user types something into the input element, and the code looks like this:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">handleChange</span> = (<span class="hljs-params">event</span>) =&gt; {
  <span class="hljs-title">setName</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
}
</code></pre>
    <p class="normal">Now, we have to define the type of the event. For this, we can use the predefined <code class="inlineCode">React.ChangeEvent</code> type.</p>
    <div class="packt_tip">
      <p class="normal">You can read the complete list of event types<a id="_idIndexMarker521"/> in the React TypeScript CheatSheet: <a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/forms_and_events/"><span class="url">https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/forms_and_events/</span></a>.</p>
    </div>
    <p class="normal">We want to handle a change event on an input element, so the type is the following:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">handleChange</span> = (<span class="hljs-params">event: </span><span class="code-highlight"><strong class="hljs-params-slc">React.ChangeEvent&lt;HTMLInputElement&gt;</strong></span>) =&gt; {
  <span class="hljs-title">setName</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
} 
</code></pre>
    <p class="normal">The form submission handler function handles the form submission. This function should take an event parameter of the type <code class="inlineCode">React.FormEvent&lt;HTMLFormElement&gt;</code>:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> <span class="hljs-title">handleSubmit</span> = (<span class="hljs-params">event: </span><span class="code-highlight"><strong class="hljs-params-slc">React.FormEvent&lt;HTMLFormElement&gt;</strong></span>) =&gt; {
  event.<span class="hljs-title">preventDefault</span>();
  <span class="hljs-title">alert</span>(<span class="hljs-string">`Hello </span><span class="hljs-subst">${name}</span><span class="hljs-string">`</span>);
}
</code></pre>
    <p class="normal">Now, we know how to handle<a id="_idIndexMarker522"/> events when using TypeScript<a id="_idIndexMarker523"/> in our React apps. Next, we will learn how to actually create a React app that uses TypeScript.</p>
    <h1 id="_idParaDest-128" class="heading-1">Creating a React app with TypeScript</h1>
    <p class="normal">Now, we will create a React app<a id="_idIndexMarker524"/> using Vite, and we will use TypeScript<a id="_idIndexMarker525"/> instead of JavaScript. We will use TypeScript later when we develop the frontend for our car backend. As we mentioned earlier, Vite comes with built-in TypeScript support:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Create a new React app using the following command:
        <pre class="programlisting con"><code class="hljs-con">npm create vite@latest
</code></pre>
      </li>
      <li class="numberedList">Next, name your project <code class="inlineCode">tsapp</code>, and select the <strong class="screenText">React</strong> framework and the <strong class="screenText">TypeScript</strong> variant:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B19818_09_07.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.7: React TypeScript app</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Then, move to your app<a id="_idIndexMarker526"/> folder, install dependencies, and run your app<a id="_idIndexMarker527"/> using the following commands:
        <pre class="programlisting con"><code class="hljs-con">cd tsapp
npm install
npm run dev
</code></pre>
      </li>
      <li class="numberedList">Open your app folder in VS Code, and you will see that the filename of our <code class="inlineCode">App</code> component is <code class="inlineCode">App.tsx</code>:
    <figure class="mediaobject"><img src="../Images/B19818_09_08.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.8: App.tsx</p>
    <p class="normal">The file extension of TypeScript React files is <code class="inlineCode">.tsx</code> (combining JSX with TypeScript). The regular file extension of TypeScript files is <code class="inlineCode">.ts</code>.</p></li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">Locate the <code class="inlineCode">tsconfig.json</code> file in the root of your project. This is a configuration file used by TypeScript to specify compiler options, such as the target version of the compiled JavaScript output or the module system that is used. We can use the default settings defined by Vite.
    <p class="normal">Let’s create the React app that we used as an example in an earlier section, when we defined types for events. The user can enter a name, and when the button is pressed, a hello message is shown using an alert:</p></li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">First, we will remove the code from the <code class="inlineCode">App.tsx</code> file’s <span class="Code-In-Text--PACKT-">return</span> statement and leave only fragments. After also removing all unused imports (except the <code class="inlineCode">useState</code> import), your code should look like the following:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;&gt;</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/&gt;</span>
  )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">App</span>;
</code></pre>
      </li>
      <li class="numberedList">Next, create a <code class="inlineCode">state</code> to store the value that the user enters into the input element:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="code-highlight"><strong class="hljs-keyword-slc">const</strong><strong class="hljs-slc"> [name, setName] = </strong><strong class="hljs-title-slc">useState</strong><strong class="hljs-slc">(</strong><strong class="hljs-string-slc">""</strong><strong class="hljs-slc">);</strong></span>
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;&gt;</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/&gt;</span>
  )
}
</code></pre>
      </li>
      <li class="numberedList">After that, add two input elements to the <code class="inlineCode">return</code> statement, one that collects user input and another that submits the form:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// App.tsx return statement</span>
<span class="hljs-keyword">return</span> (
  <span class="hljs-tag">&lt;&gt;</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag"> </span><span class="hljs-attr">onSubmit</span><span class="hljs-tag">=</span><span class="hljs-string">{handleSubmit}</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">      </span><span class="hljs-tag">&lt;</span><span class="hljs-name">input</span>
<span class="hljs-tag">        </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span>
<span class="hljs-tag">        </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">{name}</span>
<span class="hljs-tag">        </span><span class="hljs-attr">onChange</span><span class="hljs-tag">=</span><span class="hljs-string">{handleChange}</span>
<span class="hljs-tag">      /&gt;</span>
<span class="language-xml">      </span><span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"submit"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"Submit"</span><span class="hljs-tag">/&gt;</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">  </span><span class="hljs-tag">&lt;/&gt;</span>
)
</code></pre>
      </li>
      <li class="numberedList">Next, create<a id="_idIndexMarker528"/> the event handler<a id="_idIndexMarker529"/> functions, <code class="inlineCode">handleSubmit</code> and <code class="inlineCode">handleChange</code>. Now, we also have to define the types of the events:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">// imports</span>
<span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title">useState</span>(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title">handleChange</span> = (<span class="hljs-params">event: React.ChangeEvent&lt;HTMLInputElement&gt;</span>) =&gt; {
    <span class="hljs-title">setName</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
  }
  <span class="hljs-keyword">const</span> <span class="hljs-title">handleSubmit</span> = (<span class="hljs-params">event: React.FormEvent&lt;HTMLFormElement&gt;</span>) =&gt; {
    event.<span class="hljs-title">preventDefault</span>();
    <span class="hljs-title">alert</span>(<span class="hljs-string">`Hello </span><span class="hljs-subst">${name}</span><span class="hljs-string">`</span>);
  }
<span class="hljs-comment">// continue...</span>
</code></pre>
      </li>
      <li class="numberedList">Run the app using the <code class="inlineCode">npm run dev</code> command.</li>
      <li class="numberedList">Try typing your name into the input element and pressing the <strong class="screenText">Submit</strong> button. You should<a id="_idIndexMarker530"/> see the hello message showing<a id="_idIndexMarker531"/> your name:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B19818_09_09.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 9.9: React TypeScript app</p>
    <h2 id="_idParaDest-129" class="heading-2">Vite and TypeScript</h2>
    <p class="normal">Vite transpiles TypeScript files<a id="_idIndexMarker532"/> to JavaScript, but it doesn’t perform<a id="_idIndexMarker533"/> type checking. Vite uses <strong class="keyWord">esbuild</strong> to transpile TypeScript files because that is much faster than the TypeScript compiler (<code class="inlineCode">tsc</code>).</p>
    <p class="normal">The VS Code IDE handles type checking for us, and you should fix all errors that are shown in the IDE. You can also use a Vite plugin called <code class="inlineCode">vite-plugin-checker</code> (<a href="https://github.com/fi3ework/vite-plugin-checker"><span class="url">https://github.com/fi3ework/vite-plugin-checker</span></a>). Type checking is done when we build a Vite app to production, and all errors should be fixed before the production build. We will build our Vite app later in this book.</p>
    <h1 id="_idParaDest-130" class="heading-1">Summary</h1>
    <p class="normal">In this chapter, we started to learn TypeScript and how to use it in our React apps. Now, we know how to use common types in TypeScript and how to define types for React component props and states. We also learned to define types for events, and created our first React app with TypeScript using Vite.</p>
    <p class="normal">In the next chapter, we will focus on networking with React. We will also use the GitHub REST API to learn how to consume a RESTful web service with React.</p>
    <h1 id="_idParaDest-131" class="heading-1">Questions</h1>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">What is TypeScript?</li>
      <li class="numberedList">How do we define variable types?</li>
      <li class="numberedList">How do we define types in functions?</li>
      <li class="numberedList">How do we define types for React props and states?</li>
      <li class="numberedList">How do we define types for events?</li>
      <li class="numberedList">How do we create a React TypeScript app using Vite?</li>
    </ol>
    <h1 id="_idParaDest-132" class="heading-1">Further reading</h1>
    <p class="normal">Here are some other useful resources for learning about React with TypeScript:</p>
    <ul>
      <li class="bulletList">React TypeScript Cheatsheets (<a href="https://react-typescript-cheatsheet.netlify.app/"><span class="url">https://react-typescript-cheatsheet.netlify.app/</span></a>)</li>
      <li class="bulletList"><em class="italic">Learn React with TypeScript, Second Edition</em>, by Carl Rippon (<a href="https://www.packtpub.com/product/learn-react-with-typescript-second-edition/9781804614204"><span class="url">https://www.packtpub.com/product/learn-react-with-typescript-second-edition/9781804614204</span></a>)</li>
      <li class="bulletList"><em class="italic">Mastering TypeScript</em>, by Nathan Rozentals (<a href="https://www.packtpub.com/product/mastering-typescript-fourth-edition/9781800564732"><span class="url">https://www.packtpub.com/product/mastering-typescript-fourth-edition/9781800564732</span></a>)</li>
    </ul>
    <h1 class="heading-1">Learn more on Discord</h1>
    <p class="normal">To join the Discord community for this book – where you can share feedback, ask the author questions, and learn about new releases – follow the QR code below:</p>
    <p class="normal"><a href="https://packt.link/FullStackSpringBootReact4e"><span class="url">https://packt.link/FullStackSpringBootReact4e</span></a></p>
    <p class="normal"><img src="../Images/QR_Code10796108009382640.png" alt="" role="presentation"/></p>
  </div>
</body></html>