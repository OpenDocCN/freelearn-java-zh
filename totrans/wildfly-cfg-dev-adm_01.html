<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Installing WildFly"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Installing WildFly</h1></div></div></div><p>The Java language has undergone many changes since its first release and will continue to adapt to meet the needs of the developer. Oracle, which acquired Sun in 2010, stated that its high-level Java strategy is to enhance and extend the reach of Java to new and emerging software development objectives; simplify, optimize, and integrate the Java platform into new deployment architectures; and invest in the Java developer community allowing for increased participation.</p><p>This has certainly been true in the Enterprise edition of Java, the main focus of which has been improved developer productivity, providing support for HTML5, and meeting enterprise demands. Out of all the Enterprise Java releases, Java EE 7 has been the most transparent and open to community participation. By allowing public feedback, the demands of the community can be realized and used to help shape Java EE 7 for the better, ultimately adding to the growth and success of Enterprise Java.</p><p>In addition, a large number of open source projects are used within the application server, such as Hibernate and Undertow. Integrating all these libraries does not come without a price because each library has evolved with complexity and requires more and more additional libraries to work.</p><p>As most IT experts agree, the challenge for today's application servers is to combine a rich set of features requested by customers along with a lightweight and flexible container configuration.</p><div class="section" title="What's new in WildFly 8?"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>What's new in WildFly 8?</h1></div></div></div><p>WildFly 8 is <a id="id0" class="indexterm"/>the direct continuation to the JBoss AS project. The renaming of the community version of JBoss AS was done to reduce confusion between<a id="id1" class="indexterm"/> the open source JBoss server, the JBoss community, and the <span class="strong"><strong>JBoss Enterprise Application Platform</strong></span> (<span class="strong"><strong>JBoss EAP</strong></span>). WildFly 8 is free and open source, with support coming from the JBoss community, whereas JBoss EAP is a licensed product that comes with support from RedHat.</p><p>The most notable updates in WildFly 8 from earlier versions are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Java EE7 certification</strong></span>: WildFly is a fully compliant Java EE enterprise server, which<a id="id2" class="indexterm"/> means that it provides<a id="id3" class="indexterm"/> reference implementations for all <span class="strong"><strong>Java Specification Requests</strong></span> (<span class="strong"><strong>JSRs</strong></span>) that make up Java EE 7. JSRs are basically change requests for the Java language. For <a id="id4" class="indexterm"/>more information on how JSRs work, refer to <a class="ulink" href="https://www.jcp.org/en/jsr/overview">https://www.jcp.org/en/jsr/overview</a>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Arrival of Undertow</strong></span>: JBoss Web has been completely removed and replaced with Undertow. Undertow is a cutting-edge web server that supports non-blocking<a id="id5" class="indexterm"/> and blocking handlers, web sockets, and asynchronous servlets. It has been designed for scalability and maximum throughput. It is easy to use, easy to configure, and is highly customizable.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Port Reduction</strong></span>: The number of open ports has been greatly reduced in WildFly. Only<a id="id6" class="indexterm"/> two ports are open: 8080 and 9990. This has been achieved by multiplexing protocols over HTTP using the HTTP upgrade feature of Undertow.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Security Manager</strong></span>: You <a id="id7" class="indexterm"/>can now configure per-deployment security permissions.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Logging</strong></span>: Several enhancements have been made to WildFly logging. You can now<a id="id8" class="indexterm"/> view logfiles via the management interface, define custom formatters, and configure logging per-deployment.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Clustering</strong></span>: Clustering<a id="id9" class="indexterm"/> in WildFly is heavily refactored and includes many new features, including web sessions, single sign-on, and mod_cluster support for Undertow. There is also a new public clustering API and new @Stateful EJB caching implementation.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Command-line interface (CLI)</strong></span>: You now have the ability to define an alias when<a id="id10" class="indexterm"/> connecting to a server, and the CLI GUI has additional functionality allowing you to explore any node in the tree.</li></ul></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Installing the Java environment</li><li class="listitem" style="list-style-type: disc">Installing WildFly 8</li><li class="listitem" style="list-style-type: disc">Installing JBoss tools</li><li class="listitem" style="list-style-type: disc">Exploring the application server filesystem</li><li class="listitem" style="list-style-type: disc">Understanding the WildFly kernel</li></ul></div></div></div>
<div class="section" title="Getting started with the application server"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Getting started with the application server</h1></div></div></div><p>As far as <a id="id11" class="indexterm"/>hardware requirements are concerned, you should be aware that the server distribution, at the time of writing, requires about 150 MB of hard disk space and allocates a minimum of 64 MB and a maximum of 512 MB for a standalone server.</p><p>In order to get started, we are going to perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Download and install the Java Development Kit.</li><li class="listitem">Download and install WildFly 8.</li><li class="listitem">Download and install the Eclipse development environment. While we will use Eclipse in this book, you are free to use your IDE of choice.</li></ol></div><p>At the end of this chapter, you will have all the required software installed and will be ready to start working with the application server.</p><div class="section" title="Installing the Java environment"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Installing the Java environment</h2></div></div></div><p>WildFly is<a id="id12" class="indexterm"/> written in Java; therefore it <a id="id13" class="indexterm"/>needs a <span class="strong"><strong>Java Virtual Machine</strong></span> (<span class="strong"><strong>JVM</strong></span>) in which to run, along with the standard edition Java libraries. So, before we can get started setting up <a id="id14" class="indexterm"/>or learning about WildFly, we first <a id="id15" class="indexterm"/>need<a id="id16" class="indexterm"/> to install the <span class="strong"><strong>Java Development Kit</strong></span> (<span class="strong"><strong>JDK</strong></span>).</p><p>To use WildFly, you will need at least Java SE 7 or above. Although there is no plan to use Java 8 language changes within the WildFly 8.x source code, WildFly is compiled against Java 8. It is recommended that you use the latest version of Java SE 8 to run WildFly.</p><p>So, let's <a id="id17" class="indexterm"/>move to the Oracle download page, <a class="ulink" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>, which now hosts all JDK downloads, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/6232OS_01_01.jpg" alt="Installing the Java environment"/></div><p>This will<a id="id18" class="indexterm"/> take you to the download<a id="id19" class="indexterm"/> page for the latest JDK. At the time of writing<a id="id20" class="indexterm"/>, this was Java 8 update 5. You will need to accept the license agreement before downloading the JDK. Choose to download the latest version of Java for your operating system. Have a look at the following screenshot:</p><div class="mediaobject"><img src="graphics/6232OS_01_02.jpg" alt="Installing the Java environment"/></div><p>The download will take a few minutes depending how fast your network is.</p><div class="section" title="Installing Java on Linux"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Installing Java on Linux</h3></div></div></div><p>Installing Java on Linux is very straightforward. Once the download is complete, extract the <code class="literal">tar.gz</code> file<a id="id21" class="indexterm"/> to your chosen install location. This <a id="id22" class="indexterm"/>command extracts the archive to your current<a id="id23" class="indexterm"/> directory:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tar -xzvf jdk-8u5-linux-x64.tar.gz</strong></span>
</pre></div><p>Next, you need to add the path as an environment variable. This can be achieved by adding the following lines to your user profile script (the <code class="literal">.profile</code> file found in your home directory):</p><div class="informalexample"><pre class="programlisting">export JAVA_HOME=/installDir/jdk1.8.0_05
<span class="strong"><strong>export PATH=$JAVA_HOME/bin:$PATH</strong></span>
</pre></div></div><div class="section" title="Installing Java on Windows"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Installing Java on Windows</h3></div></div></div><p>Windows <a id="id24" class="indexterm"/>users can simply run the executable (<code class="literal">.exe</code>) file to start the installation. The name of the installer varies depending on the <a id="id25" class="indexterm"/>operating system and your system architecture (32-bit or 64-bit); however, the steps will be the same—just the name will change. At<a id="id26" class="indexterm"/> the time of writing, the installer for the latest version of Java for 64-bit Windows is called <code class="literal">jdk-8u5-windows-x64.exe</code>.</p><p>When using Windows, you should stay away from installation paths that include empty spaces, such as <code class="literal">C:\Program Files</code>, as this leads to some issues when referencing the core libraries. An installation path such as <code class="literal">C:\Software\Java</code> or simply <code class="literal">C:\Java</code> is a better alternative.</p><p>When the installation is complete, you will need to update a couple of settings on the computer so that it will know where to find Java. The most important setting is <code class="literal">JAVA_HOME</code>, which is directly referenced by the WildFly startup script.</p><p>If you are running Windows XP/2000, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click on <span class="strong"><strong>My Computer</strong></span>, and select <span class="strong"><strong>Properties</strong></span> from the context menu.</li><li class="listitem">On the <span class="strong"><strong>Advanced</strong></span> tab, click on the <span class="strong"><strong>Environment Variables</strong></span> button.</li><li class="listitem">Then, in the <span class="strong"><strong>System variables</strong></span> box, click on <span class="strong"><strong>New</strong></span>.</li><li class="listitem">Name the new variable <code class="literal">JAVA_HOME</code>, and give a value of the path to your JDK installation; I recommend something like <code class="literal">C:\Java\jdk1.8.0_05</code>.<div class="mediaobject"><img src="graphics/6232OS_01_03.jpg" alt="Installing Java on Windows"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>
<span class="strong"><strong>Windows 7 tip</strong></span>
</p><p>Because <a id="id27" class="indexterm"/>of increased security in <a id="id28" class="indexterm"/>Windows 7, standard users must have <span class="strong"><strong>User</strong></span> <span class="strong"><strong>Account</strong></span> <span class="strong"><strong>Control</strong></span> (<span class="strong"><strong>UAC</strong></span>) turned on to change the environment variables, and the <a id="id29" class="indexterm"/>change must be completed via user <a id="id30" class="indexterm"/>accounts. In the <span class="strong"><strong>User Accounts</strong></span> window, under <span class="strong"><strong>Tasks</strong></span>, select <span class="strong"><strong>Change my environment variables</strong></span>. Use the <span class="strong"><strong>New</strong></span>, <span class="strong"><strong>Edit</strong></span>, or <span class="strong"><strong>Delete</strong></span> button to amend environment variables</p></div></div></li><li class="listitem">Now it's time to modify the system's <code class="literal">PATH</code> variable. Double-click on the <code class="literal">PATH</code> system variable. In the box that pops up, navigate to the end of the <span class="strong"><strong>Variable</strong></span> <span class="strong"><strong>Value</strong></span> line, add a semicolon to the end, and then add the path to your JDK. This will be something like <code class="literal">%JAVA_HOME%\bin</code>.</li></ol></div></div></div><div class="section" title="Installing WildFly 8"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>Installing WildFly 8</h2></div></div></div><p>The <a id="id31" class="indexterm"/>WildFly application server can be downloaded<a id="id32" class="indexterm"/> for free from the WildFly <a id="id33" class="indexterm"/>site, <a class="ulink" href="http://www.wildfly.org/downloads/">http://www.wildfly.org/downloads/</a>. Have a look <a id="id34" class="indexterm"/>at the following screenshot:</p><div class="mediaobject"><img src="graphics/6232OS_01_04.jpg" alt="Installing WildFly 8"/></div><p>You will notice that there is an option to download a minimalistic core distribution. This is aimed at developers who want to build their own application runtime using the WildFly 8 architecture.</p><p>Choose to download the full Java EE7 distribution. Like JBoss AS 7, WildFly does not come with an installer. It is simply a matter of extracting the compressed archive to a location of your choosing.</p><p>Linux users can extract the file using the <code class="literal">tar</code> or <code class="literal">unzip</code> command (depending on the type of compressed file you downloaded):</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>tar -xzvf wildfly-8.1.0.Final.tar.gz</strong></span>
<span class="strong"><strong>unzip wildfly-8.1.0.Final.zip</strong></span>
</pre></div><p>For those of you using Windows, you can use WinZip or WinRAR, taking care to choose a folder that does not contain empty spaces.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p>
<span class="strong"><strong>Security warning</strong></span>
</p><p>Unix/Linux users should be aware that WildFly does not require root privileges, as none<a id="id35" class="indexterm"/> of the default ports used by WildFly are below the<a id="id36" class="indexterm"/> privileged port range of 1024. To reduce the risk of users gaining root privileges through WildFly, install and run WildFly as a non-root user.</p></div></div></div><div class="section" title="Starting WildFly"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>Starting WildFly</h2></div></div></div><p>After<a id="id37" class="indexterm"/> installing WildFly, it is wise to perform a<a id="id38" class="indexterm"/> simple startup test to validate that there are no problems with your Java configuration. To test your installation, move to the <code class="literal">bin</code> directory of your WildFly install<span class="strong"><strong> </strong></span>and issue the following command:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For Linux/Unix users:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ./standalone.sh</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">For Windows users:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>&gt; standalone.bat</strong></span>
</pre></div></li></ul></div><p>The following screenshot shows a sample WildFly 8 startup console:</p><div class="mediaobject"><img src="graphics/6232OS_01_05.jpg" alt="Starting WildFly"/></div><p>The preceding command starts up a WildFly standalone instance that's equivalent to starting the application server with the <code class="literal">run.sh</code> script used by releases prior to JBoss AS 7. The <code class="literal">run.sh</code> file remains in the WildFly <code class="literal">bin</code> directory but is merely a placeholder and will not start the application server.</p><p>Notice how fast the application server starts. This is due to the modular architecture of WildFly. Essential services are started concurrently on boot-up, and non-critical services are started only when needed, resulting in an exceptionally fast startup. Local caching means that the server will start even quicker second time round!</p><p>If you need to customize the startup properties of your application server, then you need to open <a id="id39" class="indexterm"/>and modify the <code class="literal">standalone.conf</code> file (or <code class="literal">standalone.conf.bat</code> for Windows users). This file contains the <a id="id40" class="indexterm"/>memory requirements of WildFly. The following is the Linux core section of it:</p><div class="informalexample"><pre class="programlisting">if [ "x$JAVA_OPTS" = "x" ]; then
   JAVA_OPTS="-Xms64m -Xmx512m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true"
   JAVA_OPTS="$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS -Djava.awt.headless=true"
fi</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>
<span class="strong"><strong>Java SE 8 users</strong></span>
</p><p>PermGen has been replaced with Metaspace in Java 8. If you are using Java 8, then remove the <code class="literal">-XX:MaxPermSize=256m</code> property from the <code class="literal">standalone.conf</code> file, and replace it with <code class="literal">-XX:MaxMetaspaceSize=256m</code>. This will prevent VM warnings being printed to your WildFly logs on startup.</p></div></div><p>By default, the application server starts with a minimum heap space memory requirement of 64 MB and a maximum requirement of 512 MB. This will be just enough to get started; however, if you need to run a core Java EE application on it, you will likely require a minimum of 1 GB of heap space. More realistically, you will need 2 GB or more depending on your application type. Generally speaking, 32-bit machines cannot execute a process whose space exceeds 4 GB; however, on 64-bit machines, there's essentially no limit to process the size.</p><p>You can verify that the server is reachable from the network by simply pointing your browser to the application server's welcome page, which is reachable by default at the well-known address: <code class="literal">http://localhost:8080</code>. Have a look at the following screenshot:</p><div class="mediaobject"><img src="graphics/6232OS_01_06.jpg" alt="Starting WildFly"/></div><div class="section" title="Connecting to the server with the command-line interface"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Connecting to the server with the command-line interface</h3></div></div></div><p>If you <a id="id41" class="indexterm"/>have been using releases of the application <a id="id42" class="indexterm"/>server <a id="id43" class="indexterm"/>prior to JBoss AS 7, you might have heard about the <code class="literal">twiddle</code> command-line utility that queries the MBeans installed on the application server. This utility was replaced in JBoss AS 7 and is still used in WildFly. Its replacement is a more sophisticated interface named the <span class="strong"><strong>command-line</strong></span> <span class="strong"><strong>interface</strong></span> (<span class="strong"><strong>CLI</strong></span>), which can be found in the <code class="literal">JBOSS_HOME/bin</code> folder.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>
<span class="strong"><strong>References to JBOSS_HOME</strong></span>
</p><p>Although the community version of JBoss AS has been renamed to WildFly, you will see that the properties in the startup scripts continue to use the property, <code class="literal">JBOSS_HOME</code>, to reference the install directory of WildFly. For this reason, we will continue to use <code class="literal">JBOSS_HOME</code> when referring to the root install of WildFly.</p></div></div><p>Just launch the <code class="literal">jboss-cli.sh</code> script (or <code class="literal">jboss-cli.bat</code> for Windows users), and you will be able to manage the application server via a shell interface, as shown in the following screenshot. Bear in mind that the server needs to be running in order to connect via the CLI.</p><div class="mediaobject"><img src="graphics/6232OS_01_07.jpg" alt="Connecting to the server with the command-line interface"/></div><p>Once<a id="id44" class="indexterm"/> you are in the shell session, if you are unsure <a id="id45" class="indexterm"/>of what commands can be issued, you can simply press the <span class="emphasis"><em>Tab</em></span> button to display all possible commands. If your command is partly typed, and there is only one possible matching command, your command will be autocompleted. Those of you who use Linux will be used to this type of command-line assistance.</p><p>In the preceding screenshot, we have just connected to the server using the <code class="literal">connect</code> command, which, by default, uses the loopback server address and plugs into port number 9990.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>The CLI is discussed in depth in <a class="link" href="ch07.html" title="Chapter 7. Using the Management Interfaces">Chapter 7</a>, <span class="emphasis"><em>Using the Management Interfaces</em></span>, which is all about the server-management interfaces. We will have an initial taste of its basic functionalities in the following sections, to get you accustomed to this powerful tool.</p></div></div></div></div><div class="section" title="Stopping WildFly"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Stopping WildFly</h2></div></div></div><p>Probably the easiest way to stop WildFly is to send an interrupt signal using <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>C</em></span>. This<a id="id46" class="indexterm"/> should be done in the same console window in <a id="id47" class="indexterm"/>which you issued the startup command, that is, where the server is running.</p><p>However, if your WildFly process was launched in the background or is running on another machine (see in the following sections), then you can use the CLI interface to issue an immediate <code class="literal">shutdown</code> command as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[disconnected /] connect</strong></span>
<span class="strong"><strong>[standalone@localhost:9990 /] shutdown</strong></span>
<span class="strong"><strong>[disconnected /]</strong></span>
</pre></div><div class="section" title="Locating the shutdown script"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Locating the shutdown script</h3></div></div></div><p>There <a id="id48" class="indexterm"/>is actually one more option to shut down the <a id="id49" class="indexterm"/>application server, which is pretty useful if you need to shut down the server from within a script. This option consists of passing the <code class="literal">--connect</code> option to the admin shell, thereby switching off the interactive mode as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>jboss-cli.sh --connect command=:shutdown       # Unix / Linux</strong></span>
<span class="strong"><strong>jboss-cli.bat --connect command=:shutdown      # Windows</strong></span>
</pre></div></div><div class="section" title="Stopping WildFly on a remote machine"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Stopping WildFly on a remote machine</h3></div></div></div><p>Shutting<a id="id50" class="indexterm"/> down an application server running on a remote machine is just a matter of connecting and providing the server's remote address to the CLI:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[disconnected /] connect 192.168.1.10</strong></span>

<span class="strong"><strong>[192.168.1.10:9990 /] shutdown</strong></span>
</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>Remotely accessing WildFly via the CLI requires authentication. Check out <a class="link" href="ch10.html" title="Chapter 10. Securing WildFly">Chapter 10</a>, <span class="emphasis"><em>Securing WildFly</em></span>, for more information about it. It also requires that the management interface on the remote WildFly install is opened to allow remote connections. This is covered in detail in <a class="link" href="ch07.html" title="Chapter 7. Using the Management Interfaces">Chapter 7</a>, <span class="emphasis"><em>Using the Management Interfaces</em></span>.</p></div></div></div></div><div class="section" title="Restarting WildFly"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Restarting WildFly</h2></div></div></div><p>The CLI<a id="id51" class="indexterm"/> contains a lot of useful commands. One<a id="id52" class="indexterm"/> of the most helpful options is the ability to reload all or part of the server configuration using the <code class="literal">reload</code> command.</p><p>When issued on the <a id="id53" class="indexterm"/>
<span class="strong"><strong>root</strong></span> <span class="strong"><strong>node</strong></span> <span class="strong"><strong>path</strong></span> of the server, WildFly reloads all the services configuration, as shown in the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[disconnected /] connect</strong></span>

<span class="strong"><strong>[standalone@localhost:9990 /] reload</strong></span>
</pre></div></div><div class="section" title="Installing the Eclipse environment"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Installing the Eclipse environment</h2></div></div></div><p>Although the main focus of this book is the administration of the WildFly application server, we are also concerned with application packaging and deployment. For this reason, we will sometimes add examples that require a development environment to be installed on your machine.</p><p>The development environment used in this book is Eclipse. Eclipse is known by developers <a id="id54" class="indexterm"/>worldwide and contains a huge set of plugins, building on its core functionality. If you are comfortable with another IDE, then feel free to use it, but this book will demonstrate Eclipse only. At the time of writing this, only Eclipse and NetBeans have plugins for WildFly.</p><p>So let's<a id="id55" class="indexterm"/> move to the Eclipse download page, located at <a class="ulink" href="http://www.eclipse.org/downloads">http://www.eclipse.org/downloads</a>.</p><p>From<a id="id56" class="indexterm"/> this page, download the latest Enterprise edition. The compressed package contains all the Java EE plugins already installed and requires about 248 MB of disk space. Have a look at the following screenshot:</p><div class="mediaobject"><img src="graphics/6232OS_01_08.jpg" alt="Installing the Eclipse environment"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>If you are using Java 8, you should make sure you download Eclipse Luna (4.4) or the patched Version of 4.3.</p></div></div><p>Once you have downloaded Eclipse, unzip it to a folder of your choice. The extracted folder will be called <code class="literal">eclipse</code>. To start Eclipse, navigate to the <code class="literal">eclipse</code> folder and run:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ./eclipse</strong></span>
</pre></div><p>Windows users can simply double-click on the executable file contained in the <code class="literal">eclipse</code> folder (the one with the big, blue, round eclipse icon).</p><div class="section" title="Installing JBoss tools"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>Installing JBoss tools</h3></div></div></div><p>The next <a id="id57" class="indexterm"/>step is to install the WildFly 8 adapter, which <a id="id58" class="indexterm"/>is a part of the suite of plugins named JBoss tools. Installing <a id="id59" class="indexterm"/>new plugins in Eclipse is pretty simple; just perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">From the menu, navigate to <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>Eclipse Marketplace</strong></span>.</li><li class="listitem">Then, search for the plugin you want to install (in this case, type <code class="literal">jboss tools</code>).</li><li class="listitem">Finally, click on <span class="strong"><strong>Install</strong></span> as shown in the following screenshot:<div class="mediaobject"><img src="graphics/6232OS_01_09.jpg" alt="Installing JBoss tools"/></div></li></ol></div><p>Make <a id="id60" class="indexterm"/>sure you select the version of JBoss tools that<a id="id61" class="indexterm"/> matches your version of Eclipse, for example, Luna or Kepler. In this <a id="id62" class="indexterm"/>case, we are using Eclipse Luna, so I have selected the Luna version of JBoss tools. If you want to install just the WildFly adapter, select <span class="strong"><strong>JBossAS Tools</strong></span>. Agree to the terms and click on <span class="strong"><strong>OK</strong></span>. Restart Eclipse when prompted to do so.</p><p>You can now set up the WildFly server in Eclipse by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to <span class="strong"><strong>New</strong></span> | <span class="strong"><strong>Server</strong></span>.</li><li class="listitem">Expand the <span class="strong"><strong>JBoss Community</strong></span> node.</li><li class="listitem">Select the option, <span class="strong"><strong>WildFly 8</strong></span>, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/6232OS_01_10.jpg" alt="Installing JBoss tools"/></div></li><li class="listitem">Make<a id="id63" class="indexterm"/> sure you select your installed Java 8<a id="id64" class="indexterm"/> JRE.</li><li class="listitem">Point the <a id="id65" class="indexterm"/>home directory to that of your WildFly root directory, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/6232OS_01_11.jpg" alt="Installing JBoss tools"/></div></li></ol></div></div></div></div>
<div class="section" title="Exploring the application server filesystem"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Exploring the application server filesystem</h1></div></div></div><p>Now that <a id="id66" class="indexterm"/>we are done with the installation of all the necessary tools, we <a id="id67" class="indexterm"/>will concentrate on the application server structure. The first thing you'll notice when you browse through the application server folders is that its filesystem is basically divided into two core parts: the dichotomy <a id="id68" class="indexterm"/>reflects the distinction between <span class="strong"><strong>standalone</strong></span> servers and <a id="id69" class="indexterm"/>
<span class="strong"><strong>domain</strong></span> servers.</p><p>The concept of a domain server is not new in the market of application servers, however, it was only introduced in JBoss with AS 7 as a way to <span class="emphasis"><em>manage and coordinate</em></span> a set of instances of the application server. An application server node which is not configured as part of a domain is qualified as a standalone server. A standalone server resembles, in practice, a single instance of the application server you used to see in releases of the application server prior to JBoss AS 7.</p><p>We will discuss the concept of domains in detail in <a class="link" href="ch05.html" title="Chapter 5. Configuring a WildFly Domain">Chapter 5</a>, <span class="emphasis"><em>Configuring a WildFly Domain</em></span>. For the time being, we will explore the different filesystem structures for both kinds of servers.</p><p>From a bird's-eye perspective, we can see that the main filesystem is split in two: one section that is pertinent to domain servers and another that is relative to standalone servers. The following diagram depicts the tree of the application server:</p><div class="mediaobject"><img src="graphics/6232OS_01_12.jpg" alt="Exploring the application server filesystem"/></div><p>In the<a id="id70" class="indexterm"/> next section, we will dig deeper into the folder<a id="id71" class="indexterm"/> structure of the WildFly application server, dissecting its content and looking at what it is used for.</p><div class="section" title="The bin folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>The bin folder</h2></div></div></div><p>The <code class="literal">bin</code> folder is <a id="id72" class="indexterm"/>where you will find all your<a id="id73" class="indexterm"/> startup scripts, such as <code class="literal">standalone.sh</code> and <code class="literal">domain.sh</code>. In addition to the startup scripts, you can find <code class="literal">standalone.conf</code>, which can be used to customize WildFly's bootstrap process.</p><p>As you saw earlier, the <code class="literal">bin</code> folder also includes the <code class="literal">jboss-cli.sh</code> script (<code class="literal">jboss-cli.bin</code> for Windows users), which starts the interactive CLI. You will also find various other useful scripts, such as <code class="literal">add-user.sh</code> and <code class="literal">vault.sh</code>. This folder also contains the web services utility scripts (<code class="literal">wsconsume.sh</code> and <code class="literal">wsprovide.sh</code>) used to generate the web services definition language and the corresponding Java interfaces.</p><p>There are <a id="id74" class="indexterm"/>several subfolders within the <code class="literal">bin</code> directory. The <code class="literal">service</code> folder and the <code class="literal">init.d</code> folder contain programs that allow you to<a id="id75" class="indexterm"/> install WildFly as service on Windows and Linux, respectively.</p></div><div class="section" title="The docs folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>The docs folder</h2></div></div></div><p>The <code class="literal">docs</code> folder <a id="id76" class="indexterm"/>contains two subfolders, <code class="literal">examples</code> and <code class="literal">schema</code>. The <code class="literal">schema</code> folder contains all the <code class="literal">.xsd</code> schema definition files <a id="id77" class="indexterm"/>used by the configuration as schema.</p><p>The <code class="literal">examples</code> folder<a id="id78" class="indexterm"/> contains numerous configuration<a id="id79" class="indexterm"/> examples, from a minimalistic standalone example to an ec2 HA example (HA meaning high availability, and ec2 referring to Amazon Elastic Compute Cloud).</p></div><div class="section" title="The domain folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>The domain folder</h2></div></div></div><p>The next <a id="id80" class="indexterm"/>folder is the <code class="literal">domain</code> folder, which <a id="id81" class="indexterm"/>contains the domain structure split across a set of folders:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <code class="literal">configuration</code> folder<a id="id82" class="indexterm"/> contains all the configuration files:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The main configuration file is <code class="literal">domain.xml</code>, which contains all services that are used by the nodes of the domain. It also configures the socket-binding interfaces for all services.</li><li class="listitem" style="list-style-type: disc">Another key file for domains is <code class="literal">host.xml</code>, which is used to define<a id="id83" class="indexterm"/> the <span class="strong"><strong>host </strong></span>controller (<span class="strong"><strong>HC</strong></span>).</li><li class="listitem" style="list-style-type: disc">The last file contained in the configuration folder is <code class="literal">logging.properties</code>, which is used to define the logging format of the bootstrap process for both the <span class="strong"><strong>process </strong></span>controller (<span class="strong"><strong>PC</strong></span>) and <a id="id84" class="indexterm"/>host controller.</li></ul></div></li><li class="listitem" style="list-style-type: disc">The <code class="literal">content</code> folder<a id="id85" class="indexterm"/> is used as a repository to store deployed modules.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">lib</code> folder<a id="id86" class="indexterm"/> hosts the subfolder <code class="literal">ext</code>, which is there to support Java SE/EE style extensions. Some of the application server deployers are able to scan this folder for additional libraries that are picked up by the local class loader. Nevertheless, this approach is not recommended and is maintained only for compliance with the language specifications. The <code class="literal">modules</code> folder should be used to install your libraries within WildFly.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">log</code> folder, as <a id="id87" class="indexterm"/>you might imagine, contains the logging output of the domain. The file, by default, is truncated every time the server is rebooted.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">servers</code> folder holds a set of subfolders for each server defined in the configuration<a id="id88" class="indexterm"/> file. The most useful <a id="id89" class="indexterm"/>directory contained beneath each server is<a id="id90" class="indexterm"/> the <code class="literal">log</code> folder, which is the location where single instances emit their log.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">data</code> folder<a id="id91" class="indexterm"/> is used by the application server to store its runtime data, such as transaction logging.</li><li class="listitem" style="list-style-type: disc">Finally, the <code class="literal">tmp</code> folder<a id="id92" class="indexterm"/> is used to store temporary files written by the server.</li></ul></div></div><div class="section" title="The standalone folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>The standalone folder</h2></div></div></div><p>If you are<a id="id93" class="indexterm"/> running the application<a id="id94" class="indexterm"/> server in standalone mode, this is the part of the filesystem you will be interested in. Its structure is quite similar to the <code class="literal">domain</code> folder with the notable exception of a <code class="literal">deployment</code> folder. Let's proceed with order. Just below the <code class="literal">standalone</code> folder, you will find the following set of subdirectories:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">configuration</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">data</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">deployments</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">lib</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">log</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">tmp</code></li></ul></div><p>The content and use of these subdirectories is explained as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <a id="id95" class="indexterm"/><code class="literal">configuration</code> folder contains the application server configuration files. As a matter of fact, the application server ships with a set of different configuration files, each one using a different set of extensions. Launching the standalone startup script without <a id="id96" class="indexterm"/>passing in any parameters will, by default, use the <code class="literal">standalone.xml</code> configuration file.<p>Besides <code class="literal">standalone.xml</code>, this folder contains the <code class="literal">logging.properties</code> file that configures the logging of the bootstrap process. The other files you will find here are <code class="literal">mgmt-users.properties</code> and <code class="literal">mgmt-group.properties</code>, which can be used to secure the management interfaces. Security is discussed in detail in <a class="link" href="ch10.html" title="Chapter 10. Securing WildFly">Chapter 10</a>, <span class="emphasis"><em>Securing WildFly</em></span>.</p></li><li class="listitem" style="list-style-type: disc">The <code class="literal">data</code> folder<a id="id97" class="indexterm"/> is used by the application server to store its runtime data, such as transaction logging.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">deployments</code> folder<a id="id98" class="indexterm"/> is the location in which users can place their deployment content (for example, WAR, EAR, JAR, and SAR files) to have it automatically deployed in the server <a id="id99" class="indexterm"/>runtime. Users, particularly <a id="id100" class="indexterm"/>those running production systems, are encouraged to use WildFly's management APIs to upload and deploy deployment content instead of relying on the deployment scanner subsystem that periodically scans this directory. See <a class="link" href="ch06.html" title="Chapter 6. Application Structure and Deployment">Chapter 6</a>, <span class="emphasis"><em>Application Structure and Deployment</em></span>, for more details.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">lib</code> folder<a id="id101" class="indexterm"/> hosts the subfolder <code class="literal">ext</code>, which is used to define extensions of the application server. The same considerations for the domain's <code class="literal">lib</code> path apply here.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">log</code> folder<a id="id102" class="indexterm"/> contains the logs emitted by the standalone instance of the application server. The default logfile, named <code class="literal">server.log</code>, is, by default, truncated every time the server is rebooted. This can be configured within the <code class="literal">standalone.xml</code> file.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">tmp</code> folder<a id="id103" class="indexterm"/> is used to save temporary files written by WildFly.</li></ul></div></div><div class="section" title="The welcome-content folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>The welcome-content folder</h2></div></div></div><p>The <a id="id104" class="indexterm"/>
<code class="literal">welcome-content</code> folder contains the default <a id="id105" class="indexterm"/>page, which is loaded when you browse to the root of your application server (<code class="literal">http://localhost:8080</code>). In <a id="id106" class="indexterm"/>terms of web server configuration, this is the <span class="strong"><strong>Web root context</strong></span>.</p></div><div class="section" title="The modules folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>The modules folder</h2></div></div></div><p>Beneath <a id="id107" class="indexterm"/>the <code class="literal">modules</code> folder, you will find<a id="id108" class="indexterm"/> the application server's set of libraries, which are a part of the server distribution.</p><p>Historically, JBoss AS releases used to manage their set of libraries in different ways. Let's recap to bring about some order. Earlier, Release 4.x was used to define the core server libraries into the <code class="literal">JBOSS_HOME/server</code> libraries. Thereafter, each server definition had its specific library in the <code class="literal">server/&lt;servername&gt;/lib</code> folder.</p><p>This approach was pretty simple, however, it led to a useless proliferation of libraries that were replicated in the <code class="literal">default/all</code> server distribution.</p><p>Releases 5.x and 6.x had the concept of the <code class="literal">common/lib</code> folder, which was the main repository for all modules that were common to all server definitions. Each server distribution still contained a <code class="literal">server/&lt;servername&gt;/lib</code> path for the libraries that were specific to that server definition. Unchanged from the earlier release was the repository for core server modules comprised by <code class="literal">JBOSS_HOME/server</code>.</p><p>JBoss AS 7 followed a more modular approach improving over all the earlier approaches. This modular approach remains unchanged in WildFly. The server bootstrap library, <code class="literal">jboss-modules.jar</code>, can be found in the root of the application server. This single archive is all you need to bootstrap WildFly's application server kernel.</p><p>The main system modules are located in the <code class="literal">system/layers/base</code> folder under the <code class="literal">modules</code> folder. This has changed slightly in WildFly as, in JBoss AS 7, all modules were defined directly in the <code class="literal">modules</code> folder.</p><p>The following table outlines the diverse approaches used across different server releases:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>AS release</p>
</th><th style="text-align: left" valign="bottom">
<p>Bootstrap libraries</p>
</th><th style="text-align: left" valign="bottom">
<p>Server libraries</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>4.x</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">JBOSS_HOME/server</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">JBOSS_HOME/server/&lt;server&gt;/lib</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>5.x and 6.x</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">JBOSS_HOME/server</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">JBOSS_HOME/common/lib</code>
</p>
<p>and</p>
<p>
<code class="literal">JBOSS_HOME/server/&lt;server&gt;/lib</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>7.x and 8.x</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">JBOSS_HOME/jboss-modules.jar</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">JBOSS_HOME/modules</code>
</p>
</td></tr></tbody></table></div><p>Listing all the modules will take up too much space, however, the module repository layout is often the same as the module name. For example, the <code class="literal">org.jboss.as.ejb3</code> module can be found in the <code class="literal">org/jboss/as/ejb3</code> subfolder of the <code class="literal">modules</code> folder. This approach to organizing the modules certainly makes sense, and if you are used to a maven repository layout structure, you will have no problem getting your head around it.</p><p>In the last section of this chapter, we will see how modules are actually loaded by the application server.</p></div><div class="section" title="Understanding WildFly's kernel"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>Understanding WildFly's kernel</h2></div></div></div><p>WildFly's kernel <a id="id109" class="indexterm"/>was redesigned in JBoss AS 7. Understanding<a id="id110" class="indexterm"/> the details of the modular kernel will help you understand concepts introduced later in the book. The kernel is based on two main projects, as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>JBoss Modules</strong></span>: This project handles class loading of resources in the container. You<a id="id111" class="indexterm"/> can think about JBoss modules as a thin bootstrap wrapper for executing an application in a modular environment.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Modular Service Container</strong></span> (<span class="strong"><strong>MSC</strong></span>): This project provides a way to install, uninstall, and <a id="id112" class="indexterm"/>manage services used by a container. MSC further enables resource<a id="id113" class="indexterm"/> injection into services and dependency management between services.</li></ul></div><p>The following <a id="id114" class="indexterm"/>diagram depicts the basic architecture of WildFly's server kernel:</p><div class="mediaobject"><img src="graphics/6232OS_01_13.jpg" alt="Understanding WildFly's kernel"/></div><p>With<a id="id115" class="indexterm"/> this information, we can now progress<a id="id116" class="indexterm"/> to the loading of server modules.</p></div><div class="section" title="Loading application server modules"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>Loading application server modules</h2></div></div></div><p>Learning <a id="id117" class="indexterm"/>more about JBoss modules <a id="id118" class="indexterm"/>is essential if you want to understand the server configuration discussed in the next few chapters. At its heart, a module is really just a wrapper for a JAR file but treated by the application container as a module. The reason for this is class loading and dependency management, as each module<a id="id119" class="indexterm"/> can be treated as a pluggable unit, as <a id="id120" class="indexterm"/>depicted by the next diagram. WildFly has two different types of modules; the only difference between them is the way they are packaged:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Static<a id="id121" class="indexterm"/> modules</li><li class="listitem" style="list-style-type: disc">Dynamic <a id="id122" class="indexterm"/>modules</li></ul></div><p>Have a look at the following screenshot:</p><div class="mediaobject"><img src="graphics/6232OS_01_14.jpg" alt="Loading application server modules"/></div><p>Using a<a id="id123" class="indexterm"/> static module is the <a id="id124" class="indexterm"/>simplest way to load a module, and it's used as the default module when starting up the application server. Static modules are defined within the <code class="literal">JBOSS_HOME/modules/system/layers/base</code> directory. Each module has a configuration file called <code class="literal">module.xml</code>. The following example shows the contents of the <code class="literal">javax.batch.api</code> <code class="literal">module.xml</code> file:</p><div class="informalexample"><pre class="programlisting">&lt;module  name="javax.batch.api"&gt;
    &lt;resources&gt;
        &lt;resource-root path="jboss-batch-api_1.0_spec-1.0.0.Final.jar"/&gt;
    &lt;/resources&gt;
    &lt;dependencies&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="javax.enterprise.api"/&gt;
    &lt;/dependencies&gt;    
&lt;/module&gt;</pre></div><p>As you <a id="id125" class="indexterm"/>can see, a module definition contains two<a id="id126" class="indexterm"/> main elements, the <span class="strong"><strong>resources</strong></span> defined in the module (and their path) and the module's <span class="strong"><strong>dependencies</strong></span>. In this example, the main resource is <code class="literal">jboss-batch-api_1.0_spec-1.0.0.Final.jar</code>, contained in the same folder as the <code class="literal">module.xml</code> file. It has dependencies on two other modules, <code class="literal">javax.api</code> and <code class="literal">javax.enterprise.api</code>.</p><p>A module which is defined with a <code class="literal">main-class</code> element is said to be <span class="strong"><strong>executable</strong></span>. In other words, the module<a id="id127" class="indexterm"/> name can be listed on the command line, and the standard static <code class="literal">main(String[])</code> method in the named module's <code class="literal">main-class</code> will be loaded and executed.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>Creating custom static modules is useful should you have many applications deployed to your server, which rely on the same third-party libraries. This means that<a id="id128" class="indexterm"/> you do not have to deploy multiple applications with the same bundled libraries. The other benefit to creating custom static modules is that you can declare explicit dependencies on other static modules. Installing modules is covered in <a class="link" href="ch03.html" title="Chapter 3. Configuring Enterprise Services">Chapter 3</a>, <span class="emphasis"><em>Configuring Enterprise Services</em></span>, in which we install a JDBC driver as a module.</p></div></div><p>The <a id="id129" class="indexterm"/>other way to approach the module repository is by using dynamic modules. This can be achieved in two ways, as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Firstly, we can add the module information, such as its dependencies, within the <code class="literal">MANIFEST</code> file within your JAR, for example, in the Main class <code class="literal">mypackage/MyClass</code>:<div class="informalexample"><pre class="programlisting">Dependencies: org.jboss.logging</pre></div></li><li class="listitem" style="list-style-type: disc">The second way to do this is by adding the dependency to the <code class="literal">jboss-deployment-structure.xml</code> file, as shown in the following code:<div class="informalexample"><pre class="programlisting">&lt;jboss-deployment-structure&gt;
  &lt;deployment&gt;
    &lt;dependencies&gt;
      &lt;module name="org.jboss.logging" /&gt;
    &lt;/dependencies&gt;
  &lt;/deployment&gt;
&lt;/jboss-deployment-structure&gt;</pre></div></li></ul></div><p>We will cover this in more detail in <a class="link" href="ch06.html" title="Chapter 6. Application Structure and Deployment">Chapter 6</a>, <span class="emphasis"><em>Application Structure and Deployment</em></span>, in which we explain class loading.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Summary</h1></div></div></div><p>In this chapter, we outlined the latest features that come shipped with WildFly.</p><p>We have seen that WildFly is composed of modular architecture, and that the kernel of WildFly is made up of two separate projects: JBoss Modules and MSC.</p><p>This modular architecture results in an exceptionally light kernel that is able to load modules as required, resulting in a quicker startup time.</p><p>The physical structure of the application server reflects the dichotomy between standalone servers and domain servers, the former being a single node instance and the latter a set of managed resources controlled by a domain controller and a host controller.</p><p>In the next chapter, we will dig deeper into the details of how to configure the application server, focusing our attention on the standalone server configuration file (<code class="literal">standalone.xml</code>), which contains the configuration for both the core application server and the stack of enterprise services running on top of it.</p></div></body></html>