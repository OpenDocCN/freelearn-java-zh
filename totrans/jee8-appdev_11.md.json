["```java\n<form id=\"customerForm\"> \n    <div class=\"form-group\"> \n        <label for=\"salutation\">Salutation</label><br/> \n        <select id=\"salutation\" name=\"salutation\" \n            class=\"form-control\" style=\"width: 100px !important;\"> \n            <option value=\"\"> </option> \n            <option value=\"Mr\">Mr</option> \n            <option value=\"Mrs\">Mrs</option> \n            <option value=\"Miss\">Miss</option> \n            <option value=\"Ms\">Ms</option> \n            <option value=\"Dr\">Dr</option> \n        </select> \n    </div> \n    <div class=\"form-group\"> \n        <label for=\"firstName\">First Name</label> \n        <input type=\"text\" maxlength=\"10\" class=\"form-control\"\n         id=\"firstName\" name=\"firstName\"  placeholder=\"First Name\"> \n    </div> \n    <div class=\"form-group\"> \n        <label for=\"middleName\">Middle Name</label> \n        <input type=\"text\" maxlength=\"10\" class=\"form-control\"\n         id=\"middleName\" name=\"middleName\" placeholder=\"Middle \n         Name\"> \n    </div> \n    <div class=\"form-group\"> \n        <label for=\"lastName\">Last Name</label> \n        <input type=\"text\" maxlength=\"20\" class=\"form-control\"\n         id=\"lastName\" name=\"lastName\" placeholder=\"Last Name\"> \n    </div> \n    <div class=\"form-group\"> \n        <button type=\"button\" id=\"submitBtn\" \n         class=\"btn btn-primary\">Submit</button> \n    </div> \n</form> \nAs we can see, this is a standard HTML form using Twitter Bootstrap CSS classes. Our page also has a script to send form data to the controller microservice. \n<script> \n  $(document).ready(function () { \n      $(\"#submitBtn\").on('click', function () { \n          var customerData = $(\"#customerForm\").serializeArray(); \n          $.ajax({ \n              headers: { \n                  'Content-Type': 'application/json' \n              }, \n              crossDomain: true, \n              dataType: \"json\", \n              type: \"POST\", \n              url:   \n          \"http://localhost:8180/CrudController/webresources/customercontroller/\", \n              data: JSON.stringify(customerData) \n            }).done(function (data, textStatus, jqXHR) { \n              if (jqXHR.status === 200) { \n                  $(\"#msg\").removeClass(); \n                  $(\"#msg\").toggleClass(\"alert alert-success\"); \n                  $(\"#msg\").html(\"Customer saved successfully.\"); \n              } else { \n                  $(\"#msg\").removeClass(); \n                  $(\"#msg\").toggleClass(\"alert alert-danger\"); \n                  $(\"#msg\").html(\"There was an error saving \n                   customer data.\"); \n              } \n          }).fail(function (data, textStatus, jqXHR) { \n              console.log(\"ajax call failed\"); \n              console.log(\"data = \" + JSON.stringify(data)); \n              console.log(\"textStatus = \" + textStatus); \n              console.log(\"jqXHR = \" + jqXHR); \n              console.log(\"jqXHR.status = \" + jqXHR.status); \n          }); \n      }); \n  }); \n</script> \n```", "```java\n[{\"name\":\"salutation\",\"value\":\"Mr\"},{\"name\":\"firstName\",\"value\":\"John\"},{\"name\":\"middleName\",\"value\":\"\"},{\"name\":\"lastName\",\"value\":\"Doe\"}] \n```", "```java\njava -jar payara-micro-4.1.2.173.jar --noCluster --deploy /path/to/CrudView.war\n```", "```java\n    **[2017-10-21T12:00:35.196-0400] [] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508601635196] [levelValue: 800] Loading application [CrudView] at [/CrudView]** \n\n    **[2017-10-21T12:00:35.272-0400] [] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508601635272] [levelValue: 800] CrudView was successfully deployed in 1,332 milliseconds.** \n\n    **[2017-10-21T12:00:35.274-0400] [] [INFO] [] [PayaraMicro] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508601635274] [levelValue: 800] Deployed 1 archive(s)** \n\n```", "```java\npackage net.ensode.javaee8book.microservices.crudcontroller.service; \n//imports omitted for brevity \n@Path(\"/customercontroller\") \npublic class CustomerControllerService { \n\n    public CustomerControllerService() { \n    } \n\n    @OPTIONS \n    public Response options() { \n        return Response.ok(\"\") \n .header(\"Access-Control-Allow-Origin\", \"http://localhost:8080\") \n                .header(\"Access-Control-Allow-Headers\", \"origin,\" +  \n                        \"content-type, accept, authorization\") \n                .header(\"Access-Control-Allow-Credentials\", \"true\") \n                .header(\"Access-Control-Allow-Methods\",  \n                        \"GET, POST, PUT, DELETE, OPTIONS, HEAD\") \n                .header(\"Access-Control-Max-Age\", \"1209600\") \n                .build(); \n    } \n\n    @POST \n    @Consumes(MediaType.APPLICATION_JSON) \n    public Response addCustomer(String customerJson) { \n        Response response; \n        Response persistenceServiceResponse; \n        CustomerPersistenceClient client =  \n          new CustomerPersistenceClient(); \n        Customer customer = jsonToCustomer(customerJson); \n        persistenceServiceResponse = client.create(customer); \n        client.close(); \n\n        if (persistenceServiceResponse.getStatus() == 201) { \n            response = Response.ok(\"{}\"). \n                    header(\"Access-Control-Allow-Origin\", \n                           \"http://localhost:8080\").build(); \n\n        } else { \n            response = Response.serverError(). \n                    header(\"Access-Control-Allow-Origin\",\n \"http://localhost:8080\").build(); \n        } \n        return response; \n    } \n\n    private Customer jsonToCustomer(String customerJson) { \n        Customer customer = new Customer(); \n        JsonArray jsonArray; \n        try (JsonReader jsonReader = Json.createReader( \n                new StringReader(customerJson))) { \n            jsonArray = jsonReader.readArray(); \n        } \n\n        for (JsonValue jsonValue : jsonArray) { \n            JsonObject jsonObject = (JsonObject) jsonValue; \n            String propertyName = jsonObject.getString(\"name\"); \n            String propertyValue = jsonObject.getString(\"value\"); \n\n            switch (propertyName) { \n                case \"salutation\": \n                    customer.setSalutation(propertyValue); \n                    break; \n                case \"firstName\": \n                    customer.setFirstName(propertyValue); \n                    break; \n                case \"middleName\": \n                    customer.setMiddleName(propertyValue); \n                    break; \n                case \"lastName\": \n                    customer.setLastName(propertyValue); \n                    break; \n                default: \n                    LOG.log(Level.WARNING, String.format( \n                            \"Unknown property name found: %s\", \n                             propertyName)); \n                    break; \n            } \n        } \n        return customer; \n    } \n} \n```", "```java\npackage net.ensode.javaee8book.microservices.crudcontroller.restclient; \n//imports omitted \npublic class CustomerPersistenceClient { \n\n    private final WebTarget webTarget; \n    private final Client client; \n private static final String BASE_URI = \"http://localhost:8280/CrudPersistence/webresources\"; \n\n    public CustomerPersistenceClient() { \n client = javax.ws.rs.client.ClientBuilder.newClient(); webTarget = client.target(BASE_URI).path(\"customerpersistence\"); \n    } \n\n    public Response create(Customer customer) throws \n      ClientErrorException { \n return webTarget.request( javax.ws.rs.core.MediaType.APPLICATION_JSON). post(javax.ws.rs.client.Entity.entity(customer, javax.ws.rs.core.MediaType.APPLICATION_JSON), Response.class); \n    } \n\n    public void close() { \n        client.close(); \n    } \n} \n```", "```java\njava -jar payara-micro-4.1.2.173.jar --noCluster --port 8180 --deploy /path/to/CrudController.war\n```", "```java\n[2017-10-21T12:04:06.505-0400] [] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508601846505] [levelValue: 800] Loading application [CrudController] at [/CrudController]\n\n[2017-10-21T12:04:06.574-0400] [] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508601846574] [levelValue: 800] CrudController was successfully deployed in 1,743 milliseconds.\n\n[2017-10-21T12:04:06.576-0400] [] [INFO] [] [PayaraMicro] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508601846576] [levelValue: 800] Deployed 1 archive(s)\n```", "```java\npackage net.ensode.javaee9book.microservices.crudpersistence.service; \n\n//imports omitted for brevity \n@ApplicationScoped \n@Path(\"customerpersistence\") \npublic class CustomerPersistenceService { \n    @Context \n    private UriInfo uriInfo; \n    @Inject \n    private CrudDao customerDao; \n\n    @POST \n    @Consumes(MediaType.APPLICATION_JSON) \n    public Response create(Customer customer) { \n        try { \n            customerDao.create(customer); \n        } catch (Exception e) { \n            return Response.serverError().build(); \n        } \n        return Response.created(uriInfo.getAbsolutePath()).build(); \n    } \n} \n```", "```java\npackage net.ensode.microservices.crudpersistence.dao; \n//imports omitted for brevity \n@ApplicationScoped \n@Transactional \npublic class CrudDao { \n    @PersistenceContext(unitName = \"CustomerPersistenceUnit\") \n    private EntityManager em; \n\n    public void create(Customer customer) { \n        em.persist(customer); \n    } \n} \n```", "```java\njava -jar payara-micro-4.1.2.173.jar --port 8280 --noCluster --deploy /path/to//CrudPersistence.war \n```", "```java\n[2017-10-21T15:15:17.361-0400] [] [INFO] [AS-WEB-GLUE-00172] [javax.enterprise.web] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508613317361] [levelValue: 800] Loading application [CrudPersistence] at [/CrudPersistence]\n\n[2017-10-21T15:15:17.452-0400] [] [INFO] [] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508613317452] [levelValue: 800] CrudPersistence was successfully deployed in 4,201 milliseconds.\n\n[2017-10-21T15:15:17.453-0400] [] [INFO] [] [PayaraMicro] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1508613317453] [levelValue: 800] Deployed 1 archive(s)\n\n```"]