<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;6.&#xA0;Revealing Code Quality"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06" class="calibre1"/>Chapter 6. Revealing Code Quality</h1></div></div></div><div class="blockquote"><blockquote class="blockquote1"><p class="calibre20">"Testing by itself does not improve software quality. Test results are an indicator of quality, but in and of themselves, they don't improve it. Trying to improve software quality by increasing the amount of testing is like trying to lose weight by weighing yourself more often. What you eat before you step onto the scale determines how much you will weigh, and the software development techniques you use determine how many errors testing will find. If you want to lose weight, don't buy a new scale; change your diet. If you want to improve your software, don't test more; develop better."</p><p class="calibre20">—Steve McConnell</p></blockquote></div><p class="calibre9">A poorly developed system generates more bugs than a well-designed system. Manual testing can identify software bugs but cannot improve the quality of the system; however, TDD and JUnit tests are considered as automated unit testing frameworks, and they indeed help in improving the quality of the system. Static code quality analysis exposes quality issues in the code and provides suggestions for improvement, and continuous health monitoring keeps the system healthy.</p><p class="calibre9">The following topics will be covered in this chapter:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Code quality metrics</li><li class="listitem">Static code analysis using PMD, Checkstyle, and FindBugs</li><li class="listitem">The SonarQube dashboard</li><li class="listitem">The SonarQube runner</li><li class="listitem">Code quality analysis using Ant, Maven, and Gradle</li></ul></div></div>

<div class="book" title="Chapter&#xA0;6.&#xA0;Revealing Code Quality">
<div class="book" title="Understanding the static code analysis"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch06lvl1sec32" class="calibre1"/>Understanding the static code analysis</h1></div></div></div><p class="calibre9">Static code analysis is the process of analyzing<a id="id495" class="calibre1"/> code without executing it. Code review is also a sort of static code analysis but is performed with humans or team members. Generally, static code analysis is performed by an automated tool.</p><p class="calibre9">Usually, a static analysis includes the following metrics:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Violation of coding best practices such as long method body, long parameter list, large classes, and variable names.</li><li class="listitem">Cohesion represents responsibility of <a id="id496" class="calibre1"/>a single module (class). If a module or class possesses too many responsibilities, such as tax calculation, sending e-mails, and formatting user inputs, the class or module is less cohesive. Performing multiple dissimilar tasks introduces complexity and maintainability issues. High cohesion means performing only a particular type of task.<p class="calibre15">Suppose a person is assigned to handle customer tickets, code new features, design the architecture, organize the annual office party, and so on; this person will be over occupied and is bound to make mistakes. It will be very difficult for him or her to manage all the responsibilities.</p><p class="calibre15">In refactoring terms, if a class performs too many tasks, the class is called a GOD object or class.</p></li><li class="listitem">Coupling measures the dependency on other modules or code. Low dependency enforces high cohesion. If module C depends on two other modules, A and B, any change in the APIs of A or B will force C to change.<p class="calibre15">Event-driven architecture is an example of loose coupling. In an event-driven system when something changes, an event is published to a destination without any knowledge of who will process the event; the event consumers consume the event and take action(s). This decouples the event publisher from the event consumers. So, any change in the consumer doesn't force the publisher to change.</p></li><li class="listitem">Cyclomatic complexity measures the complexity of a program. In 1976, Thomas J. McCabe, Sr. developed cyclomatic complexity. It measures the number of linearly independent paths in a program. This is not restricted to a program-level complexity, but it can also be applied to individual functions, modules, methods, or classes within a program.<p class="calibre15">Cyclomatic complexity of a program is defined with a control flow graph of the program. Complexity is represented as <span class="strong"><em class="calibre11">M = E-N+2P</em></span>, where <span class="strong"><em class="calibre11">M</em></span> is complexity, <span class="strong"><em class="calibre11">E</em></span> is the number of edges of the graph, <span class="strong"><em class="calibre11">N</em></span> is the number of nodes of the graph, and <span class="strong"><em class="calibre11">P</em></span> is the number of connected components. Any method with a complexity greater than 10 has a serious problem.</p><p class="calibre15">A method that has<a id="id497" class="calibre1"/> no conditional statements has a cyclomatic complexity of 1. The following diagram represents the directed graph and complexity:</p><div class="mediaobject"><img src="../images/00077.jpeg" alt="Understanding the static code analysis" class="calibre12"/></div><p class="calibre16"> </p><p class="calibre15">A method with a single condition (an IF) or a single loop (a FOR) has a complexity of 2. The following diagram explains the calculation:</p><div class="mediaobject"><img src="../images/00078.jpeg" alt="Understanding the static code analysis" class="calibre12"/></div><p class="calibre16"> </p><p class="calibre15">The following is the corresponding code:</p><div class="informalexample"><pre class="programlisting">public void trim(String input){
    if(input != null){
      return input.trim();
    }
    return null;
}</pre></div></li></ul></div><p class="calibre9">Various automated tools are available for static code analysis. In addition, the built-in Eclipse compiler can already perform <a id="id498" class="calibre1"/>a lot of static code analysis. The following are the widely used ones:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre10">Checkstyle</strong></span>: This tool performs static code analysis, and it can also be used to show violations of a configured<a id="id499" class="calibre1"/> coding standard. It comes under a GNU General Public License. You can check it<a id="id500" class="calibre1"/> out at the following link: <a class="calibre1" href="http://checkstyle.sourceforge.net">http://checkstyle.sourceforge.net</a>.</li><li class="listitem"><span class="strong"><strong class="calibre10">FindBugs</strong></span>: This is an open source<a id="id501" class="calibre1"/> static bytecode analyzer for potential Java errors. Plugins are available for Eclipse, NetBeans, and IntelliJ IDEA. It comes under a GNU General Public License. FindBugs can be configured with Jenkins. The following is the link for the <a id="id502" class="calibre1"/>FindBugs website: <a class="calibre1" href="http://findbugs.sourceforge.net">http://findbugs.sourceforge.net</a>.</li><li class="listitem"><span class="strong"><strong class="calibre10">PMD</strong></span>: This is a static ruleset <a id="id503" class="calibre1"/>based on the Java source code analyzer that identifies potential problems. PMD has <a id="id504" class="calibre1"/>an Eclipse plugin that shows an error icon in the <a id="id505" class="calibre1"/>editor, but PMD errors are not true errors; rather, they're the result of inefficient code.</li></ul></div><p class="calibre9">In the next section, we will examine the static analysis tools.</p></div></div>
<div class="book" title="Working with the Checkstyle plugin"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec33" class="calibre1"/>Working with the Checkstyle plugin</h1></div></div></div><p class="calibre9">This section covers the<a id="id506" class="calibre1"/> Checkstyle static analysis tool and how to configure Eclipse with Checkstyle. Checkstyle verifies the following rules:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Missing Javadoc comments</li><li class="listitem">The use of magic numbers</li><li class="listitem">Naming conventions of variables and methods</li><li class="listitem">Method's argument length and line lengths</li><li class="listitem">The use of imports</li><li class="listitem">The spaces between some characters</li><li class="listitem">The good practices of class construction</li><li class="listitem">Duplicated code</li></ul></div><p class="calibre9">The Checkstyle plugin <a id="id507" class="calibre1"/>can be downloaded from <a class="calibre1" href="http://sourceforge.net/projects/eclipse-cs/">http://sourceforge.net/projects/eclipse-cs/</a>, or you can install it through Eclipse Marketplace. Just search for Checkstyle.</p><p class="calibre9">Perform the following<a id="id508" class="calibre1"/> steps to configure the Checkstyle<a id="id509" class="calibre1"/> Eclipse plugin:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Click on the <span class="strong"><strong class="calibre10">Install New Software</strong></span> menu; Eclipse will open a new wizard.</li><li class="listitem" value="2">Click on the <span class="strong"><strong class="calibre10">Add</strong></span> button and a new <span class="strong"><strong class="calibre10">Add Repository</strong></span> pop up will appear.</li><li class="listitem" value="3">Click on the <span class="strong"><strong class="calibre10">Archive...</strong></span> button and browse to the downloaded ZIP file's location.</li><li class="listitem" value="4">Select defaults, finish installation, and restart Eclipse.</li></ol><div class="calibre17"/></div><p class="calibre9">The following screenshot shows the Checkstyle components to be installed:</p><div class="mediaobject"><img src="../images/00079.jpeg" alt="Working with the Checkstyle plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">Now that installation has finished, it's time to examine the Checkstyle capabilities. Create a Java project named <code class="literal">CodeQualityChapter06</code> (create a <code class="literal">chapter06</code> folder under a directory named <code class="literal">packt</code> and save the project in <code class="literal">\Packt\chapter06</code>), add a Java class named <code class="literal">Calculator.java</code>, and add the following code snippet to <code class="literal">Calculator.java</code>:</p><div class="informalexample"><pre class="programlisting">package com.packt.code.quality;
public class Calculator&lt;T extends Number&gt; {
  public String add(T... numbers) {
    T result = null;
    int x =0;
    for(T t:numbers) { x++;
      if(result == null) {
        if(t instanceof Integer) {
          result = (T) new Integer("0");
        }else if(t instanceof Short) {
          result = (T) new Short("0");
        }else if(t instanceof Long) {
          result = (T) new Long("0");
        }else if(t instanceof Float) {
          result = (T) new Float("0.0");
        }else if(t instanceof Double) {
          result = (T) new Double("0.0");
        }
      }
      if(t instanceof Integer) {
        Integer val = ((Integer)result + (Integer)t);
        result =(T)val;
      }else if(t instanceof Short) {
        Short val = (short) ((Short)result + (Short)t);
        result =(T)val;
      }else if(t instanceof Long) {
        Long val =  ((Long)result + (Long)t);
        result =(T)val;
      }else if(t instanceof Float) {
        Float val =  ((Float)result + (Float)t);
        result =(T)val;
      }else if(t instanceof Double) {
        Double val =  ((Double)result + (Double)t);
        result =(T)val;
      }
      if(x == 1045) {
        System.out.println("warning !!!");
      }
    }
    return result.toString();
  } }</pre></div><p class="calibre9">This class, <code class="literal">Calculator.java</code>, calculates the<a id="id510" class="calibre1"/> sum of a list of numbers. It's a generic class; we can<a id="id511" class="calibre1"/> calculate the sum of integers or doubles or any number.</p><p class="calibre9">Right-click on <code class="literal">CodeQualityChapter06</code> and enable <span class="strong"><strong class="calibre10">Checkstyle</strong></span>. The following screenshot displays the Checkstyle pop-up menu:</p><div class="mediaobject"><img src="../images/00080.jpeg" alt="Working with the Checkstyle plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">This action will trigger the Checkstyle validation. It will open the <span class="strong"><strong class="calibre10">Checks</strong></span> tab (if the <span class="strong"><strong class="calibre10">Checks</strong></span> tab is not opened <a id="id512" class="calibre1"/>automatically, then open the view from the<a id="id513" class="calibre1"/> show views menu) and show a graphical view of violations. The following screenshot displays the graphical violation pie chart:</p><div class="mediaobject"><img src="../images/00081.jpeg" alt="Working with the Checkstyle plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">Another view shows the violations in a tabular format. The following screenshot displays the violations in a tabular format:</p><div class="mediaobject"><img src="../images/00082.jpeg" alt="Working with the Checkstyle plugin" class="calibre12"/></div><p class="calibre13"> </p></div>
<div class="book" title="Exploring the FindBugs plugin"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec34" class="calibre1"/>Exploring the FindBugs plugin</h1></div></div></div><p class="calibre9">This section describes the configuration and usage of the FindBugs plugin.</p><p class="calibre9">FindBugs works with three types of errors. You can visit <a class="calibre1" href="http://findbugs.sourceforge.net/bugDescriptions.html">http://findbugs.sourceforge.net/bugDescriptions.html</a> for the FindBugs error details. The following are the FindBugs-supported<a id="id514" class="calibre1"/> error categories and errors:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre10">Correctness bug: </strong></span>This is an apparent coding mistake that results in code that was probably not what the <a id="id515" class="calibre1"/>developer intended; for example, a method ignores the return value of a self-assigned field. The following <a id="id516" class="calibre1"/>are a few examples of a correctness bug:<div class="book"><ul class="itemizedlist1"><li class="listitem">The class defines <code class="literal">tostring()</code> but it should be <code class="literal">toString()</code></li><li class="listitem">A value is checked here to see whether it is null, but this value can't be null because it was previously dereferenced, and if it were null, a null pointer exception would have occurred at the earlier dereference</li><li class="listitem">The method in the subclass doesn't override a similar method in a superclass because the type of a parameter doesn't exactly match the type of the corresponding parameter in the superclass</li><li class="listitem">Class defines <code class="literal">equal(Object)</code> but it should be <code class="literal">equals(Object)</code></li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre10">Bad practice:</strong></span> This includes<a id="id517" class="calibre1"/> violations of recommended best practices and essential coding practice. The following are the<a id="id518" class="calibre1"/> examples of bad practices:<div class="book"><ul class="itemizedlist1"><li class="listitem"><span class="strong"><strong class="calibre10">Hash code and equals problems</strong></span>:<div class="book"><ul class="itemizedlist2"><li class="listitem">Class defines <code class="literal">hashCode()</code> but it <a id="id519" class="calibre1"/>should be <code class="literal">equals()</code> and <code class="literal">hashCode()</code></li><li class="listitem">Class defines <code class="literal">equals()</code> but it should be <code class="literal">hashCode()</code></li><li class="listitem">Class defines <code class="literal">hashCode()</code> and uses <code class="literal">Object.equals()</code></li><li class="listitem">Class defines <code class="literal">equals()</code> and uses <code class="literal">Object.hashCode()</code></li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre10">Cloneable idiom</strong></span>:<div class="book"><ul class="itemizedlist2"><li class="listitem">Class defines <code class="literal">clone()</code> but <a id="id520" class="calibre1"/>doesn't implement <code class="literal">Cloneable</code></li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre10">Serializable problems</strong></span>:<div class="book"><ul class="itemizedlist2"><li class="listitem">Class is <code class="literal">Serializable</code>, but doesn't define <code class="literal">serialVersionUID</code></li><li class="listitem">Comparator doesn't implement <code class="literal">Serializable</code></li><li class="listitem">Non serializable class has a <code class="literal">serializable</code> inner class</li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre10">Dropped exceptions</strong></span>: Here, an exception is<a id="id521" class="calibre1"/> created and dropped rather than thrown, such as the following example, where the exception was created but not thrown:<div class="informalexample"><pre class="programlisting">if (x &lt; 0)
  new IllegalArgumentException("x must be nonnegative");</pre></div></li><li class="listitem"><span class="strong"><strong class="calibre10">Misuse of finalize</strong></span>:<div class="book"><ul class="itemizedlist2"><li class="listitem">Explicit invocation of finalize</li><li class="listitem">Finalizer does not call the<a id="id522" class="calibre1"/> superclass finalizer</li></ul></div></li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre10">Dodgy errors</strong></span>: This kind of code is confusing, anomalous, or written in a way that leads to errors. Examples<a id="id523" class="calibre1"/> include <a id="id524" class="calibre1"/>the following:<div class="book"><ul class="itemizedlist1"><li class="listitem"><span class="strong"><strong class="calibre10">Dead store of class literal</strong></span>: An instruction <a id="id525" class="calibre1"/>assigns a class literal to a variable and then never uses it.</li><li class="listitem"><span class="strong"><strong class="calibre10">Switch fall through</strong></span>: A value stored in the previous switch case is overwritten here due to a switch fall<a id="id526" class="calibre1"/> through. It is likely that you forgot to put a break or return at the end of the previous case.</li><li class="listitem"><span class="strong"><strong class="calibre10">Unconfirmed type casts</strong></span> and <span class="strong"><strong class="calibre10">redundant null check</strong></span>: This error occurs when a value is <code class="literal">null</code>, for<a id="id527" class="calibre1"/> example, <a id="id528" class="calibre1"/>consider the following code:<div class="informalexample"><pre class="programlisting">Object x = null;
Car myCar = (Car)x;
if(myCar != null){
  //...
}</pre></div></li></ul></div></li></ul></div><p class="calibre9">The following is the update site URL<a id="id529" class="calibre1"/> for the FindBugs Eclipse plugin: <a class="calibre1" href="http://findbugs.cs.umd.edu/eclipse">http://findbugs.cs.umd.edu/eclipse</a>.</p><p class="calibre9">You can also install it through Eclipse Marketplace.</p><p class="calibre9">Install FindBugs and then add the following code to the <code class="literal">CodeQualityChapter06</code> project for verification:</p><div class="informalexample"><pre class="programlisting">public class Buggy implements Cloneable {
    private Integer magicNumber;
    public Buggy(Integer magicNumber) {
        this.magicNumber = magicNumber;
    }
    public boolean isBuggy(String x) {
        return "Buggy" == x;
    }
    public boolean equals(Object o) {
        if (o instanceof Buggy) {
            return ((Buggy) o).magicNumber == magicNumber;
        }
        if (o instanceof Integer) {
            return magicNumber == ((Integer) o);
        }
        return false;
    }
    Buggy() { }
    static class MoreBuggy extends Buggy {
        static MoreBuggy singleton = new MoreBuggy();
    }
    static MoreBuggy foo = MoreBuggy.singleton;
}</pre></div><p class="calibre9">Right-click on the project and click on the <span class="strong"><strong class="calibre10">Find Bugs</strong></span> menu. The following<a id="id530" class="calibre1"/> is the pop-up menu displayed:</p><div class="mediaobject"><img src="../images/00083.jpeg" alt="Exploring the FindBugs plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">Open the source file; it shows the bug icons. The following screenshot displays the bugs:</p><div class="mediaobject"><img src="../images/00084.jpeg" alt="Exploring the FindBugs plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">The following screenshot displays<a id="id531" class="calibre1"/> the bugs in a tabular format with the error categories:</p><div class="mediaobject"><img src="../images/00085.jpeg" alt="Exploring the FindBugs plugin" class="calibre12"/></div><p class="calibre13"> </p></div>
<div class="book" title="Working with the PMD plugin"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec35" class="calibre1"/>Working with the PMD plugin</h1></div></div></div><p class="calibre9">PMD can find duplicate code, dead code, empty if/while statements, empty try/catch blocks, complicated expressions, cyclomatic complexity, and so on.</p><p class="calibre9">The following is the <a id="id532" class="calibre1"/>update site URL for Eclipse: <a class="calibre1" href="http://sourceforge.net/projects/pmd/files/pmd-eclipse/update-site/">http://sourceforge.net/projects/pmd/files/pmd-eclipse/update-site/</a>. You can also install it through Eclipse Marketplace.</p><p class="calibre9">After installation, right-click on the <code class="literal">CodeQualityChapter06</code> project and select the <span class="strong"><strong class="calibre10">Toggle PMD Nature</strong></span> menu item. It <a id="id533" class="calibre1"/>will enable the project for PMD analysis. The following <a id="id534" class="calibre1"/>screenshot demonstrates the PMD pop-up menu options:</p><div class="mediaobject"><img src="../images/00086.jpeg" alt="Working with the PMD plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">PMD shows the errors in the <span class="strong"><strong class="calibre10">Problems</strong></span> tab. The following screenshot shows the PMD violations in the <span class="strong"><strong class="calibre10">Problems</strong></span> tab:</p><div class="mediaobject"><img src="../images/00087.jpeg" alt="Working with the PMD plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">The next section will describe the SonarQube dashboard and analyze projects using the SonarQube runner, Ant, Gradle, and Maven.</p></div>

<div id="page" style="height:0pt"/><div class="book" title="Monitoring code quality with SonarQube"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec36" class="calibre1"/>Monitoring code quality with SonarQube</h1></div></div></div><p class="calibre9">SonarQube is a <a id="id535" class="calibre1"/>web-based open source continuous quality assessment dashboard. It comes with a GNU General Public License and supports cross-platform, so it can be installed on many popular operating systems. SonarQube is developed in Java. As of March 2014, the latest version is 4.1.2.</p><p class="calibre9">SonarQube exhibits the following features:</p><div class="book"><ul class="itemizedlist"><li class="listitem">It is a web-based code quality <a id="id536" class="calibre1"/>dashboard that can be accessed from anywhere.</li><li class="listitem">It supports numerous languages. The languages and coding platforms supported in Version 4.1.2 are ABAP, Android, C/C++, C#, COBOL, Erlang, Flex/ActionScript, Groovy, Java, JavaScript, Natural, PHP, PL/I, PL/SQL, Python, VB.NET, Visual Basic 6, Web (analysis of HTML included in pages on HTML, JSP, JSF, Ruby, PHP, and so on), and XML.</li><li class="listitem">It offers the following metrics:<div class="book"><ul class="itemizedlist1"><li class="listitem">Bugs and potential bugs</li><li class="listitem">Breach in coding standards </li><li class="listitem">Duplications</li><li class="listitem">Lack of unit tests</li><li class="listitem">Bad distribution of complexities</li><li class="listitem">Spaghetti design</li><li class="listitem">Not enough or too many comments</li></ul></div></li><li class="listitem">It records history in a database and provides chronological graphs of quality metrics.</li><li class="listitem">It can be expanded using numerous plugins.</li><li class="listitem">It supports continuous automated inspection using Ant/Maven/Gradle and CI tools such as Jenkins, CruiseControl, and Bamboo.</li><li class="listitem">It integrates with Eclipse.</li></ul></div><p class="calibre9">The following section covers the SonarQube installation and usage.</p></div>

<div class="book" title="Monitoring code quality with SonarQube">
<div class="book" title="Running SonarQube"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec37" class="calibre1"/>Running SonarQube</h2></div></div></div><p class="calibre9">The following are the <a id="id537" class="calibre1"/>SonarQube configuration steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Download <a id="id538" class="calibre1"/>SonarQube from <a class="calibre1" href="http://www.sonarqube.org/downloads/">http://www.sonarqube.org/downloads/</a>.</li><li class="listitem" value="2">Uncompress the downloaded file into the directory of your choice. We'll refer to it as <code class="literal">&lt;sonar_install_directory&gt;</code> or <code class="literal">SONAR_HOME</code> in the next steps.</li><li class="listitem" value="3">Open the <code class="literal">&lt;sonar_install_directory&gt;/bin</code> directory. The <code class="literal">bin</code> directory lists the SonarQube-supported operating systems. Go to a specific OS directory such as open <code class="literal">windows-x86-64</code> for a Windows 64-bit machine.</li><li class="listitem" value="4">Run a shell script or batch file to start <a id="id539" class="calibre1"/>Sonar. The following screenshot shows the command prompt output of a Windows 64-bit machine. Note that the server logs the <span class="strong"><strong class="calibre10">Web server is started</strong></span> information when the web server is started:<div class="mediaobject"><img src="../images/00088.jpeg" alt="Running SonarQube" class="calibre12"/></div><p class="calibre16"> </p></li><li class="listitem" value="5">Open Internet Explorer and type in <code class="literal">http://localhost:9000</code>. This will launch the SonarQube dashboard. Initially, the dashboard shows an empty project list. First, we need to analyze the projects to get them displayed in the dashboard. The following is the SonarQube dashboard on display:<div class="mediaobject"><img src="../images/00089.jpeg" alt="Running SonarQube" class="calibre12"/></div><p class="calibre16"> </p></li></ol><div class="calibre17"/></div><p class="calibre9">Installation is complete. Next, we need to analyze a project using SonarQube.</p></div></div>

<div class="book" title="Monitoring code quality with SonarQube">
<div class="book" title="Analyzing code with the SonarQube runner"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch06lvl2sec38" class="calibre1"/>Analyzing code with the SonarQube runner</h2></div></div></div><p class="calibre9">This section configures the SonarQube runner and analyzes a project. SonarQube supports numerous project<a id="id540" class="calibre1"/> analysis options, and the SonarQube runner is the prescribed one. The following are the steps to analyze a project using the SonarQube runner:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Download the runner from <a class="calibre1" href="http://repo1.maven.org/maven2/org/codehaus/sonar/runner/sonar-runner-dist/2.3/sonar-runner-dist-2.3.zip">http://repo1.maven.org/maven2/org/codehaus/sonar/runner/sonar-runner-dist/2.3/sonar-runner-dist-2.3.zip</a>.</li><li class="listitem" value="2">Unzip the downloaded<a id="id541" class="calibre1"/> file into the directory of your choice. We'll refer to it as <code class="literal">&lt;runner_install_directory&gt;</code> in the next steps.</li><li class="listitem" value="3">Open <code class="literal">sonar.properties</code> from the <code class="literal">&lt;sonar_install_directory&gt;/conf/sonar.properties</code> installation directory. Sonar stores data in a database; if not specified, then by default, it stores data in an embedded H2 database. The following <code class="literal">jdbc.url</code> command should be present in the properties file: <code class="literal">sonar.jdbc.url=jdbc:h2:tcp://localhost:9092/sonar</code>.</li><li class="listitem" value="4">Open <code class="literal">&lt;runner_install_directory&gt;/conf/sonar-runner.properties</code> and change the <code class="literal">sonar.host.url</code> property to <code class="literal">http://localhost:9000</code>, and copy <code class="literal">sonar.jdbc.url</code> from the <code class="literal">&lt;sonar_install_directory&gt;/conf/sonar.properties</code> file.<p class="calibre15">The following is the code snippet taken from the <code class="literal">sonar-runner.properties</code> file. Check whether <code class="literal">sonar.host.url</code> and <code class="literal">sonar.jdbc.url</code> are enabled:</p><div class="mediaobject"><img src="../images/00090.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p></li><li class="listitem" value="5">Create a new <code class="literal">SONAR_RUNNER_HOME</code> environment variable, which is set to <code class="literal">&lt;runner_install_directory&gt;</code>.</li><li class="listitem" value="6">Add the <code class="literal">&lt;runner_install_directory&gt;/bin</code> directory to your <code class="literal">Path</code> variable.</li><li class="listitem" value="7">Open command prompt and check whether the runner is installed. Issue the <code class="literal">sonar-runner –h</code> command, and you<a id="id542" class="calibre1"/> will get the following output:<div class="mediaobject"><img src="../images/00091.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p></li><li class="listitem" value="8">Go to the <code class="literal">CodeQualityChapter06</code> project folder, create a properties file named <code class="literal">sonar-project.properties</code>, and add the <a id="id543" class="calibre1"/>following lines to the file:<div class="informalexample"><pre class="programlisting"># Required metadata
<span class="strong"><strong class="calibre10">sonar.projectKey=packt:CodeQualityChapter06</strong></span>
<span class="strong"><strong class="calibre10">sonar.projectName=CodeQualityChapter06</strong></span>
<span class="strong"><strong class="calibre10">sonar.projectVersion=1.0</strong></span>
#source file location 
<span class="strong"><strong class="calibre10">sonar.sources=src/main/java</strong></span>
# The value of the property must be the key of the language.
<span class="strong"><strong class="calibre10">sonar.language=java</strong></span>
# Encoding of the source code
<span class="strong"><strong class="calibre10">sonar.sourceEncoding=UTF-8</strong></span>
</pre></div></li><li class="listitem" value="9">Open the command prompt, change the directory to <code class="literal">CodeQualityChapter06</code>, and issue the <code class="literal">sonar-runner</code> command; this will start the project analysis. Sonar will download JAR files and store the analysis data into an H2 database. Once<a id="id544" class="calibre1"/> the analysis is over, open <code class="literal">http://localhost:9000</code>; this will launch the SonarQube dashboard.<p class="calibre15">The metrics displayed<a id="id545" class="calibre1"/> in the dashboard are technical debt, code details, documentation, code duplication, complexity, and coverage.</p><p class="calibre15">The following screenshot shows the <span class="strong"><strong class="calibre10">Technical Debt</strong></span> metric:</p><div class="mediaobject"><img src="../images/00092.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p><p class="calibre15">The following screenshot shows the code details metric:</p><div class="mediaobject"><img src="../images/00093.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p><p class="calibre15">The following<a id="id546" class="calibre1"/> screenshot shows the <span class="strong"><strong class="calibre10">Documentation</strong></span> metric:</p><div class="mediaobject"><img src="../images/00094.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p><p class="calibre15">The following screenshot shows the cyclomatic <span class="strong"><strong class="calibre10">Complexity</strong></span> metric:</p><div class="mediaobject"><img src="../images/00095.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p></li><li class="listitem" value="10">Click on the <span class="strong"><strong class="calibre10">Issues 12</strong></span> hyperlink in the <span class="strong"><strong class="calibre10">Technical Debt</strong></span> metric; this will open an issue's details with a <a id="id547" class="calibre1"/>severity legend. The following  is the <span class="strong"><strong class="calibre10">Severity</strong></span> legend:<div class="mediaobject"><img src="../images/00096.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p><p class="calibre15">The following screenshot shows the issue details:</p><div class="mediaobject"><img src="../images/00097.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p></li><li class="listitem" value="11">Click on any of the three complexity hyperlinks. Sonar will open the files and show the complexity details.<p class="calibre15">The following is an example of the complexity of <code class="literal">Buggy.java</code>:</p><div class="mediaobject"><img src="../images/00098.jpeg" alt="Analyzing code with the SonarQube runner" class="calibre12"/></div><p class="calibre16"> </p><p class="calibre15">The <span class="strong"><strong class="calibre10">Hotspot</strong></span> view<a id="id548" class="calibre1"/> displays the pain<a id="id549" class="calibre1"/> areas of the project, such as hotspots by duplicate lines, major violations, most violated rules, and the most violated resources.</p><p class="calibre15">The <span class="strong"><strong class="calibre10">Time Machine</strong></span> view <a id="id550" class="calibre1"/>displays<a id="id551" class="calibre1"/>  the chronological view of the project, such as a graphical day- or month-wise comparison of code complexity or code coverage.</p></li></ol><div class="calibre17"/></div></div></div>

<div class="book" title="Monitoring code quality with SonarQube">
<div class="book" title="Improving quality with the Sonar Eclipse plugin"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch06lvl2sec39" class="calibre1"/>Improving quality with the Sonar Eclipse plugin</h2></div></div></div><p class="calibre9">Sonar provides an<a id="id552" class="calibre1"/> Eclipse plugin for accessing and fixing the Sonar-reported code issues in the Eclipse editor. The plugin can be downloaded from <a class="calibre1" href="http://www.sonarsource.com/products/plugins/developer-tools/eclipse/">http://www.sonarsource.com/products/plugins/developer-tools/eclipse/</a>.</p><p class="calibre9">Once the plugin is<a id="id553" class="calibre1"/> installed, right-click on the project, open the <span class="strong"><strong class="calibre10">Configure</strong></span> menu, and click on the <span class="strong"><strong class="calibre10">Associate with Sonar...</strong></span> menu item. The<a id="id554" class="calibre1"/> following screenshot shows the <span class="strong"><strong class="calibre10">Configure</strong></span> menu details:</p><div class="mediaobject"><img src="../images/00099.jpeg" alt="Improving quality with the Sonar Eclipse plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">In the <code class="literal">sonar-project.properties</code> file, we stored the <code class="literal">sonar.projectKey=packt:CodeQualityChapter06</code> project key.</p><p class="calibre9">In the Sonar <a id="id555" class="calibre1"/>wizard, enter <code class="literal">GroupId=packt</code> and <code class="literal">ArtifactId= CodeQualityChapter06</code>. Click on <span class="strong"><strong class="calibre10">Find on server</strong></span> and then click on <span class="strong"><strong class="calibre10">Finish</strong></span>. This will connect to the local Sonar<a id="id556" class="calibre1"/> server and bring the issue details into the <span class="strong"><strong class="calibre10">Problems</strong></span> tab.</p><p class="calibre9">The following is the Sonar wizard's screenshot:</p><div class="mediaobject"><img src="../images/00100.jpeg" alt="Improving quality with the Sonar Eclipse plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">The following are the violations from the Sonar repository:</p><div class="mediaobject"><img src="../images/00101.jpeg" alt="Improving quality with the Sonar Eclipse plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">Click on any problem, and it <a id="id557" class="calibre1"/>will take you to the source code's line and show a tooltip of the problem. The following screenshot shows<a id="id558" class="calibre1"/> the blocker violation that the <code class="literal">hashCode()</code> method is not implemented:</p><div class="mediaobject"><img src="../images/00102.jpeg" alt="Improving quality with the Sonar Eclipse plugin" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">Add a <code class="literal">hashCode</code> method, rerun the Sonar runner, and launch the Sonar Eclipse wizard; it will remove the blocking issue.</p></div></div>

<div class="book" title="Monitoring code quality with SonarQube">
<div class="book" title="Monitoring quality with Gradle and SonarQube"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch06lvl2sec40" class="calibre1"/>Monitoring quality with Gradle and SonarQube</h2></div></div></div><p class="calibre9">This section covers the Gradle integration with<a id="id559" class="calibre1"/> Sonar. Gradle has<a id="id560" class="calibre1"/> an inbuilt <a id="id561" class="calibre1"/>Sonar plugin. Create a <code class="literal">build.gradle</code> file under <code class="literal">/Packt/Chapter06/CodeQualityChapter06</code>. Add the following lines to the <code class="literal">build.gradle</code> file and the Sonar lines are highlighted:</p><div class="informalexample"><pre class="programlisting">apply plugin: 'java'
<span class="strong"><strong class="calibre10">apply plugin: 'sonar-runner'</strong></span>
apply plugin: "jacoco"

repositories {
    flatDir(dir: '../lib', name: 'JUnit Library')
    mavenCentral()
}

dependencies {
    testCompile'junit:junit:4.11', ':hamcrest-core:1.3'
}

jacocoTestReport {
    reports {
        xml.enabled false
        csv.enabled false
        html.destination "${buildDir}/jacocoHtml"
    }
}
<span class="strong"><strong class="calibre10">sonarRunner {</strong></span>
<span class="strong"><strong class="calibre10">    sonarProperties {</strong></span>
<span class="strong"><strong class="calibre10">        property "sonar.projectName", "CodeQualityChapter06"</strong></span>
<span class="strong"><strong class="calibre10">        property "sonar.projectKey", "packt:CodeQualityChapter06"</strong></span>
<span class="strong"><strong class="calibre10">        property "sonar.jacoco.reportPath", "${project.buildDir}/jacoco/test.exec"</strong></span>
<span class="strong"><strong class="calibre10">    }</strong></span>
<span class="strong"><strong class="calibre10">}</strong></span>
</pre></div><p class="calibre9">Note that <code class="literal">sonar.projectKey</code> refers to <code class="literal">packt:CodeQualityChapter06</code>. Open the command<a id="id562" class="calibre1"/> prompt and issue the <code class="literal">gradle sonarRunner</code> command. This will start<a id="id563" class="calibre1"/> building the project. The following<a id="id564" class="calibre1"/> is the console output:</p><div class="mediaobject"><img src="../images/00103.jpeg" alt="Monitoring quality with Gradle and SonarQube" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre9">Open the Sonar URL, and it will show the coverage computed by the JaCoCo plugin. The following is the code coverage<a id="id565" class="calibre1"/> and the technical<a id="id566" class="calibre1"/> debt output. Note that the <span class="strong"><strong class="calibre10">+8</strong></span> new<a id="id567" class="calibre1"/> issues are added to the project. Technical debt is increased from 0.4 days to 1.2 days:</p><div class="mediaobject"><img src="../images/00104.jpeg" alt="Monitoring quality with Gradle and SonarQube" class="calibre12"/></div><p class="calibre13"> </p></div></div>

<div class="book" title="Monitoring code quality with SonarQube">
<div class="book" title="Monitoring quality with Maven and SonarQube"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch06lvl2sec41" class="calibre1"/>Monitoring quality with Maven and SonarQube</h2></div></div></div><p class="calibre9">This section describes how to<a id="id568" class="calibre1"/> integrate<a id="id569" class="calibre1"/> Maven with SonarQube. We will use the <code class="literal">CodeQualityChapter06</code> Eclipse project for the analysis. Maven has a plugin for Sonar. Create a <code class="literal">pom.xml</code> file under <code class="literal">/Packt/Chapter06/CodeQualityChapter06</code>. Add<a id="id570" class="calibre1"/> the following lines to the <code class="literal">pom.xml</code> file:</p><div class="informalexample"><pre class="programlisting">&lt;project    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  <span class="strong"><strong class="calibre10">&lt;groupId&gt;packt&lt;/groupId&gt;</strong></span>
  <span class="strong"><strong class="calibre10">&lt;artifactId&gt;Chapter06&lt;/artifactId&gt;</strong></span>
  <span class="strong"><strong class="calibre10">&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</strong></span>
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;name&gt;Chapter06&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;
  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8
    &lt;/project.build.sourceEncoding&gt;
  <span class="strong"><strong class="calibre10">&lt;sonar.language&gt;java&lt;/sonar.language&gt;</strong></span>
  &lt;/properties&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.11&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;</pre></div><p class="calibre9">Open the command prompt, go to the project base folder, and issue the <code class="literal">mvn sonar:sonar</code> command. This <a id="id571" class="calibre1"/>command will download the SonarQube version of JAR files from the repository and start analyzing<a id="id572" class="calibre1"/> the project. Note the highlighted section <code class="literal">&lt;sonar.language&gt;java&lt;…&gt;</code> in the preceding script. This <code class="literal">&lt;sonar.language&gt;</code> tag signifies that the Maven will analyze a <code class="literal">java</code> project.</p><p class="calibre9">In the Gradle script or Sonar runner, we <a id="id573" class="calibre1"/>didn't mention a project version; here in Maven, as per the Maven project convention, we have to specify a <code class="literal">&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</code> version in the <code class="literal">POM.xml</code> file.</p><p class="calibre9">SonarQube uniquely identifies a project using a key (<code class="literal">GroupId</code> or <code class="literal">ArtifactId</code>) and a version. So, Maven analysis will create a new project statistics in the Sonar server as the version number is<a id="id574" class="calibre1"/> supplied in Maven, but not in Gradle and Sonar runner.</p><p class="calibre9">The following screenshot displays the <span class="strong"><strong class="calibre10">Projects</strong></span> section on the Sonar dashboard. Note that the Maven analysis created <span class="strong"><strong class="calibre10">Version</strong></span> <span class="strong"><strong class="calibre10">1.0-SNAPSHOT</strong></span>, whereas the Gradle and Sonar runner both updated an <span class="strong"><strong class="calibre10">unspecified</strong></span> version of the project:</p><div class="mediaobject"><img src="../images/00105.jpeg" alt="Monitoring quality with Maven and SonarQube" class="calibre12"/></div><p class="calibre13"> </p></div></div>

<div class="book" title="Monitoring code quality with SonarQube">
<div class="book" title="Monitoring quality with Ant and SonarQube"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_6"><a id="ch06lvl2sec42" class="calibre1"/>Monitoring quality with Ant and SonarQube</h2></div></div></div><p class="calibre9">This section describes how to configure Ant to integrate with Sonar. An Ant target needs a task to perform a build step. Sonar<a id="id575" class="calibre1"/>Qube provides an Ant task <a id="id576" class="calibre1"/>for project analysis. The Ant task JAR needs to be downloaded from <a class="calibre1" href="http://repository.codehaus.org/org/codehaus/sonar-plugins/sonar-ant-task/2.1/sonar-ant-task-2.1.jar">http://repository.codehaus.org/org/codehaus/sonar-plugins/sonar-ant-task/2.1/sonar-ant-task-2.1.jar</a>.</p><p class="calibre9">We will analyze the <code class="literal">CodeQualityChapter06</code> project with Ant. Copy the downloaded JAR file in <code class="literal">\Packt\chapter06\lib</code> and<a id="id577" class="calibre1"/> create a <code class="literal">build.xml</code> file directly under <code class="literal">CodeQualityChapter06</code>. You can copy the existing <code class="literal">build.xml</code> file that we<a id="id578" class="calibre1"/> used in <a class="calibre1" title="Chapter 5. Exploring Code Coverage" href="part0030_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre11">Code Coverage</em></span>, or download the code for this chapter.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip14" class="calibre1"/>Tip</h3><p class="calibre9">XML namespaces act like Java<a id="id579" class="calibre1"/> packages and provide a qualified name for an XML element or attribute and avoid name collision. The namespace is defined by the <code class="literal">xmlns</code> attribute at the start tag of an element. The namespace declaration has the <code class="literal"/> syntax.</p></div><p class="calibre9">To access a Sonar task, we will refer to a namespace <code class="literal">sonar</code> defined in the <code class="literal">antlib:org.sonar.ant</code> URI. We will define the URI in <code class="literal">taskdef</code>.</p><p class="calibre9">Modify the <code class="literal">build.xml</code> file and add the <code class="literal">sonar</code> namespace and the following snippet (excluding the common tasks, compilation task, and test tasks for the space economy):</p><div class="informalexample"><pre class="programlisting">&lt;project name="chapter06" default="coverage" basedir="." <span class="strong"><strong class="calibre10">&gt;</strong></span>
  <span class="strong"><strong class="calibre10">&lt;property name="sonar.projectKey" value="packt:chapter06_ant" /&gt;</strong></span>
  &lt;property name="sonar.projectName" value="Chapter06" /&gt;
  <span class="strong"><strong class="calibre10">&lt;property name="sonar.projectVersion" value="2.0" /&gt;</strong></span>
  &lt;property name="sonar.language" value="java" /&gt;
  &lt;property name="sonar.sources" value="src/main/java" /&gt;
  &lt;property name="sonar.binaries" value="target" /&gt;
  &lt;property name="sonar.sourceEncoding" value="UTF-8" /&gt;
  <span class="strong"><strong class="calibre10">&lt;target name="sonar" depends="compile"&gt;</strong></span>
    <span class="strong"><strong class="calibre10">&lt;taskdef uri="antlib:org.sonar.ant" </strong></span>      <span class="strong"><strong class="calibre10">resource="org/sonar/ant/antlib.xml"&gt;</strong></span>
      <span class="strong"><strong class="calibre10">&lt;classpath path="${lib.dir}/sonar-ant-task-2.1.jar" /&gt;</strong></span>
    <span class="strong"><strong class="calibre10">&lt;/taskdef&gt;</strong></span>
    <span class="strong"><strong class="calibre10">&lt;sonar:sonar /&gt;</strong></span>
  <span class="strong"><strong class="calibre10">&lt;/target&gt;</strong></span>
</pre></div><p class="calibre9">Note that the <code class="literal">sonar.projectKey</code>, <code class="literal">sonar.projectName</code>, <code class="literal">sonar.projectVersion</code>, and <code class="literal">sonar.language</code> properties are defined in the preceding XML code. The Sonar task uses these attributes to uniquely identify a <a id="id580" class="calibre1"/>project and project language. Also note that a <code class="literal">taskdef</code> URI, <code class="literal">uri="antlib:org.sonar.ant"</code>, is defined to<a id="id581" class="calibre1"/> locate an <code class="literal">org/sonar/ant/antlib.xml</code> XML resource in the <code class="literal">${lib.dir}/sonar-ant-task-2.1.jar</code> classpath. The <code class="literal">sonar-ant-task</code> JAR contains the XML file.</p><p class="calibre9">Open the command prompt, change <a id="id582" class="calibre1"/>the directory to <code class="literal">CodeQualityChapter06</code>, and issue the <code class="literal">ant sonar</code> command. This will execute the Sonar task and start analyzing the project.</p><p class="calibre9">The following is the SonarQube dashboard<a id="id583" class="calibre1"/> output. The second row with <span class="strong"><strong class="calibre10">Version</strong></span> <span class="strong"><strong class="calibre10">2.0</strong></span> and key <span class="strong"><strong class="calibre10">packt:chapter06_ant</strong></span> is the Ant analysis result:</p><div class="mediaobject"><img src="../images/00106.jpeg" alt="Monitoring quality with Ant and SonarQube" class="calibre12"/></div><p class="calibre13"> </p></div></div>
<div class="book" title="Getting familiar with false positives"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec37" class="calibre1"/>Getting familiar with false positives</h1></div></div></div><p class="calibre9">This section deals with the false positives. In general, a static code analysis tool analyzes a source code against a set of rules and reports a violation when it finds a violation pattern in the source code. However, when we <a id="id584" class="calibre1"/>review the pattern and find that the violation is not correct in the context, then the reported violation is a false positive.</p><p class="calibre9">Static analysis tools report violations, but we have to filter out correct rule sets and remove the false positive rules. The SonarQube manual code review feature enables you to review code, add comments, and flag violations as false positives. The following Sonar URL describes how to review <a id="id585" class="calibre1"/>violations and flag violations as false positives: <a class="calibre1" href="http://www.sonarqube.org/sonar-2-8-in-screenshots/">http://www.sonarqube.org/sonar-2-8-in-screenshots/</a>.</p></div>
<div class="book" title="Summary"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec38" class="calibre1"/>Summary</h1></div></div></div><p class="calibre9">This chapter explained the static code analysis and code quality attributes in depth. It covered the SonarQube code quality dashboard, static code analysis using Eclipse plugins, the Sonar runner and build scripts such as Ant, Maven, and Gradle, and code quality tools such as PMD, Checkstyle, and FindBugs.</p><p class="calibre9">By now, the reader will be able to configure the Sonar dashboard, set up Eclipse plugins, and configure Sonar runner and build scripts to analyze code quality using PMD, FindBugs, and Checkstyle.</p><p class="calibre9">The next chapter will cover the unit testing web tier code with mock objects.</p></div></body></html>