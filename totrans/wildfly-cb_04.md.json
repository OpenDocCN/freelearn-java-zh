["```java\n$ ./bin/domain.sh -Djboss.domain.log.dir=/home/luigi/wildfly-domain-logs\n```", "```java\n$ ./bin/standalone.sh -Djboss.server.log.dir=/home/luigi/wildfly-standalone-logs\n```", "```java\n$ cd $WILDFLY_HOME\n$ cp -a standalone std-logging\n```", "```java\n$ cd $WILDFLY_HOME\n$ ./bin/standalone.sh -Djboss.server.base.dir=$WILDFLY_HOME/std-logging\n```", "```java\n    $ ./bin/jboss-cli.sh --connect\n\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/file-handler=wildflycookbook-fh:add(level=INFO, file={\"relative-to\"=>\"jboss.server.log.dir\", \"path\"=>\"wildflycookbook-fh.log\"}, append=false, autoflush=true)\n    [standalone@localhost:9990 /] /subsystem=logging/logger=com.packtpub.wildflycookbook:add(use-parent-handlers=false,handlers=[\"wildflycookbook-fh\"],level=INFO)\n    ```", "```java\n<file-handler name=\"wildflycookbook-fh\" autoflush=\"true\">\n  <level name=\"INFO\"/>\n  <file relative-to=\"jboss.server.log.dir\" path=\"wildflycookbook-fh.log\"/>\n  <append value=\"false\"/>\n</file-handler>            \n<logger category=\"com.packtpub.wildflycookbook\" use-parent-handlers=\"false\">\n  <level name=\"INFO\"/>\n  <handlers>\n    <handler name=\"wildflycookbook-fh\"/>\n  </handlers>\n</logger>\n```", "```java\n[standalone@localhost:9990 /] /subsystem=logging/file-handler=wildflycookbook-fh:write-attribute(name=level,value=DEBUG)\n```", "```java\n[standalone@localhost:9990 /] /subsystem=logging/logger=com.packtpub.wildflycookbook:write-attribute(name=level,value=DEBUG)\n```", "```java\n$ cd $WILDFLY_HOME\n$ cp -a standalone std-logging\n```", "```java\n$ cd $WILDFLY_HOME\n$ ./bin/standalone.sh -Djboss.server.base.dir=$WILDFLY_HOME/std-logging\n```", "```java\n    $ ./bin/jboss-cli.sh --connect\n\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/periodic-rotating-file-handler=wildflycookbook-prfh:add(level=INFO, file={\"relative-to\"=>\"jboss.server.log.dir\", \"path\"=>\"wildflycookbook-prfh.log\"}, append=false, autoflush=true, suffix=\".yyyy-MM-dd-HH-mm\")\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/logger=com.packtpub.wildflycookbook:add-handler(name=wildflycookbook-prfh)\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/logger=com.packtpub.wildflycookbook:add(use-parent-handlers=false,handlers=[\"wildflycookbook-prfh\"], level=INFO)\n    ```", "```java\n<periodic-rotating-file-handler name=\"wildflycookbook-prfh\" autoflush=\"true\">\n  <level name=\"INFO\"/>\n  <file relative-to=\"jboss.server.log.dir\" path=\"wildflycookbook-prfh.log\"/>\n  <suffix value=\".yyyy-MM-dd-HH-mm\"/>\n  <append value=\"false\"/>\n</periodic-rotating-file-handler>\n<logger category=\"com.packtpub.wildflycookbook\" use-parent-handlers=\"false\">\n  <level name=\"INFO\"/>\n  <handlers>\n    <handler name=\"wildflycookbook-fh\"/>\n    <handler name=\"wildflycookbook-prfh\"/>\n  </handlers>\n</logger>\n```", "```java\n$ cd $WILDFLY_HOME\n$ cp -a standalone std-logging\n```", "```java\n$ cd $WILDFLY_HOME\n$ ./bin/standalone.sh -Djboss.server.base.dir=$WILDFLY_HOME/std-logging\n```", "```java\n    $ ./bin/jboss-cli.sh--connect\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/size-rotating-file-handler=wildflycookbook-srfh:add(level=INFO, file={\"relative-to\"=>\"jboss.server.log.dir\", \"path\"=>\"wildflycookbook-srfh.log\"}, append=false, autoflush=true, rotate-size=1k, max-backup-index=5)\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/logger=com.packtpub.wildflycookbook:add-handler(name=wildflycookbook-srfh)\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/logger=com.packtpub.wildflycookbook:add(use-parent-handlers=false,handlers=[\"wildflycookbook-srfh\"], level=INFO)\n    ```", "```java\n<size-rotating-file-handler name=\"wildflycookbook-srfh\" autoflush=\"true\">\n  <level name=\"INFO\"/>\n  <file relative-to=\"jboss.server.log.dir\" path=\"wildflycookbook-srfh.log\"/>\n  <rotate-size value=\"1k\"/>\n  <max-backup-index value=\"5\"/>\n  <append value=\"false\"/>\n</size-rotating-file-handler>\n<logger category=\"com.packtpub.wildflycookbook\" use-parent-handlers=\"false\">\n  <level name=\"INFO\"/>\n  <handlers>\n    <handler name=\"wildflycookbook-fh\"/>\n    <handler name=\"wildflycookbook-prfh\"/>\n    <handler name=\"wildflycookbook-srfh\"/>\n  </handlers>\n</logger>\n```", "```java\n    $ ./bin/jboss-cli.sh--connect\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/async-handler=wildflycookbook-afh:add(level=INFO, queue-length=1024, overflow-action=BLOCK)\n    {\"outcome\" => \"success\"}\n    [standalone@localhost:9990 /] /subsystem=logging/async-handler=wildflycookbook-afh:assign-subhandler(name=wildflycookbook-prfh)\n    {\"outcome\" => \"success\"}\n    [standalone@localhost:9990 /] /subsystem=logging/async-handler=wildflycookbook-afh:assign-subhandler(name=wildflycookbook-fh)\n    {\"outcome\" => \"success\"}\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/async-handler=wildflycookbook-afh:read-resource(recursive=true,include-runtime=true,include-defaults=true)\n    {\n      \"outcome\" => \"success\",\n      \"result\" => {\n        \"enabled\" => true,\n        \"filter\" => undefined,\n        \"filter-spec\" => undefined,\n        \"level\" => \"INFO\",\n        \"name\" => \"wildflycookbook-afh\",\n        \"overflow-action\" => \"BLOCK\",\n        \"queue-length\" => 1024,\n        \"subhandlers\" => [\n            \"wildflycookbook-prfh\",\n            \"wildflycookbook-fh\"\n        ]\n      }\n    }\n    [standalone@localhost:9990 /]\n    ```", "```java\n<async-handler name=\"wildflycookbook-afh\">\n  <level name=\"INFO\"/>\n  <queue-length value=\"1024\"/>\n  <overflow-action value=\"block\"/>\n  <subhandlers>\n    <handler name=\"wildflycookbook-prfh\"/>\n    <handler name=\"wildflycookbook-fh\"/>\n  </subhandlers>\n</async-handler>\n```", "```java\n    $ sudo yum -y install rsyslog\n    ```", "```java\n    $ModLoad imudp.so\n    $UDPServerRun 514\n    ```", "```java\n    $ sudo /usr/sbin/rsyslogd\n    ```", "```java\n$ cd $WILDFLY_HOME\n$ cp -a standalone std-logging\n```", "```java\n$ cd $WILDFLY_HOME\n$ ./bin/standalone.sh -Djboss.server.base.dir=$WILDFLY_HOME/std-logging\n```", "```java\n    $ ./bin/jboss-cli.sh--connect\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/syslog-handler=wildfly-slh:add(server-address=localhost,hostname=foogaro,port=514,syslog-format=RFC5424,facility=user-level,level=INFO,app-name=wildfly-logging,enabled=true)\n    {\"outcome\" => \"success\"}\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging/logger=com.packtpub.wildflycookbook:add-handler(name=wildfly-slh)\n    {\"outcome\" => \"success\"}\n    [standalone@localhost:9990 /]\n    ```", "```java\n    $ journalctl -f\n    ```", "```java\n    Message from syslogd@localhost at Apr 19 17:56:36 ...\n    wildfly-logging[15343] Fatal message\n    ```", "```java\n    $ ./bin/jboss-cli.sh --connect\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging:list-log-files\n    {\n      \"outcome\" => \"success\",\n      \"result\" => [\n        {\n          \"file-name\" => \"server.log\",\n          \"file-size\" => 24879L,\n          \"last-modified-date\" => \"2015-05-24T15:14:29.000+0200\"\n        },\n        {\n          \"file-name\" => \"wildflycookbook-fh.log\",\n          \"file-size\" => 0L,\n          \"last-modified-date\" => \"2015-05-24T15:14:13.000+0200\"\n        },\n        {\n          \"file-name\" => \"wildflycookbook-prfh.log\",\n          \"file-size\" => 0L,\n          \"last-modified-date\" => \"2015-05-24T15:14:13.000+0200\"\n        },\n        {\n          \"file-name\" => \"wildflycookbook-prfh.log.2015-05-24-14-42\",\n          \"file-size\" => 0L,\n          \"last-modified-date\" => \"2015-05-24T14:42:14.000+0200\"\n        },\n        {\n          \"file-name\" => \"wildflycookbook-prfh.log.2015-05-24-14-43\",\n          \"file-size\" => 440L,\n          \"last-modified-date\" => \"2015-05-24T14:43:06.000+0200\"\n        },\n        {\n          \"file-name\" => \"wildflycookbook-srfh.log\",\n          \"file-size\" => 0L,\n          \"last-modified-date\" => \"2015-05-24T15:14:13.000+0200\"\n        },\n        {\n          \"file-name\" => \"wildflycookbook-srfh.log.1\",\n          \"file-size\" => 1096L,\n          \"last-modified-date\" => \"2015-05-24T14:44:17.000+0200\"\n        }\n        ]\n    }\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging:read-log-file(name=server.log)\n    {\n        \"outcome\" => \"success\",\n        \"result\" => [\n            \"2015-05-24 15:14:14,813 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-9) WFLYUT0006: Undertow HTTP listener default listening on /127.0.0.1:8080\",\n            \"2015-05-24 15:14:14,964 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-15) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\",\n            \"2015-05-24 15:14:15,021 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-5) WFLYDS0013: Started FileSystemDeploymentService for directory /Users/foogaro/wildfly-9.0.0.Beta2/std-logging/deployments\",\n            \"2015-05-24 15:14:15,025 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0027: Starting deployment of \\\"logging.war\\\" (runtime-name: \\\"logging.war\\\")\",\n            \"2015-05-24 15:14:15,116 INFO [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.0.0.Beta3\",\n            \"2015-05-24 15:14:15,363 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-11) WFLYUT0021: Registered web context: /logging\",\n            \"2015-05-24 15:14:15,405 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 34) WFLYSRV0010: Deployed \\\"logging.war\\\" (runtime-name : \\\"logging.war\\\")\",\n            \"2015-05-24 15:14:15,545 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\",\n            \"2015-05-24 15:14:15,546 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\",\n            \"2015-05-24 15:14:15,546 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 9.0.0.Beta2 (WildFly Core 1.0.0.Beta2) started in 2328ms - Started 269 of 451 services (221 services are lazy, passive or on-demand)\"\n        ]\n    }\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging:read-log-file(name=server.log,tail=false)\n    {\n        \"outcome\" => \"success\",\n        \"result\" => [\n            \"2015-05-24 14:38:38,059 INFO  [org.jboss.modules] (main) JBoss Modules version 1.4.2.Final\",\n            \"2015-05-24 14:38:38,216 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.4.Final\",\n            \"2015-05-24 14:38:38,266 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: WildFly Full 9.0.0.Beta2 (WildFly Core 1.0.0.Beta2) starting\",\n            \"2015-05-24 14:38:38,267 DEBUG [org.jboss.as.config] (MSC service thread 1-6) Configured system properties:\",\n            \"[Standalone] = \",\n            \"awt.toolkit = sun.lwawt.macosx.LWCToolkit\",\n            \"file.encoding = UTF-8\",\n            \"file.encoding.pkg = sun.io\",\n            \"file.separator = /\",\n            \"ftp.nonProxyHosts = local|*.local|169.254/16|*.169.254/16\"\n        ]\n    }\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging:read-log-file(name=server.log,lines=15)\n    {\n      \"outcome\" => \"success\",\n      \"result\" => [\n        \"2015-05-24 15:14:14,642 INFO  [org.jboss.as.naming] (MSC service thread 1-16) WFLYNAM0003: Starting Naming Service\",\n        \"2015-05-24 15:14:14,642 INFO [org.jboss.as.mail.extension] (MSC service thread 1-14) \n        WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\",\n        \"2015-05-24 15:14:14,703 INFO [org.wildfly.extension.undertow] (ServerService Thread Pool -- 55) WFLYUT0014: Creating file handler for path /Users/foogaro/wildfly-9.0.0.Beta2/welcome-content\",\n        \"2015-05-24 15:14:14,728 INFO [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0012: Started server default-server.\",\n        \"2015-05-24 15:14:14,745 INFO [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0018: Host default-host starting\",\n        \"2015-05-24 15:14:14,813 INFO [org.wildfly.extension.undertow] (MSC service thread 1-9) WFLYUT0006: Undertow HTTP listener default listening on /127.0.0.1:8080\",\n        \"2015-05-24 15:14:14,964 INFO [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-15) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\",\n        \"2015-05-24 15:14:15,021 INFO [org.jboss.as.server.deployment.scanner] (MSC service thread 1-5) WFLYDS0013: Started FileSystemDeploymentService for directory /Users/foogaro/wildfly-9.0.0.Beta2/std-logging/deployments\",\n        \"2015-05-24 15:14:15,025 INFO [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0027: Starting deployment of \\\"logging.war\\\" (runtime-name: \\\"logging.war\\\")\",\n        \"2015-05-24 15:14:15,116 INFO [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.0.0.Beta3\",\n        \"2015-05-24 15:14:15,363 INFO [org.wildfly.extension.undertow] (MSC service thread 1-11) WFLYUT0021: Registered web context: /logging\",\n        \"2015-05-24 15:14:15,405 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 34) WFLYSRV0010: Deployed \\\"logging.war\\\" (runtime-name : \\\"logging.war\\\")\",\n        \"2015-05-24 15:14:15,545 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\",\n        \"2015-05-24 15:14:15,546 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\",\n        \"2015-05-24 15:14:15,546 INFO  [org.jboss.as] (Controller \n        Boot Thread) WFLYSRV0025: WildFly Full 9.0.0.Beta2 (WildFly Core 1.0.0.Beta2) started in 2328ms - Started 269 of 451 services (221 services are lazy, passive or on-demand)\"\n        ]\n    }\n    [standalone@localhost:9990 /]\n    ```", "```java\n[standalone@localhost:9990 /] /subsystem=logging:read-log-file(name=server.log,skip=5)\n{\n  \"outcome\" => \"success\",\n  \"result\" => [\n    \"2015-05-24 15:14:14,642 INFO  [org.jboss.as.naming] (MSC service thread 1-16) WFLYNAM0003: Starting Naming Service\",\n    \"2015-05-24 15:14:14,642 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-14) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\",\n    \"2015-05-24 15:14:14,703 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 55) WFLYUT0014: Creating file handler for path /Users/foogaro/wildfly-9.0.0.Beta2/welcome-content\",\n    \"2015-05-24 15:14:14,728 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0012: Started server default-server.\",\n    \"2015-05-24 15:14:14,745 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0018: Host default-host starting\",\n    \"2015-05-24 15:14:14,813 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-9) WFLYUT0006: Undertow HTTP listener default listening on /127.0.0.1:8080\",\n    \"2015-05-24 15:14:14,964 INFO [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-15) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\",\n    \"2015-05-24 15:14:15,021 INFO [org.jboss.as.server.deployment.scanner] (MSC service thread 1-5) WFLYDS0013: Started FileSystemDeploymentService for directory /Users/foogaro/wildfly-9.0.0.Beta2/std-logging/deployments\",\n    \"2015-05-24 15:14:15,025 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0027: Starting deployment of \\\"logging.war\\\" (runtime-name: \\\"logging.war\\\")\",\n    \"2015-05-24 15:14:15,116 INFO  [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.0.0.Beta3\"\n    ]\n}\n[standalone@localhost:9990 /]\n```", "```java\n    $ curl --digest -o server.log -L -D - http://127.0.0.1:9990/management?useStreamAsResponse --header \"Content-Type: application/json\" -u wildfly:cookbook.2015 -d '{\"operation\":\"read-attribute\",\"address\":[{\"subsystem\":\"logging\"},{\"log-file\":\"server.log\"}],\"name\":\"stream\"}'\n    ```", "```java\n$ cd $WILDFLY_HOME\n$ cp -a standalone std-log4j\n$ ./bin/standalone.sh -Djboss.server.base.dir=$WILDFLY_HOME/std-log4j\n```", "```java\n    $ ./bin/jboss-cli.sh --connect\n    [standalone@localhost:9990 /]\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging:write-attribute(name=add-logging-api-dependencies,value=false)\n    {\"outcome\" => \"success\"}\n    ```", "```java\n    <?xml version=\"1.0\"?>\n    <jboss-deployment-structure >\n      <deployment>\n        <dependencies>\n          <module name=\"org.apache.log4j\" />\n         </dependencies>\n      </deployment>\n    </jboss-deployment-structure>\n    Now, let's go back to the CLI to tell WildFly that we have our own configuration file, which looks like the following:\n    <log4j:configuration debug=\"true\" xmlns:log4j='http://jakarta.apache.org/log4j/'>\n      <appender name=\"fileAppender\" class=\"org.apache.log4j.RollingFileAppender\">\n          <param name=\"append\" value=\"false\" />\n          <param name=\"file\" value=\"log4j.log\" />\n\n          <layout class=\"org.apache.log4j.PatternLayout\">\n            <param name=\"ConversionPattern\" value=\"%d{ABSOLUTE} %-5p [%c{1}] %m%n\" />\n          </layout>\n      </appender>\n      <root>\n        <level value=\"DEBUG\" />\n        <appender-ref ref=\"fileAppender\" />\n      </root>\n    </log4j:configuration>\n    ```", "```java\n    [standalone@localhost:9990 /] /subsystem=logging:write-attribute(name=use-deployment-logging-config,value=true)\n    {\n      \"outcome\" => \"success\",\n      \"response-headers\" => {\n        \"operation-requires-reload\" => true,\n        \"process-state\" => \"reload-required\"\n      }\n    }\n    ```", "```java\n    <log4j:configuration debug=\"true\" xmlns:log4j='http://jakarta.apache.org/log4j/'>\n      <appender name=\"fileAppender\" class=\"org.apache.log4j.RollingFileAppender\">\n        <param name=\"append\" value=\"false\" />\n        <param name=\"file\" value=\"log4j.log\" />\n\n        <layout class=\"org.apache.log4j.PatternLayout\">\n          <param name=\"ConversionPattern\" value=\"%d{ABSOLUTE} %-5p [%c{1}] %m%n\" />\n        </layout>\n      </appender>\n        <root>\n          <level value=\"DEBUG\" />\n          <appender-ref ref=\"fileAppender\" />\n        </root>\n    </log4j:configuration>\n    ```", "```java\n    15:32:20,835 ERROR [Startup] Error message\n    15:32:20,837 WARN  [Startup] Warning message\n    15:32:20,837 INFO  [Startup] Information message\n    15:32:20,837 DEBUG [Startup] Debug message\n    ```", "```java\n<?xml version=\"1.0\"?>\n<jboss-deployment-structure >\n  <deployment>\n    <exclude-subsystems>\n      <subsystem name=\"logging\"/>\n      </exclude-subsystems>\n      <dependencies>\n        <module name=\"org.apache.log4j\" />\n      </dependencies>\n  </deployment>\n</jboss-deployment-structure>\n```", "```java\nManifest-Version: 1.0\nDependencies: org.apache.log4j\n<empty line>\n```"]