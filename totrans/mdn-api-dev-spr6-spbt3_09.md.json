["```java\n    /actuator endpoints. Let’s add a constant to Constants.java (https://github.com/PacktPublishing/Modern-API-Development-with-Spring-6-and-Spring-Boot-3/tree/dev/Chapter09/src/main/java/com/packt/modern/api/security/Constants.java) for the Actuator URL, as shown here:\n\n    ```", "```java\n    // rest of the codereq.requestMatchers(toH2Console()).permitAll()    .requestMatchers(new AntPathRequestMatcher(       ACTUATOR_URL_PREFIX)).permitAll()    .requestMatchers(new AntPathRequestMatcher      (TOKEN_URL, HttpMethod.POST.name())).permitAll()// rest of the code\n    ```", "```java\n\n    ```", "```java\nbootBuildImage {   imageName = \"192.168.1.2:5000/${project.name}:${\n      project.version}\"\n}\n```", "```java\nrootProject.name = 'packt-modern-api-development-chapter09'\n```", "```java\n$ docker versionClient:\n Cloud integration: v1.0.22\n Version:           20.10.11\n API version:       1.41\n Go version:        go1.16.10\n Git commit:        dea9396\n Built:             Thu Nov 18 00:36:09 2021\n OS/Arch:           darwin/amd64\n Context:           default\n Experimental:      true\nServer: Docker Engine – Community\n Engine:\n  Version:          20.10.11\n  API version:      1.41 (minimum version 1.12)\n  Go version:       go1.16.9\n// Output truncated for brevity\n```", "```java\n$ docker run -d -p 5000:5000 -e REGISTRY_STORAGE_DELETE_ENABLED=true --restart=always --name registry registry:2Unable to find image 'registry:2' locally\n2: Pulling from library/registry\nef5531b6e74e: Pull complete\na52704366974: Pull complete\ndda5a8ba6f46: Pull complete\neb9a2e8a8f76: Pull complete\n25bb6825962e: Pull complete\nDigest: sha256:41f413c22d6156587e2a51f3e80c09808b8c70e82be149b82b5e01 96a88d49b4\nStatus: Downloaded newer image for registry:2\nbca056bf9653abb14ee6c461612a999c7c61ab45ea8837ecfa1c4b1ec5e5f047\n```", "```java\n$ docker psCONTAINER ID   IMAGE        COMMAND\nCREATED          STATUS          PORTS                    NAMES\nbca056bf9653   registry:2   \"/entrypoint.sh /etc…\"\n11 minutes ago   Up 11 minutes   0.0.0.0:5000->5000/tcp   registry\n```", "```java\n# For Mac$ echo $(osascript -e \"Ipv4 address of (system info)\")\n192.168.1.2\n# For Windows\n$ ipconfig\nWindows IP Configuration\nEthernet adapter Ethernet:\n  Media State . . . . . . . . . . . : Media disconnected\n  Connection-specific DNS Suffix . :\nEthernet adapter vEthernet (Default Switch):\n  Connection-specific DNS Suffix . :\n  Link-local Ipv6 Address . . . . . : ef80::2099:f848:8903:f996%81\n  Ipv4 Address. . . . . . . . . . . : 192.168.1.2\n  Subnet Mask . . . . . . . . . . . : 255.255.240.0\n  Default Gateway . . . . . . . . . :\n```", "```java\nbootBuildImage {   imageName = \"192.168.1.2:5000/${project.name}:${\n       project.version}\"\n   environment = [\"BP_JVM_VERSION\" : \"17\"]\n}\n```", "```java\n$ ./gradlew clean build    # build the jar file of app after running the tests\n$ ./gradlew bootBuildImage\n> Task :bootBuildImage\nBuilding image '192.168.1.2:5000/packt-modern-api-development-chapter09:0.0.1-SNAPSHOT'\n > Pulling builder image\n'docker.io/paketobuildpacks/builder:base'\n ..................................................\n > Pulled builder image\n'paketobuildpacks/builder@sha256:e2bf5f2355b0daddb61c6c7ed3e55e58ab581 900da63f892949ded8b772048ee'\n > Pulling run image 'docker.io/paketobuildpacks/run:base-cnb'\n ..................................................\n > Pulled run image\n'paketobuildpacks/run@sha256:4a2fbf87a81964ef1a95445f343938ed19406fff da142586a35c9e20904a3315'\n > Executing lifecycle version v0.16.0\n > Using build cache volume 'pack-cache-2fdc28fe99dc.build'\n// continue…\n```", "```java\n> Running creator    [creator]  ===> ANALYZING\n    [creator]  Previous image with name\n               \"192.168.1.2:5000/packt-modern-api-development-\n               chapter09:0.0.1-SNAPSHOT\" not found\n    [creator]  ===> DETECTING\n    // truncated output for brevity\n    [creator]  ===> RESTORING\n    [creator]  ===> BUILDING\n    // truncated output for brevity\n    [creator]\n    [creator]  Paketo Buildpack for BellSoft Liberica 9.11.0\n    [creator]  https://github.com/paketo-buildpacks/bellsoft-\n               liberica\n    // truncated output for brevity\n    [creator]  Using Java version 17 from BP_JVM_VERSION\n[creator] BellSoft Liberica JRE 17.0.6: Contributing to layer\n    [creator]  Downloading from https://github.com/bell-sw/Liberica/releases/download/17.0.6+10/bellsoft-jre17.0.6+10-linux-amd64.tar.gz\n    [creator]  Verifying checksum\n    [creator]  Expanding to /layers/paketo-\n               buildpacks_bellsoft-liberica/jre\n    // truncated output for brevity\n```", "```java\n    [creator]  Launch Helper: Contributing to layer    [creator]  Creating /layers/paketo-buildpacks_bellsoft-\n               liberica/helper/exec.d/active-processor-count\n    [creator]  Creating /layers/paketo-buildpacks_bellsoft-\n               liberica/helper/exec.d/java-opts\n    // truncated output for brevity\n    [creator]  Paketo Buildpack for Syft 1.26.0\n    [creator]  https://github.com/paketo-buildpacks/syft\n    [creator]  Downloading from\n               https://github.com/anchore/syft/releases/\n               download/v0.75.0/syft_0.75.0_linux_amd64.tar.gz\n    // truncated output for brevity\n    [creator]  Paketo Buildpack for Executable JAR 6.6.2\n[creator] https://github.com/paketo-buildpacks/executable-jar\n    [creator]       Class Path: Contributing to layer\n    // truncated output for brevity\n```", "```java\n  [creator]  Paketo Buildpack for Spring Boot 5.23.0  [creator]  https://github.com/paketo-buildpacks/spring-boot\n  // truncated output for brevity\n  [creator]     ===> EXPORTING\n  [creator]  Adding layer 'paketo-buildpacks/ca-\n             certificates:helper'\n  // truncated output for brevity\n  [creator]  Adding layer 'paketo-buildpacks/executable-\n             jar:classpath'\n  [creator]  Adding layer 'paketo-buildpacks/spring-\n             boot:helper'\n  [creator]  Adding layer 'paketo-buildpacks/spring-\n             boot:spring-cloud-bindings'\n  [creator]  Adding layer 'paketo-buildpacks/spring-boot:web-\n             application-type'\n  [creator]  Adding 5/5 app layer(s)\n  [creator]  Adding layer 'buildpacksio/lifecycle:launcher'\n  // truncated output for brevity\n  [creator]  Adding label 'org.springframework.boot.version'\n  [creator]  Setting default process type 'web'\n  [creator]  *** Images (9cc6ef620b7c):\n  [creator]  192.168.1.2:5000/packt-modern-api-development-\n             chapter09:0.0.1-SNAPSHOT\nSuccessfully built image '192.168.1.2:5000/packt-modern-api-development-chapter09:0.0.1-SNAPSHOT'\nBUILD SUCCESSFUL in 1m 22s\n```", "```java\n$ docker run -p 8080:8080 192.168.1.2:5000/packt-modern-api-development-chapter09:0.0.1-SNAPSHOT\n```", "```java\n$ curl localhost:8080/actuator/health{\"status\":\"UP\"}\n$ curl localhost:8080/actuator\n{\n \"_links\": {\n  \"self\": {\n    \"href\": \"http://localhost:8080/actuator\",\n    \"templated\": false },\n  \"health-path\": {\n    \"href\": \"http://localhost:8080/actuator/ health/{*path}\",\n    \"templated\": true },\n  \"health\": {\n    \"href\": \"http://localhost:8080/actuator/health\",\n    \"templated\": false }\n  }\n}\n```", "```java\n$ docker psCONTAINER ID   IMAGE                                                                    COMMAND                  CREATED          STATUS           PORTS                    NAMES\n62255c54ab52   192.168.1.2:5000/packt-modern-api-development-chapter 09:0.0.1-SNAPSHOT   \"/cnb/process/web\"       7 minutes ago    Up 7 minutes    0.0.0.0:8080->8080/tcp   elated_ramanujan\nbca056bf9653   registry:2                                                               \"/entrypoint.sh /etc…\"   58 minutes ago   Up 58 minutes   0.0.0.0:5000->5000/tcp   registry\n```", "```java\n$ docker imagesREPOSITORY                                                          TAG              IMAGE ID       CREATED        SIZE\npaketobuildpacks/run                                                base-cnb         68c538f4e078   5 hours ago    87MB\nregistry                                                            2                 0d153fadf70b   5 weeks ago    24.2MB\npaketobuildpacks/builder                                            base             38446f68a5f8   43 years ago   1.26GB\n192.168.1.2:5000/packt-modern-api-development-chapter09             0.0.1-SNAPSHOT   9cc6ef620b7c   43 years ago   311MB\n```", "```java\n$ docker tag 192.168.1.2:5000/packt-modern-api-development-chapter09:0.0.1-SNAPSHOT 192.168.1.2:5000/packt-modern-api-development-chapter09:0.0.1-SNAPSHOT$ docker push 192.168.1.2:5000/packt-modern-api-development-chapter09:0.0.1-SNAPSHOT\n…\nb7e0fa7bfe7f: Pushed\n0.0.1-SNAPSHOT: digest: sha256:bde567c41e57b15886bd7108beb26b5de7b44c6 6cdd3500c70bd59b8d5c58ded size: 5327\n```", "```java\n$ curl -X GET http://192.168.1.2:5000/v2/_catalog{\"repositories\":[\"packt-modern-api-development-chapter09\"]}\n```", "```java\n$ curl -X GET http://192.168.1.2:5000/v2/packt-modern-api-development-chapter09/tags/list{\"name\":\"packt-modern-api-development-chapter09\",\"tags\":[\"0.0.1-SNAPSHOT\"]}\n```", "```java\n$ vi ~/.minikube/machines/minikube/config.json 41     …\n 42     \"DriverName\": \"qemu2\",\n 43     \"HostOptions\": {\n 44         \"Driver\": \"\",\n 45         \"Memory\": 0,\n 46         \"Disk\": 0,\n 47         \"EngineOptions\": {\n 48             \"ArbitraryFlags\": null,\n 49             \"Dns\": null,\n 50             \"GraphDir\": \"\",\n 51             \"Env\": null,\n 52             \"Ipv6\": false,\n 53             \"InsecureRegistry\": [\n 54                 \"10.96.0.0/12\",\n 55                 \"192.168.1.2:5000\"\n 56             ],\n 57     …\n```", "```java\n$ minikube start --insecure-registry=\"192.168.80.1:5000\"😄  minikube v1.29.0 on Darwin 13.1\n✨  Using the qemu2 driver based on existing profile\n👍  Starting control plane node minikube in cluster minikube\n🔄  Restarting existing qemu2 VM for \"minikube\" ...\n🐳  Preparing Kubernetes v1.26.1 on Docker 20.10.23 ...\n🔗  Configuring bridge CNI (Container Networking Interface) ...\n    ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5\n🔎  Verifying Kubernetes components...\n🌟  Enabled addons: default-storageclass, storage-provisioner\n🏄  Done! kubectl is now configured to use \"minikube\" cluster and \"default\" namespace by default\n```", "```java\n$ kubectl get po -ANAMESPACE    NAME                             READY   STATUS    RESTARTS        AGE\nkube-system  coredns-787d4945fb-5hzc2         1/1     Running   3 (17m ago)     30m\nkube-system  etcd-minikube                    1/1     Running   5 (17m ago)     32m\nkube-system  kube-apiserver-minikube          1/1     Running   4 (17m ago)     32m\nkube-system  kube-controller-manager-minikube 1/1     Running   5 (3m58s ago)   32m\nkube-system  kube-proxy-z4n66                 1/1     Running   4 (17m ago)     31m\nkube-system  kube-scheduler-minikube          1/1     Running   4 (17m ago)     32m\nkube-system  storage-provisioner              1/1     Running   2 (3m25s ago)   18m\n```", "```java\n$ minikube dashboard🔌  Enabling dashboard ...\n    ▪ Using image docker.io/kubernetesui/dashboard:v2.7.0\n    ▪ Using image docker.io/kubernetesui/metrics-\n      scraper:v1.0.8\n💡  Some dashboard features require the metrics-server addon. To enable all features please run:\n  minikube addons enable metrics-server\n🤔  Verifying dashboard health ...\n🚀  Launching proxy ...\n🤔  Verifying proxy health ...\n🎉  Opening http://127.0.0.1:56858/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ in your default browser...\n```", "```java\n$ kubectl create deployment chapter09--image=192.168.1.2:5000/packt-modern-api-developmentchapter09:0.0.1-SNAPSHOT --dry-run=client -o=yaml > deployment.yaml\n$ echo --- >> deployment.yaml\n$ kubectl create service clusterip chapter09 --tcp=8080:8080 --dry-run=client -o=yaml >> deployment.yaml\n```", "```java\napiVersion: apps/v1kind: Deployment\nmetadata:\n  creationTimestamp: null\n  labels:\n    app: chapter09\n  name: chapter09\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: chapter09\n  strategy: {}\n  template:\n    metadata:\n      creationTimestamp: null\n      labels:\n        app: chapter09\n    spec:\n      containers:\n      - image: 192.168.1.2:5000/\n       packt-modern-api-developmentchapter09:0.0.1-SNAPSHOT\n        name: packt-modern-api-developmentchapter09\n        resources: {}\nstatus: {}\n---\napiVersion: v1\nkind: Service\nmetadata:\n  creationTimestamp: null\n  labels:\n    app: chapter09\n  name: chapter09\nspec:\n  ports:\n  - name: 8080-8080\n    port: 8080\n    protocol: TCP\n    targetPort: 8080\n  selector:\n    app: chapter09\n  type: ClusterIP\nstatus:\n  loadBalancer: {}\n```", "```java\n$ kubectl apply -f k8s/deployment.yamldeployment.apps/chapter09 created\nservice/chapter09 created\n```", "```java\n    minikube stop and minikube start to ensure that the new configuration is applied.\n    ```", "```java\n    kubectl apply -f deploymentTest.yaml command.\n    ```", "```java\n$ kubectl get allNAME  READY STATUS  RESTARTS   AGE\npod/chapter09-845f48cc7f-55zqr 1/1 Running 0   9m17s\nNAME  TYPE CLUSTER-IP   EXTERNAL-IP   PORT(S)    AGE\nservice/chapter09   ClusterIP   10.100.135.86   <none>        8080/TCP   9m18s\nservice/kubernetes   ClusterIP   10.96.0.1  <none>        443/TCP    65m\nNAME  READY UP-TO-DATE  AVAILABLE   AGE\ndeployment.apps/chapter09  1/1   1   1     9m18s\nNAME   DESIRED CURRENT READY AGE\nreplicaset.apps/chapter09-845f48cc7f 1   1   1   9m17s\n```", "```java\n$ curl localhost:8080/actuator/healthcurl: (7) Failed to connect to localhost port 8080 after 0 ms: Connection refused\n```", "```java\n$ kubectl port-forward service/chapter09 8080:8080Forwarding from 127.0.0.1:8080 -> 8080\nForwarding from [::1]:8080 -> 8080\n```", "```java\n$ curl localhost:8080/actuator/health{\"status\":\"UP\",\"groups\":[\"liveness\",\"readiness\"]}\n```"]