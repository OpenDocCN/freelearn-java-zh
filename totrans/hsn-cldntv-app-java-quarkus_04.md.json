["```java\n$ curl -fsSL https://get.docker.com -o get-docker.sh\n```", "```java\n$ sh get-docker.sh\n```", "```java\n$ sudo usermod $(whoami) -G docker -a\n```", "```java\n$ groups $(whoami)\n```", "```java\n$ docker run hello-world\n```", "```java\nStatus: Downloaded newer image for hello-world:latest\nHello from Docker!\n```", "```java\n package com.packt.quarkus.chapter3;\n\n import javax.ws.rs.GET;\n import javax.ws.rs.Path;\n import javax.ws.rs.Produces;\n import javax.ws.rs.core.MediaType;\n import javax.inject.Inject;\n\n @Path(\"/getContainerId\")\n public class HelloOKD {\n\n     @Inject\n     ContainerService containerService;\n\n     @GET\n     @Produces(MediaType.TEXT_PLAIN)\n     public String hello() {\n         return \"You are running on \"  + \n           containerService.getContainerId();\n     }\n } \n```", "```java\npackage com.packt.quarkus.chapter3;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@ApplicationScoped\npublic class ContainerService {\n\n     public String getContainerId() {\n         return System.getenv().getOrDefault(\"HOSTNAME\", \"unknown\");\n     }\n}\n\n```", "```java\npackage com.packt.quarkus.chapter3;\n\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.junit.jupiter.api.Test;\n\nimport static io.restassured.RestAssured.given;\nimport static org.hamcrest.CoreMatchers.is;\n\n@QuarkusTest\npublic class HelloOKDTest {\n\n    @Test\n    public void testHelloEndpoint() {\n        given()\n          .when().get(\"/getContainerId\")\n          .then()\n             .statusCode(200);\n   }\n\n} \n```", "```java\n$ mvn install\n```", "```java\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.174 s - in com.packt.quarkus.chapter3.HelloOKDTest\n2019-11-17 19:15:16,227 INFO  [io.quarkus] (main) Quarkus stopped in 0.041s\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n```", "```java\n$ tree src/main/docker\n src/main/docker\n ├── Dockerfile.jvm\n └── Dockerfile.native\n```", "```java\nFROM fabric8/java-alpine-openjdk8-jre\nENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\nENV AB_ENABLED=jmx_exporter\nCOPY target/lib/* /deployments/lib/\nCOPY target/*-runner.jar /deployments/app.jar\nEXPOSE 8080\n\n# run with user 1001 and be prepared for be running in OpenShift too\nRUN adduser -G root --no-create-home --disabled-password 1001 \\\n  && chown -R 1001 /deployments \\\n  && chmod -R \"g+rwX\" /deployments \\\n  && chown -R 1001:root /deployments\nUSER 1001\n\nENTRYPOINT [ \"/deployments/run-java.sh\" ]\n```", "```java\n$ docker build -f src/main/docker/Dockerfile.jvm -t quarkus/hello-okd .\n```", "```java\nStep 1/9 : FROM fabric8/java-alpine-openjdk8-jre\nTrying to pull repository docker.io/fabric8/java-alpine-openjdk8-jre ... \nsha256:b27090f384b30f0e3e29180438094011db1fa015bbf2e69decb921bc2486604f: Pulling from docker.io/fabric8/java-alpine-openjdk8-jre\n9d48c3bd43c5: Pull complete \n. . . . . . .\nStatus: Downloaded newer image for docker.io/fabric8/java-alpine-openjdk8-jre:latest\n ---> fe776eec30ad\nStep 2/9 : ENV JAVA_OPTIONS \"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n ---> Running in c5d31bae859e\n ---> 01c99aac17db\nRemoving intermediate container c5d31bae859e\nStep 3/9 : ENV AB_ENABLED jmx_exporter\n ---> Running in c867300baaf0\n ---> 52deadd505bc\nRemoving intermediate container c867300baaf0\nStep 4/9 : COPY target/lib/* /deployments/lib/\n ---> aa11b2b30f16\nRemoving intermediate container dcbd13a3ae0f\nStep 5/9 : COPY target/*-runner.jar /deployments/app.jar\n ---> 2f2e1218eff8\nRemoving intermediate container 4b3861ba33d9\nStep 6/9 : EXPOSE 8080\n ---> Running in 93eebaee5495\n ---> 4008a4fdbb9c\nRemoving intermediate container 93eebaee5495\nStep 7/9 : RUN adduser -G root --no-create-home --disabled-password 1001   && chown -R 1001 /deployments   && chmod -R \"g+rwX\" /deployments   && chown -R 1001:root /deployments\n ---> Running in 2a86b3aeaeae\n ---> b21be209f09e\nRemoving intermediate container 2a86b3aeaeae\nStep 8/9 : USER 1001\n ---> Running in fac8d64b8793\n ---> 94077bb5396a\nRemoving intermediate container fac8d64b8793\nStep 9/9 : ENTRYPOINT /deployments/run-java.sh\n ---> Running in 7bacd02dd631\n ---> 9f269b2041d3\nRemoving intermediate container 7bacd02dd631\nSuccessfully built 9f269b2041d3\n```", "```java\n$ docker images | grep hello-okd\n```", "```java\nquarkus/hello-okd                                        latest               9f269b2041d3        2 minutes ago       98.9 MB\n```", "```java\n$ docker run -i --rm -p 8080:8080 quarkus/hello-okd\n```", "```java\nexec java -Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager -javaagent:/opt/agent-bond/agent-bond.jar=jmx_exporter{{9779:/opt/agent-bond/jmx_exporter_config.yml}} -XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=40 -XX:+ExitOnOutOfMemoryError -cp . -jar /deployments/app.jar\n2019-11-11 10:29:12,505 INFO  [io.quarkus] (main) hello-okd 1.0-SNAPSHOT (running on Quarkus 1.0.0.Final) started in 0.666s. Listening on: http://0.0.0.0:8080\n2019-11-11 10:29:12,525 INFO  [io.quarkus] (main) Profile prod activated. \n2019-11-11 10:29:12,525 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy]\n```", "```java\n $ docker ps --format '{{.Image}}'\n```", "```java\nquarkus/hello-okd\n```", "```java\n$ curl http://localhost:8080/getContainerId\n```", "```java\nYou are running on a333f52881a1\n```", "```java\nFROM registry.access.redhat.com/ubi8/ubi-minimal\nWORKDIR /work/\nCOPY target/*-runner /work/application\nRUN chmod 775 /work\nEXPOSE 8080\nCMD [\"./application\", \"-Dquarkus.http.host=0.0.0.0\"]\n```", "```java\n$ mvn package -Pnative -Dnative-image.docker-build=true \n```", "```java\n$ docker build -f src/main/docker/Dockerfile.native -t quarkus/hello-okd-native .\n```", "```java\nSending build context to Docker daemon 32.57 MB\nStep 1/6 : FROM registry.access.redhat.com/ubi8/ubi-minimal\n ---> 8c980b20fbaa\nStep 2/6 : WORKDIR /work/\n ---> Using cache\n ---> 0886c0b19e07\nStep 3/6 : COPY target/*-runner /work/application\n ---> 7e66ae6447ce\nRemoving intermediate container 2ddc91992af5\nStep 4/6 : RUN chmod 775 /work\n ---> Running in e8d6ffbbc14e\n ---> 780f6562417d\nRemoving intermediate container e8d6ffbbc14e\nStep 5/6 : EXPOSE 8080\n ---> Running in d0d48475565f\n ---> 554f79b4cbb2\nRemoving intermediate container d0d48475565f\nStep 6/6 : CMD ./application -Dquarkus.http.host=0.0.0.0\n ---> Running in e0206ff3971f\n ---> 33021bdaf4a4\nRemoving intermediate container e0206ff3971f\nSuccessfully built 33021bdaf4a4\n```", "```java\n$ docker images | grep hello-okd-native\n```", "```java\nquarkus/hello-okd-native                                        latest               33021bdaf4a4        59 seconds ago      113 MB\n```", "```java\n$ docker run -i --rm -p 8080:8080 quarkus/hello-okd-native\n```", "```java\n2019-11-11 11:59:46,817 INFO  [io.quarkus] (main) hello-okd 1.0-SNAPSHOT (running on Quarkus 1.0.0.CR1) started in 0.005s. Listening on: http://0.0.0.0:8080\n2019-11-11 11:59:46,817 INFO  [io.quarkus] (main) Profile prod activated. \n2019-11-11 11:59:46,817 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy]y]\n```", "```java\ncurl http://localhost:8080/getContainerId\n```", "```java\nYou are running on ff6574695d68\n```", "```java\n$ sudo dnf install libvirt qemu-kvm\n```", "```java\n$ sudo usermod -a -G libvirt $(whoami)\n```", "```java\n$ newgrp libvirt\n```", "```java\n$ sudo curl -L https://github.com/dhiltgen/docker-machine-kvm/releases/download/v0.10.0/docker-machine-driver-kvm-centos7 -o /usr/local/bin/docker-machine-driver-kvm\n\n$ sudo chmod +x /usr/local/bin/docker-machine-driver-kvm\n```", "```java\n$ wget https://github.com/minishift/minishift/releases/download/v1.33.0/minishift-1.33.0-linux-amd64.tgz \n```", "```java\n$ tar xvf minishift-1.33.0-linux-amd64.tgz -C ~\n```", "```java\n$ ./minishift start\n```", "```java\n-- Starting profile 'minishift'\n-- Check if deprecated options are used ... OK\n-- Checking if https://github.com is reachable ... OK\n-- Checking if requested OpenShift version 'v3.11.0' is valid ... OK\n-- Checking if requested OpenShift version 'v3.11.0' is supported ... OK\n-- Checking if requested hypervisor 'kvm' is supported on this platform ... OK\n-- Checking if KVM driver is installed ...\n. . . .\nOpenShift server started.\n\nThe server is accessible via web console at:\nhttps://192.168.42.103:8443/console\nThe server is accessible at:\nhttps://192.168.42.190:8443\nYou are logged in as: User: developer Password:\nTo log in as administrator:\noc login -u system:admin\n```", "```java\nexport PATH=$PATH:~/minishift-1.33.0-linux-amd64:~/.minishift/cache/oc/<oc-version>/linux\n```", "```java\n$ minishift console\n```", "```java\n$ oc new-project quarkus-hello-okd\n```", "```java\n$ oc new-build --binary --name=quarkus-hello-okd -l app=quarkus-hello-okd\n```", "```java\n* A Docker build using binary input will be created\n* The resulting image will be pushed to image stream tag \"quarkus-hello-okd:latest\"\n* A binary build was created, use 'start-build --from-dir' to trigger a new build\n\n--> Creating resources with label app=quarkus-hello-okd ...\n imagestream.image.openshift.io \"quarkus-hello-okd\" created\n buildconfig.build.openshift.io \"quarkus-hello-okd\" created\n--> Success\n```", "```java\n$  oc get bc\n```", "```java\nNAME                TYPE      FROM      LATEST\nquarkus-hello-okd   Docker    Binary    0\n```", "```java\n$ oc patch bc/quarkus-hello-okd -p '{\"spec\":{\"strategy\":{\"dockerStrategy\":{\"dockerfilePath\":\"src/main/docker/Dockerfile.native\"}}}}'\n```", "```java\nbuildconfig.build.openshift.io/quarkus-hello-okd patched\n```", "```java\n$ oc describe bc/quarkus-hello-okd\n```", "```java\nStrategy:           Docker\nDockerfile Path:    src/main/docker/Dockerfile.native\n```", "```java\n$ oc start-build quarkus-hello-okd --from-dir=. --follow\n```", "```java\nUploading finished\nbuild.build.openshift.io/quarkus-hello-okd-1 started\nReceiving source from STDIN as archive ...\nCaching blobs under \"/var/cache/blobs\".\nPulling image registry.access.redhat.com/ubi8/ubi-minimal ...\n. . . .\nWriting manifest to image destination\nStoring signatures\nSTEP 1: FROM registry.access.redhat.com/ubi8/ubi-minimal\nSTEP 2: WORKDIR /work/\n2d94c8983e7ec259aa0e0207c66b0e48fdd9544f66e3c17724a10f838aaa50ab\nSTEP 3: COPY target/*-runner /work/application\na6d9d0a228023d29203c20de7bcfd9019de00f62b4a4c3fdc544648f8f61988a\nSTEP 4: RUN chmod 775 /work\ne7bf7467d2191478f0cdccd9b480d10ebd19eeae254a7fa0608646cba28c5a97\nSTEP 5: EXPOSE 8080\n29e6198d99e27508aa75cd073290f66fbca605b8ff95cbb6287b4ecbfc1807e5\nSTEP 6: CMD [\"./application\",\"-Dquarkus.http.host=0.0.0.0\"]\n6c44a4a542ea96450ed578afd4c1859564926405036f61fbbf2e3660660e5f5e\nSTEP 7: ENV \"OPENSHIFT_BUILD_NAME\"=\"quarkus-hello-okd-1\" \"OPENSHIFT_BUILD_NAMESPACE\"=\"myproject\"\n9aa01e4bc2585a05b37e09a10940e326eec6cc998010736318bbe5ed1962503b\nSTEP 8: LABEL \"io.openshift.build.name\"=\"quarkus-hello-okd-1\" \"io.openshift.build.namespace\"=\"myproject\"\nSTEP 9: COMMIT temp.builder.openshift.io/myproject/quarkus-hello-okd-1:d5dafe08\n5dafe14a20fffb50b151efbfc4871218a9b1a8516b618d5f4b3874a501d80bcd\n\nPushing image image-registry.openshift-image-registry.svc:5000/myproject/quarkus-hello-okd:latest ...\n. . .\nSuccessfully pushed image-registry.openshift-image-registry.svc:5000/myproject/quarkus-hello-okd@sha256:9fc48bb4b92081c415342407e8df41f38363a4bf82ad3a4319dddced19eff1b3\nPush successful\n```", "```java\n$ oc get is\n```", "```java\nNAME                IMAGE \nquarkus-hello-okd   image-registry.openshift-image-registry.svc:5000/myproject/quarkus-hello-okd   \n```", "```java\n$ oc new-app --image-stream=quarkus-hello-okd:latest\n```", "```java\n--> Found image 5dafe14 (2 minutes old) in image stream \"myproject/quarkus-hello-okd\" under tag \"latest\" for \"quarkus-hello-okd:latest\"\n\n Red Hat Universal Base Image 8 Minimal \n -------------------------------------- \n The Universal Base Image Minimal is a stripped down image that uses microdnf as a package manager. This base image is freely redistributable, but Red Hat only supports Red Hat technologies through subscriptions for Red Hat products. This image is maintained by Red Hat and updated regularly.\n\n Tags: minimal rhel8\n\n * This image will be deployed in deployment config \"quarkus\n    -hello-okd\"\n * Port 8080/tcp will be load balanced by service \"quarkus\n    -hello-okd\"\n * Other containers can access this service through the hostname \n        \"quarkus-hello-okd\"\n * WARNING: Image \"myproject/quarkus-hello-okd:latest\" runs as\n     the 'root' user which may not be permitted by your cluster  \n    administrator\n\n--> Creating resources ...\n deploymentconfig.apps.openshift.io \"quarkus-hello-okd\" created\n service \"quarkus-hello-okd\" created\n--> Success\n Application is not exposed. You can expose services to the\n    outside world by executing one or more of the commands below:\n 'oc expose svc/quarkus-hello-okd' \n Run 'oc status' to view your app.\n```", "```java\n$ oc expose svc/quarkus-hello-okd \n```", "```java\nroute.route.openshift.io/quarkus-hello-okd exposed\n```", "```java\n$ oc get route quarkus-hello-okd -o jsonpath --template=\"{.spec.host}\"\n```", "```java\nquarkus-hello-okd-myproject.192.168.42.5.nip.io \n```", "```java\n$ curl quarkus-hello-okd-myproject.192.168.42.5.nip.io/getContainerId\n```", "```java\nYou are running on quarkus-hello-okd-1-7k2t8\n```", "```java\n$ oc set resources dc/quarkus-hello-okd --limits=memory=50M\n```", "```java\ndeploymentconfig.apps.openshift.io/quarkus-hello-okd resource requirements updated \n```", "```java\n$ oc describe dc/quarkus-hello-okd\n```", "```java\nLimits:\nmemory:        50M\n```", "```java\n$ oc scale --replicas=10 dc/quarkus-hello-okd\n```", "```java\ndeploymentconfig.apps.openshift.io/quarkus-hello-okd scaled\n```", "```java\nfor i in {1..100}; do curl quarkus-hello-okd-myproject.192.168.42.5.nip.io/getContainerId ; echo \"\"; done;\n```", "```java\n You are running on quarkus-hello-okd-2-jzvp2\\n\n You are running on quarkus-hello-okd-2-fc7h9\\n\n You are running on quarkus-hello-okd-2-lj67f\\n\n You are running on quarkus-hello-okd-2-qwm9j\\n\n You are running on quarkus-hello-okd-2-n6kn6\\n\n You are running on quarkus-hello-okd-2-bbk84\\n\n You are running on quarkus-hello-okd-2-d5bj6\\n\n You are running on quarkus-hello-okd-2-skc2h\\n\n You are running on quarkus-hello-okd-2-bw5f9\\n\n You are running on quarkus-hello-okd-2-p24jl\\n\n You are running on quarkus-hello-okd-2-jzvp2\\n\n ...  \n```", "```java\noc delete all --all\n```", "```java\npod \"quarkus-hello-okd-1-7k2t8\" deleted\npod \"quarkus-hello-okd-1-build\" deleted\npod \"quarkus-hello-okd-1-deploy\" deleted\nreplicationcontroller \"quarkus-hello-okd-1\" deleted\nservice \"quarkus-hello-okd\" deleted\ndeploymentconfig.apps.openshift.io \"quarkus-hello-okd\" deleted\nbuildconfig.build.openshift.io \"quarkus-hello-okd\" deleted\nimagestream.image.openshift.io \"quarkus-hello-okd\" deleted\nroute.route.openshift.io \"quarkus-hello-okd\" deleted\n```"]