- en: Chapter 6. Building Cucumber Frameworks
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: Building a Web Automation framework
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building a Mobile Automation framework
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building a REST Automation framework
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Cucumber is a platform to implement BDD and not automate applications. For automating
    applications, different APIs are available like Selenium Webdriver for the Web,
    Appium for mobile, and HTTP Client for REST Services. Until now, we have learned
    various Cucumber Features so that we can build a robust automation framework but
    we also need to integrate Cucumber with the APIs mentioned earlier so that we
    can have frameworks which automate real-time applications.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will learn how to build frameworks to automate Web, REST,
    and Mobile applications.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: Building a Web Automation framework
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Selenium** is a Web Automation tool that has made life a lot easier for testers
    because of its capabilities and powers, and is the number one choice for testers
    to automate websites. That''s the reason we have also chosen Selenium for our
    framework.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: When we create a framework, we should keep in mind that adding new test cases
    and making changes to existing test cases should be fairly easy and simple.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: Let's learn how we can create a robust Web Automation framework using Cucumber
    and Selenium, along with keeping maintainability and scalability in mind.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Install Firefox on your system as per the version supported by the latest Selenium
    version. For more information on Selenium and browser support, visit the web page
    at [http://docs.seleniumhq.org/about/platforms.jsp](http://docs.seleniumhq.org/about/platforms.jsp).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: How to do it…
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Let''s first understand the test case that we will use in this framework. We
    will test the login functionality of [https://github.com/](https://github.com/).
    The following is the test case flow:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: We open [https://github.com/](https://github.com/) and click on **Sign in**.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We don't enter the username and password and click on **Sign in**:![How to do
    it…](img/image00174.jpeg)
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We verify the error message we get:![How to do it…](img/image00175.jpeg)
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We will create a simple Maven project using the Eclipse Maven plugin. Click
    on **New** in the Eclipse menu and follow the screenshots to create the Maven
    project named `CucumberWebAutomation`:![How to do it…](img/image00176.jpeg)![How
    to do it…](img/image00177.jpeg)![How to do it…](img/image00178.jpeg)
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Since it is a Maven project, we will update the `pom.xml` file for adding the
    dependencies of Cucumber and Selenium. As of now, this is what `pom.xml` looks
    like:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We will add the `properties` tag and define properties for the Cucumber and
    Selenium versions so that when we need to update the dependency version, we will
    need to do it only at one place. Add the following code to `pom.xml` inside the
    `<project>` tag:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: To check latest dependency version on Maven central repository, refer to [http://search.maven.org/](http://search.maven.org/).
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We will add dependency for Cucumber-JVM for BDD and Selenium-JVM for web automation.
    Please add the following code to `pom.xml` after the `</properties>` tag:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: We will create the project structure and will keep similar files in the same
    package. Follow the steps shown in this screenshot and create the packages as
    mentioned:![How to do it…](img/image00179.jpeg)
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Since it is a Cucumber project, we are going to add the `RunCukeTest.java`
    file to specify the configuration, such as the location of Feature files, the
    location of Step Definitions, the output location, and so on. Add the following
    class to the `CucumberOptions` package:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Now it''s time to add a Feature file to specify the requirements. We will add
    the `github_login.feature` file to the package features. This is how our Feature
    file look likes:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The next step is to add Step Definitions. The simplest way would be to run
    the project once and use the suggestions given by Cucumber. Add a `GithubLoginSD.java`
    file to the `stepDefinitions` package and it should have the following code:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Now we need to add Selenium functions, which can be used to invoke the Firefox
    browser and close the browser once the execution finishes. I am keeping this file
    very basic for simplicity purposes. Create the `DriverFactory.java` class in the
    `utils` package, and the code should look like this:'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Now we need to hook this code so that the browser can be initiated before each
    scenario and closed after each scenario. Create a `Hooks.java` file in the `stepdefinitions`
    package with the following code:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Now we will implement **Page Object Model** (**POM**) so that maintaining and
    extending the Selenium code will be fairly simple. I am also keeping the POM simple;
    you are free to extend it in your projects.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We will add the `page` object for the GitHub login page in the `web.pages`
    package and the code will look like this:'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'We will have to update the Step Definition files for the Selenium functions
    that we have just written. After adding all the functions, the code should look
    like this:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Our framework is ready to be executed. We can run this framework either from
    Eclipse or from the command line. Let's run this from the command line using `mvn
    test`. The following is the output:![How to do it…](img/image00180.jpeg)
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How it works…
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We have integrated Cucumber, Selenium, Maven, Java and Page Objects to design
    our Web Automation Framework. Cucumber is for implementing BDD, so that nontechnical
    people can also directly contribute to the development—Selenium for web automation,
    Java as a programming language, and Maven as a build tool.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: Page Objects is a framework design approach for maintaining and accessing components
    and controls spread across test Scenarios. Page Objects creates a DSL for our
    tests so that if something changes on the page, we don't need to change the test;
    we just need to update the object that represents the page.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: Building a Mobile Automation framework
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Appium** is an open source Mobile Automation tool that has made life a lot
    easier for testers because it supports both Android and iOS. It has extended Selenium
    API, so all the Selenium advantages plus the advantage of running test cases on
    multiple platforms makes it an obvious choice for mobile automation.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: Let's learn how we can create a robust mobile automation framework using Cucumber
    and Appium, along with keeping maintainability and scalability in mind using the
    Page Object Model.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: I am just giving a demo of Android app automation; the same project and framework
    can be used for iOS automation as well. I will also create placeholders for iOS
    packages for your reference, if you want to use a single framework for both Android
    and iOS apps.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Download and install Appium on your system and for more information, refer to
    [http://appium.io/downloads.html](http://appium.io/downloads.html).
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download and install Android SDK Manager from [http://developer.android.com/tools/help/sdk-manager.html](http://developer.android.com/tools/help/sdk-manager.html).
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download and install Android AVD Manager from [http://developer.android.com/tools/help/avd-manager.html](http://developer.android.com/tools/help/avd-manager.html).
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create one Android virtual device to run the app. For more information, refer
    to [http://developer.android.com/tools/devices/managing-avds.html](http://developer.android.com/tools/devices/managing-avds.html).
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: Running Android on Windows or running test cases on Appium is out of the scope
    of this book. Readers are expected to have basic mobile automation knowledge.
    We will focus on creating the Cucumber Appium framework.
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: How to do it…
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Let''s first understand the test case that we will use in this framework. We
    will use Agile NCR app for Android for this recipe. Let me walk-through the test
    Steps:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: We open the **Agile NCR** app and verify the home page:![How to do it…](img/image00181.jpeg)
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We click on the **AGENDA** option and verify the **AGENDA** screen:![How to
    do it…](img/image00182.jpeg)
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We click on the Back button and verify the home page.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  id: totrans-64
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: I have included this application in the project that can be found on GitHub.
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We are going to create a simple Maven project using the Eclipse Maven plugin.
    Use the same steps mentioned in first recipe to create the project and name it
    `CucumberMobileAutomation`.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Since it is a Maven project, we will update the `pom.xml` file to add the dependencies
    of Cucumber and Appium. As of now, this is what the `pom.xml` file looks like:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'We will add the `properties` tag and define the properties for the Cucumber
    and Appium versions, so that when we need to update the dependency version, we
    will need to do it only at one place. Add the following code to `pom.xml`:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Note
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: To check the latest dependency version on Maven central repository, refer to
    [http://search.maven.org/](http://search.maven.org/).
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We will add dependency for Cucumber-JVM for BDD and Appium-Java for mobile
    automation. Add the following code to `pom.xml`:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: We will create the project structure and keep similar files in the same package.
    I am going to use the packages added for Android, and use the packages added for
    iOS are for reference purpose. Follow the steps shown in this screenshot and create
    the packages as mentioned:![How to do it…](img/image00183.jpeg)
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Since it is a Cucumber project, we are going to add the `RunCukeTest.java`
    file to specify the configuration, such as the location of Feature files, location
    of step definitions, and output location, and so on. Add the following class to
    the `CucumberOptions` package:'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Now it''s time to add a feature file to specify the requirements. We will add
    the `agile_ncr.feature` file to the package features. This is how our feature
    file look likes:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The next step is to add Step Definitions. The simplest way would be to run
    the project once and use the suggestions given by Cucumber. Add the file `AgileNCRSD.java`
    to the `stepDefinitions` package, and it should contain the following code:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Now, add the `.apk` file needed to run the `app` to the apps folder in `src/test/resources`.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Then, we need to add the Appium functions, which can be used to invoke the
    Android app and close the app once the execution finishes. I am keeping this file
    very basic for simplicity purposes. Create the `AppiumFactory.java` class in the
    `utils` package and the code should look like this:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE16]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Now, we need to hook this code so that the browser can be initiated before
    each scenario and closed after each scenario. Create a `Hooks.java` file in the
    `stepdefinitions` package with the following code:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE17]'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Now, we will implement the POM, so that maintaining and extending Appium code
    will be fairly simple. I am also keeping the POM simple; you are free to extend
    it in your projects.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'We will add two page objects, one for `HomePage` and the other for `AgendaPage`.
    The code for `HomePage.java` looks like this:'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The code for `AgendaPage.java` looks like this:'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'We will have to update the Step Definition files for the Selenium functions
    that we have just written. After adding all the functions, the code should look
    like this:'
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Our framework is ready. Before we can start the execution, we need to start
    the Appium server. Start the Appium server with the default settings, as shown
    in the following screenshot:![How to do it…](img/image00184.jpeg)
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We can run this framework either from Eclipse or from the command line. Let's
    run this from the command line using `mvn test`. The following is the output:![How
    to do it…](img/image00185.jpeg)
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How it works…
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We have integrated Cucumber, Appium, Maven, Java, and Page Objects to design
    our Mobile Automation framework. Cucumber is for implementing BDD, so that nontechnical
    people can also directly contribute to the development—Appium for web automation,
    Java as a programming language, and Maven as a build tool.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: Page Objects is a framework design approach for maintaining and accessing components
    and controls spread across test Scenarios. Page Object creates a DSL for our tests;
    thus, if something changes on the page, we don't need to change the test; we just
    need to update the object that represents the page.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: Building a REST Automation framework
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: HTTP Client is an open source REST services library developed by Apache. I am
    using HTTP Client for this framework because this is a pure Java implementation
    and is very easy to use. We need to create an instance of the HTTP client and
    then just use one of the already defined functions.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: Since there is no UI involved and there is a limit to the functions that we
    need to use, there is no need for the POM in this framework. Let's learn how we
    can create a robust REST automation framework using Cucumber and HTTP Client.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: I am just giving a demo of REST Services automation, the same project and framework
    can be used for SOAP automation as well.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: How to do it…
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let's first understand the test case that we will use in this framework. I am
    going to test the `GET` and `POST` methods. Let me walk-through the test Steps.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: Send a `GET` request to the GitHub URL at [https://api.github.com/users/ShankarGarg](https://api.github.com/users/ShankarGarg)
    to verify the user details.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Send a `POST` request to the Apple service center at [https://selfsolve.apple.com/wcResults.do](https://selfsolve.apple.com/wcResults.do)
    to register your device.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We are going to create a simple Maven project using the Eclipse Maven plugin.
    Use the same steps mentioned in first recipe to create the project and name it
    `CucumberRESTAutomation`.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Since it is a Maven project, we will update the `pom.xml` file for adding dependencies
    of Cucumber and Appium. As of now, this is how the `pom.xml` file looks like:'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'We will add the `properties` tag and define the properties for the Cucumber
    and Appium versions, so that when we need to update the dependency version we
    will need to do it only at one place. Add the following code to `pom.xml`:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Note
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: To check the latest dependency version on Maven central repository, refer to
    [http://search.maven.org/](http://search.maven.org/).
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We will add dependency for Cucumber-JVM for BDD, Appium-java for mobile automation.
    Add the following code to `pom.xml`:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: We will create the project structure and will keep similar files in the same
    package. Follow the steps shown in this screenshot and create the packages as
    mentioned:![How to do it…](img/image00186.jpeg)
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Since it is a Cucumber project, we are going to add the `RunCukeTest.java`
    file to specify the configuration, such as the location of feature files, the
    location of step definitions, the output location, and so on. Add the following
    class to the `CucumberOptions` package:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE24]'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Now it''s time to add the feature file to specify the requirements. We will
    add the `REST_Services.feature` file to the package features. This is how our
    feature file look likes:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE25]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'The next step is to add Step Definitions. The simplest way would be run the
    project once and use the suggestions given by Cucumber. Add a `RESTServicesSD.java`
    file to the `stepDefinitions` package and it should have the following code:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一步是添加步骤定义。最简单的方法是运行一次项目，并使用 Cucumber 提供的建议。在 `stepDefinitions` 包中添加一个 `RESTServicesSD.java`
    文件，并应包含以下代码：
- en: '[PRE26]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Now we need to add the HTTP Client functions, which can be used to send the
    `GET` and `POST` methods. For demonstration purposes, I am keeping the minimum
    required functions in the file.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们需要添加 HTTP 客户端函数，这些函数可以用来发送 `GET` 和 `POST` 方法。为了演示目的，我在文件中保留了所需的最小函数。
- en: '[PRE27]'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Note
  id: totrans-126
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Readers are expected to know the basics about REST Services—the different functions
    such as `GET` and `POST` methods.
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 预期读者了解关于 REST 服务的基础知识——例如 `GET` 和 `POST` 方法等不同功能。
- en: We don't need any hooks files here because we don't need to invoke any browsers/apps
    before or after the test cases. If need be, we can always add the file later.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们在这里不需要任何钩子文件，因为我们不需要在测试用例之前或之后调用任何浏览器/应用程序。如果需要，我们总是可以稍后添加该文件。
- en: We don't need the Page Object Model here because there are no UI pages that
    we need to maintain.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们在这里不需要页面对象模型，因为没有需要维护的 UI 页面。
- en: 'We will have to update the Step Definition files for the HTTP functions that
    we have just written. After adding all the functions, the code should look like
    this:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要更新我们刚刚编写的 HTTP 函数的步骤定义文件。在添加所有函数后，代码应如下所示：
- en: '[PRE28]'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Our framework is ready and we can run this framework from either Eclipse or
    the Terminal. Let's run this from the command line using `mvn test`. The following
    is the output:![How to do it…](img/image00187.jpeg)
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们的框架已经准备就绪，我们可以从 Eclipse 或终端运行此框架。让我们使用 `mvn test` 命令行来运行它。以下是将显示的输出：![如何操作…](img/image00187.jpeg)
- en: How it works…
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: We have integrated Cucumber, HTTP Client, Maven, Java and Page Objects to design
    our REST Services automation framework. Cucumber is for implementing BDD, so that
    nontechnical people can also directly contribute to the development—HTTP Client
    for REST automation, Java as a programming language, and Maven as a build tool.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经集成了 Cucumber、HTTP 客户端、Maven、Java 和页面对象来设计我们的 REST 服务自动化框架。Cucumber 用于实现行为驱动开发（BDD），以便非技术人员也可以直接参与开发——HTTP
    客户端用于 REST 自动化，Java 作为编程语言，Maven 作为构建工具。
