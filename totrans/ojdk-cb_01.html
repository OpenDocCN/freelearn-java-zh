<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Getting Started with OpenJDK"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with OpenJDK</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Distinguishing OpenJDK from Oracle JDK</li><li class="listitem" style="list-style-type: disc">Installing OpenJDK on Windows</li><li class="listitem" style="list-style-type: disc">Configuring OpenJDK on Windows</li><li class="listitem" style="list-style-type: disc">Installing OpenJDK on Linux</li><li class="listitem" style="list-style-type: disc">Configuring OpenJDK on Linux</li><li class="listitem" style="list-style-type: disc">Navigating through OpenJDK groups and projects</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Introduction</h1></div></div></div><p>OpenJDK is now an <a id="id0" class="indexterm"/>official Java 7 reference implementation, and is now one for Java 8 as well. This means that the most essential projects of the Java ecosystem are now open source. This also means that OpenJDK can be installed in various ways—from building from source to installing the binary package from the package manager, if any.</p><p>Sun's effort to release an open source JDK was the beginning of the project publicly stated in 2006, during the JavaOne conference. HotSpot was released under the GPLv2 license. The <a id="id1" class="indexterm"/>complete source code of the <span class="strong"><strong>Java Class Library</strong></span> (<span class="strong"><strong>JCL</strong></span>) was released in May 2007 under the GPL, except for several proprietary parts with GPL-incompatible licenses.</p><p>However, some proprietary parts (from 4 to 1 percent of the total code lines, depending on the update number) were required in OpenJDK in a separate proprietary bundle in the OpenJDK 7 b53 update in April 2009.</p><p>One may think that the initial installation and configuration are quite simple and do not need some sort of detailed explanation. In many ways, that's true; but there are some difficulties along the way.</p><p>We will start by distinguishing OpenJDK from Oracle JDK. The latter is based on the former, but not entirely. Each one has its own advantages and drawbacks. The primary OpenJDK advantage is the fact that it's open source while Oracle JDK is always recommended and is ready-to-use. Besides, OpenJDK 6 is the only maintainable Java 6 realization left, after the Java 6 discontinuation.</p><p>Then we will cover the installation process for Windows and possible issues with some Windows versions. After that, we will describe some typical profiles to configure an installed instance of OpenJDK for various needs, such as a server instance and developer instance.</p><p>Then we will go in to more complicated matters, such as installing OpenJDK on various Linux systems. There are at least two common ways to do it: the distribution-recommended way that depends on the distribution itself, and another way, which is common for all Linux systems.</p><p>Linux configuration is more or less the same as that of Windows, but there are some differences that need to be covered. The differences are, mainly, related to system philosophy, namely the way it's done and then what exactly is done.</p><p>Then we will proceed to OpenJDK internal structures—in an introductory way. We will consider OpenJDK projects that are already in use, and will learn how to use instruments that we will need later. Also, we will briefly look at OpenJDK groups and find out what they are doing and how they may influence OpenJDK's further evolution.</p><p>Last but not least, you <a id="id2" class="indexterm"/>will learn how to benefit from the Adopt OpenJDK program, which is also a part of the OpenJDK community. Adopt OpenJDK is an effort to improve OpenJDK usability readiness, test new language releases, and do whatever it needs to make OpenJDK more useful and welcoming among users as well as developers.</p><p>This chapter is written with an introductory purpose, and does not cover some details that are common to Oracle Java. However, it provides a necessary basis to work with.</p><p>We will use Java 7, as it is stable and the latest Java version available. All screenshots and processes are assuming that we use Java 7, if another is not explicitly mentioned.</p><p>If you already have OpenJDK built and installed as default and you are aware of the differences between OpenJDK and Oracle JDK, as well as of the existence of Adopt OpenJDK, you may skip this chapter entirely.</p></div></div>
<div class="section" title="Distinguishing OpenJDK from Oracle JDK"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Distinguishing OpenJDK from Oracle JDK</h1></div></div></div><p>Though <a id="id3" class="indexterm"/>OpenJDK is an official reference <a id="id4" class="indexterm"/>implementation for the Java platform, certain Oracle-provided software are not open source. The most famous of them is the Java browser plugin, but there are a lot more differences than just that. This recipe will show you how to distinguish OpenJDK from Oracle JDK.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Getting ready</h2></div></div></div><p>To follow this recipe, you will need an installed OpenJDK instance. It will be good if you have an Oracle JDK instance as well, to feel the difference. Also, we will assume that you have a Linux installation and an <code class="literal">update-java-alternatives</code> command installed and ready to use. To know how to install OpenJDK on various systems, see the later recipes in this chapter. To know how to switch the system Java version, if you do not have <code class="literal">update-alternatives</code> installed (for Fedora, Gentoo, and so on), visit the <span class="emphasis"><em>Configuring OpenJDK on Linux</em></span> recipe or refer to your distribution documentation/forums.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>How to do it...</h2></div></div></div><p>Please take a <a id="id5" class="indexterm"/>look at the following procedures to <a id="id6" class="indexterm"/>know the difference between OpenJDK and Oracle JDK:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We will open a terminal and type the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>update-java-alternatives  --list</strong></span>
</pre></div></li><li class="listitem">We will see a full list of installed Java implementations:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ update-java-alternatives  --list</strong></span>
<span class="strong"><strong>java-1.6.0-openjdk-amd64 1061 /usr/lib/jvm/java-1.6.0-openjdk-amd64</strong></span>
<span class="strong"><strong>java-1.7.0-openjdk-amd64 1071 /usr/lib/jvm/java-1.7.0-openjdk-amd64</strong></span>
<span class="strong"><strong>java-6-oracle 1073 /usr/lib/jvm/java-6-oracle</strong></span>
<span class="strong"><strong>java-7-oracle 1081 /usr/lib/jvm/java-7-oracle</strong></span>
<span class="strong"><strong>java-8-oracle 1082 /usr/lib/jvm/java-8-oracle</strong></span>
</pre></div></li><li class="listitem">Let's set Oracle Java as default. We will run the following command with <code class="literal">root</code> access:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>update-java-alternatives  --set java-7-oracle</strong></span>
</pre></div><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>This command may produce errors such as "no alternatives for apt". It's OK, just ignore them.</p></div></div></li><li class="listitem">Then we will go to <a class="ulink" href="https://www.java.com/en/download/installed.jsp?detect=jre">https://www.java.com/en/download/installed.jsp?detect=jre</a> and check our browser plugin version. We will see the activate link (following the name of the activating entity).<p>We can see from the result of our actions that the Java browser plugin has been installed.</p></li><li class="listitem">Let's try to set OpenJDK as the default Java environment (the actual instance name may differ in your case):<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>update-java-alternatives  --set java-1.7.0-openjdk-amd64</strong></span>
</pre></div></li><li class="listitem">Then we will go to our browser page and refresh it. It may be necessary to restart the browser so that the changes can take effect, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/8405_01_01.jpg" alt="How to do it..."/></div></li></ol></div><p>We can see that the plugin is not from the JDK itself but from a project named IcedTea.</p><p>IcedTea is an open source project, whose goal is to replace proprietary parts of the Java ecosystem as much as possible. The plugin itself is from IcedTea-Web, an open source implementation of the Java Web Start and Java browser plugins.</p><p>In most <a id="id7" class="indexterm"/>distributions, the <code class="literal">IcedTea</code> plugin is installed <a id="id8" class="indexterm"/>by default. But it is necessary to keep in mind that it's an open source plugin, and definitely not a referenced one. This means that its functionality might be slightly different from the Oracle plugin. It is also possible that some features may not work.</p></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>How it works…</h2></div></div></div><p>Oracle JDK still has some proprietary components, and the browser plugin is one example. All we need in this chapter is to see the difference between the work of OpenJDK and Oracle JDK components that are different.</p><p>Also, the huge difference between OpenJDK and Oracle JDK lies in the license. OpenJDK is open source, while Oracle JDK contains proprietary pieces, and thus it is licensed under the Oracle binary license. The fact that OpenJDK is open source provides a whole new range of benefits (and exciting discoveries) through the ability to study and modify its source code. It is also worth mentioning that more than 90 percent of Oracle JDK is based on OpenJDK source code. This means the OpenJDK quality is not compromised in <a id="id9" class="indexterm"/>any way. The browser plugin is not the only thing that is missed in OpenJDK compared to Oracle JDK.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">In <a class="link" href="ch05.html" title="Chapter 5. Building IcedTea">Chapter 5</a>, <span class="emphasis"><em>Building IcedTea</em></span>, there is a detailed explanation of how to build IcedTea from <a id="id10" class="indexterm"/>source.</li></ul></div></div></div>
<div class="section" title="Installing OpenJDK on Windows"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Installing OpenJDK on Windows</h1></div></div></div><p>Windows <a id="id11" class="indexterm"/>is the most commonly used OS in the world, and many developers are using it as their primary system. Despite its popularity, Windows doesn't <a id="id12" class="indexterm"/>have such strong support by the OpenJDK development community, and installation of the product is not as easy as in Linux. This recipe will cover the steps required to install OpenJDK on Windows.</p><p>This recipe provides an easy but decentralized way to install programs, although the most recent versions provide package repositories of their own. However, on Windows, the only official way to install an up-to-date OpenJDK is to build it from source.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>Getting ready</h2></div></div></div><p>To follow this recipe, we will need an installed Windows system. Windows 7 or Windows 8 will be best, because Windows XP is already officially discontinued by Microsoft.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>How to do it...</h2></div></div></div><p>There is an official build of OpenJDK on Windows, but it exists for referential purposes only. It is official and easy to install, but it doesn't have any security updates or improvements. However, there are unofficial builds, maintained by Alex Casco. We will try to install OpenJDK in both ways:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We will start with an official reference build. To get it, we need to go to <a class="ulink" href="https://jdk7.java.net/java-se-7-ri/">https://jdk7.java.net/java-se-7-ri/</a> and accept the license terms. Then, download and run the installer.<div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p>Though the OpenJDK source code is licensed by an open license, this official build is licensed by the Oracle Binary Code license and by GPLv2. If you want to keep your OpenJDK open source, please use one licensed by GPLv2.</p></div></div></li><li class="listitem">Unpack the downloaded file in a location you prefer. Let's name it <code class="literal">C:/OpenJDK</code>.</li><li class="listitem">Open the Windows command line by navigating to <span class="strong"><strong>Start</strong></span> | <span class="strong"><strong>Run</strong></span>, type <code class="literal">cmd</code>, and click on the <span class="strong"><strong>Run</strong></span> button.</li><li class="listitem">Run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>C:\OpenJDK\bin\java.exe -version</strong></span>
</pre></div><p>It will output the Java version information. The output should look like this:</p><div class="informalexample"><pre class="programlisting">openjdk version 1.7.0
OpenJDK Runtime Environment &lt;build 1.7.0-b146&gt;
OpenJDK Client VM &lt;build 21.0-b16, mixed mode&gt;</pre></div></li></ol></div><p>Congratulations! We've <a id="id13" class="indexterm"/>just installed the OpenJDK official binary.</p></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>How it works…</h2></div></div></div><p>The reference implementation is the only available official binary build of OpenJDK. But it lacks security and is used only for reference purposes. It is a simple archive that needs to be unpacked to use it.</p><p>To bypass this unpleasantness and give Windows users an opportunity to install OpenJDK <a id="id14" class="indexterm"/>as a binary without building it from source, one of the OpenJDK contributors established a completely unofficial but very useful OpenJDK build set for various platforms.</p><p>Moreover, this binary build, unlike the official one, is open source and licensed over GPL. So we can use it even in a completely open source environment without adding any proprietary pieces that will possibly get us in trouble.</p><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>You will find an installer for Mac in those unofficial builds as well.</p></div></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>There's more...</h2></div></div></div><p>Though an official reference binary is outdated, there is an unofficial project that provides <a id="id15" class="indexterm"/>OpenJDK builds from sources that are up to date.</p><p>Now we will install OpenJDK 7 from unofficial builds:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <a class="ulink" href="https://github.com/alexkasko/openjdk-unofficial-builds">https://github.com/alexkasko/openjdk-unofficial-builds</a>.</li><li class="listitem">Select an appropriate build for Windows and download it.</li><li class="listitem">Unpack it and run <code class="literal">install.exe</code>.<div class="mediaobject"><img src="graphics/8405_01_03.jpg" alt="There's more..."/></div></li><li class="listitem">Click on the <span class="strong"><strong>Run</strong></span> button when the preceding message appears.</li><li class="listitem">Carefully <a id="id16" class="indexterm"/>read and accept the license and then click on <span class="strong"><strong>Next</strong></span>.</li><li class="listitem">Select the <a id="id17" class="indexterm"/>installation path in the next window. It will point to your home directory by default, so be careful—such an installation may be available to no one but yourself.</li><li class="listitem">If the target directory does not exist, let the installer create it.<div class="mediaobject"><img src="graphics/8405_01_04.jpg" alt="There's more..."/></div></li><li class="listitem">Check the red highlighted checkboxes in the preceding screenshot only if you want to set this JDK as default for all users in the system, not just for you. You may uncheck the fourth box if you don't need this JDK to be default at all.</li><li class="listitem">Then <a id="id18" class="indexterm"/>click on the <span class="strong"><strong>Next</strong></span> button and wait until the installation is finished.</li><li class="listitem">Then click <a id="id19" class="indexterm"/>on the <span class="strong"><strong>Next</strong></span> button for the last time.</li><li class="listitem">Then click on <span class="strong"><strong>Done</strong></span>.</li></ol></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>See also</h2></div></div></div><p>Although the simplest way to install OpenJDK is to unpack binaries, manually or in an automatic fashion, there is no doubt that working with the source code will give us more flexibility at all possible levels.</p><p>To know <a id="id20" class="indexterm"/>more, read the following chapters:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="link" href="ch02.html" title="Chapter 2. Building OpenJDK 6">Chapter 2</a>, <span class="emphasis"><em>Building OpenJDK 6</em></span> up to <a class="link" href="ch04.html" title="Chapter 4. Building OpenJDK 8">Chapter 4</a>, <span class="emphasis"><em>Building OpenJDK 8</em></span> to learn about building OpenJDK from source</li><li class="listitem" style="list-style-type: disc"><a class="link" href="ch06.html" title="Chapter 6. Building IcedTea with Other VM Implementations">Chapter 6</a>, <span class="emphasis"><em>Building IcedTea with Other VM Implementations</em></span> to build OpenJDK using other VMs</li><li class="listitem" style="list-style-type: disc"><a class="link" href="ch13.html" title="Chapter 13. Build Automation">Chapter 13</a>, <span class="emphasis"><em>Build Automation</em></span> to work with future technologies, which will be unavailable <a id="id21" class="indexterm"/>in binary form for quite some time</li></ul></div></div></div>
<div class="section" title="Configuring OpenJDK on Windows"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Configuring OpenJDK on Windows</h1></div></div></div><p>Although <a id="id22" class="indexterm"/>the initial configuration is sufficient <a id="id23" class="indexterm"/>for most tasks, it may still be required to do some configuration. In the case of OpenJDK, this is performed by setting system variables. Here we will touch only on the case that often occurs when JDK is unpacked manually—how to set it as default.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec21"/>Getting ready</h2></div></div></div><p>To follow this recipe, we will need an OpenJDK instance installed on our Windows system. Windows 7 or Windows 8 will be best, because Windows XP is already officially discontinued by Microsoft.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec22"/>How to do it...</h2></div></div></div><p>At first, we need to install our OpenJDK implementation as the default Java instance. This is often necessary for development:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In order to do so, we will go to <span class="strong"><strong>Start</strong></span> | <span class="strong"><strong>Control Panel</strong></span> | <span class="strong"><strong>System</strong></span> | <span class="strong"><strong>Advanced</strong></span> | <span class="strong"><strong>Environment Variables</strong></span> | <span class="strong"><strong>User Variables</strong></span> (or <span class="strong"><strong>System Variables</strong></span> for system-wide configuration) and add the path to the Java executable to the <code class="literal">PATH</code> system variable, as shown:<div class="mediaobject"><img src="graphics/8405_01_05.jpg" alt="How to do it..."/></div><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>If there are other paths to other Java executables, we may need to delete them as well, but it will be better to remember them, since we may need to restore our old default Java settings.</p></div></div></li><li class="listitem">If we <a id="id24" class="indexterm"/>were installing OpenJDK from unofficial builds, there may be no need to change the <code class="literal">PATH</code> variable at all.</li><li class="listitem">To <a id="id25" class="indexterm"/>validate our newly configured variable, we will go to the Command Prompt and type the following:<div class="informalexample"><pre class="programlisting">java -version</pre></div></li><li class="listitem">The expected output is the version of our newly installed build.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec23"/>How it works…</h2></div></div></div><p>In order to set a newly installed OpenJDK instance as the default JDK, we need to change the system variable. After that change, our Java executables will be visible to the system.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec24"/>There's more...</h2></div></div></div><p>The same <a id="id26" class="indexterm"/>procedure is followed to set the <code class="literal">CLASSPATH</code> variable. It is not very necessary, and if you are using other libraries such as GNU <a id="id27" class="indexterm"/>classpath, you probably know about it.</p></div></div>
<div class="section" title="Installing OpenJDK on Linux"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Installing OpenJDK on Linux</h1></div></div></div><p>The <a id="id28" class="indexterm"/>Linux operating system allows for many internal tweaks, as well as for changes to the system's source code. It is also known as a complicated OS, and <a id="id29" class="indexterm"/>not all distributions are user-friendly. There are many people using it, and it's open source, such as OpenJDK itself. The installation process varies between chosen distributions, and we will go through the process for the three most-used package managers, as well as through the process that will work for virtually all x86 Linux distributions.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Getting ready</h2></div></div></div><p>To follow this recipe, you will need an installed Linux system. It will be better if it has the kernel version 2.6 or higher, though OpenJDK is reported workable on 2.4 kernels as well. Also, if you have the <code class="literal">.deb</code>, <code class="literal">.rpm</code>, or <code class="literal">.ebuild</code> package manager, the recommended way to install any package is to install it using those.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec26"/>How to do it...</h2></div></div></div><p>When the installation of various packages is concerned, the process is dependent on our Linux distribution.</p><p>For a Debian-based distribution:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open a terminal and type:<div class="informalexample"><pre class="programlisting">apt-get install openjdk-7-jdk</pre></div><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>We should have root permissions or use <code class="literal">sudo</code> to gain access to system files.</p></div></div></li><li class="listitem">This will trigger the installation automatically. If we get an error message, indicating that the package is not found, we should Google an appropriate name for an OpenJDK package for our distribution.</li></ol></div><p>For an RPM-based distribution, we'll need to first search for the package names, because package names are varied between different distributions, as shown here:</p><div class="informalexample"><pre class="programlisting">yum search openjdk</pre></div><p>You will see an output like this:</p><div class="informalexample"><pre class="programlisting">java-1.6.0-openjdk.x86_64 : OpenJDK Runtime Environment
java-1.6.0-openjdk-demo.x86_64 : OpenJDK Demos
java-1.6.0-openjdk-devel.x86_64 : OpenJDK Development Environment
java-1.6.0-openjdk-javadoc.x86_64 : OpenJDK API Documentation
java-1.6.0-openjdk-src.x86_64 : OpenJDK Source Bundle
java-1.7.0-openjdk.x86_64 : OpenJDK Runtime Environment
java-1.7.0-openjdk-demo.x86_64 : OpenJDK Demos
java-1.7.0-openjdk-devel.x86_64 : OpenJDK Development Environment
java-1.7.0-openjdk-javadoc.noarch : OpenJDK API Documentation
java-1.7.0-openjdk-src.x86_64 : OpenJDK Source Bundle</pre></div><p>You may install all of the packages that have the desired version. Then, we will run another command, using the package name we've just found:</p><div class="informalexample"><pre class="programlisting">yum install &lt;a found package name&gt;</pre></div><p>This will also trigger an automatic download and installation.</p><p>If we have a Gentoo-based distribution, just type the following:</p><div class="informalexample"><pre class="programlisting">emerge openjdk-1.7</pre></div><p>This will, depending on your distribution, unpack and install a binary package or, more probably, automatically build this package from source.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec27"/>There's more...</h2></div></div></div><p>Aside from the <a id="id30" class="indexterm"/>recommended ways, there is a generic installation procedure. It is quite simple, though it may do some damage to your operating system, so don't use it unless <a id="id31" class="indexterm"/>you really know what you're doing:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">This is the way to unpack the OpenJDK system and then install it yourself. To get the builds, we will refer again to the unofficial build page, <a class="ulink" href="https://github.com/alexkasko/openjdk-unofficial-builds">https://github.com/alexkasko/openjdk-unofficial-builds</a>.</li><li class="listitem">Then unpack the downloaded package into a folder and run the following command from it:<div class="informalexample"><pre class="programlisting">java -jar ./install.jar</pre></div></li><li class="listitem">A GUI installer window will appear. Read and accept the license, choose the directory, and allow OpenJDK to be created, if it does not exist, as shown:<div class="mediaobject"><img src="graphics/8405_01_06.jpg" alt="There's more..."/></div></li><li class="listitem">Check <a id="id32" class="indexterm"/>the preceding checkbox if you want to make this installation the default one. Then click on the <span class="strong"><strong>Next</strong></span> button.</li><li class="listitem">Wait for <a id="id33" class="indexterm"/>the installation to complete, and click on <span class="strong"><strong>Next</strong></span> for the last time.</li><li class="listitem">Then click on <span class="strong"><strong>Done</strong></span>.</li></ol></div></div></div>
<div class="section" title="Configuring OpenJDK on Linux"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Configuring OpenJDK on Linux</h1></div></div></div><p>Linux <a id="id34" class="indexterm"/>configuration profiles differ from the Windows <a id="id35" class="indexterm"/>ones, because those systems are working with resources as well as with hardware in a slightly different fashion. Here, we will briefly explain those differences and a way to overcome them. Moreover, different Linux distributions, as always, have different ways to deal with the configuration. We will try to pass through the most noticeable ones.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec28"/>Getting ready</h2></div></div></div><p>To follow this recipe, you will need an OpenJDK instance installed on a Linux system. The <code class="literal">deb</code>, <code class="literal">rpm</code>, or <code class="literal">ebuild</code> distributions will suite us really well, although we will see a method for generic Linux configuration also.</p><p>Also, we will need the bash startup files to be installed properly.</p><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>In most Linux distributions, the generic way to configure anything that needs root access is not recommended, and the results of such an approach tend to vanish with each update. Usually, there are distribution-recommended how-to's where the problem solution is described.</p></div></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec29"/>How to do it...</h2></div></div></div><p>First let's check whether your bash startup files are installed. The simplest possible way is to configure <a id="id36" class="indexterm"/>your OpenJDK using them. They are system-wide <a id="id37" class="indexterm"/>and easy to use, though there are drawbacks in their usage, such as update conflicts:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Type the following line in your terminal:<div class="informalexample"><pre class="programlisting">cat /etc/profile</pre></div><p>If the file exists and contains some kind of shell script, then your bash startup file's setup is probably correct. If not, please set it up by following your distribution instructions.</p></li><li class="listitem">Then add the <code class="literal">/etc/profile.d/openjdk.sh</code> file.</li><li class="listitem">In order to configure different things, write the following:<div class="informalexample"><pre class="programlisting">To set JAVA_HOME
JAVA_HOME=&lt;youJDK installation directory&gt;
export JAVA_HOME

To append JAVA_HOME to PATH
pathappend $JAVA_HOME/bin PATH

To adjust CLASSPATH directory
AUTO_CLASSPATH_DIR=&lt;classpath dir&gt;
pathprepend . CLASSPATH

for dir in `find ${AUTO_CLASSPATH_DIR} -type d 2&gt;/dev/null`; do
    pathappend $dir CLASSPATH
done

for jar in `find ${AUTO_CLASSPATH_DIR} -name "*.jar" 2&gt;/dev/null`; do
    pathappend $jar CLASSPATH
done

export CLASSPATH</pre></div><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip08"/>Tip</h3><p>The <code class="literal">CLASSPATH</code> env variable should be avoided as much as possible. It is generally used by legacy Java applications mostly configured for JDK 1.2 and below. Use <code class="literal">-classpath</code> with <code class="literal">java</code> and <code class="literal">javac</code> commands instead.</p></div></div></li></ol></div><p>The preceding code is quite simple—it just appends all JAR files to the classpath.</p></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec30"/>How it works…</h2></div></div></div><p>This script is called during shell initialization, so whenever you perform shell initialization, these variables <a id="id38" class="indexterm"/>will be exported. The variables are thus system-wide, so be careful while playing with them, as they can cause your Java to fail permanently if <a id="id39" class="indexterm"/>you make some errors in this file.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec31"/>There's more...</h2></div></div></div><p>On Linux, you can see the directory structure of the installed OpenJDK using the <code class="literal">tree</code> command.</p><p>To do so, install the <code class="literal">tree</code> package (use your distribution's documentation if possible) and type:</p><div class="informalexample"><pre class="programlisting">tree -L 1 &lt;path-to-openjdk&gt; -lah</pre></div><p>You will see something like the following:</p><div class="informalexample"><pre class="programlisting">/usr/lib/jvm/java-7-openjdk-amd64
├── [  22]  ASSEMBLY_EXCEPTION -&gt; jre/ASSEMBLY_EXCEPTION
├── [4.0K]  bin
├── [  41]  docs -&gt; ../../../share/doc/openjdk-7-jre-headless
├── [4.0K]  include
├── [4.0K]  jre
├── [4.0K]  lib
├── [4.0K]  man
├── [  20]  src.zip -&gt; ../openjdk-7/src.zip
└── [  22]  THIRD_PARTY_README -&gt; jre/THIRD_PARTY_README</pre></div><p>This is the first-level directory structure in which:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">ASSEMBLY_EXCEPTION</code> is about licensing, and so is <code class="literal">THIRD_PARTY_README</code>.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">docs</code> folder is for various OpenJDK documentation (changelog, copyrights, authors, and so on).</li><li class="listitem" style="list-style-type: disc">The <code class="literal">include</code> directory is to include paths (for <code class="literal">JNI</code>, for example).</li><li class="listitem" style="list-style-type: disc">The <code class="literal">jre</code> directory is where the Java Runtime is placed.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">lib</code> directory is where various OpenJDK libraries are placed (such as Jigsaw or CORBA support; mainly, it consists of all OpenJDK code).</li><li class="listitem" style="list-style-type: disc">The <code class="literal">man</code> <a id="id40" class="indexterm"/>command is a manual pages entry for OpenJDK. It contains OpenJDK classes, <code class="literal">javadocs</code>, and other manual <a id="id41" class="indexterm"/>entries. It may be extremely useful in the highly improbable event of Internet connection loss.</li></ul></div></div></div>
<div class="section" title="Navigating through OpenJDK groups and projects"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Navigating through OpenJDK groups and projects</h1></div></div></div><p>OpenJDK is not <a id="id42" class="indexterm"/>one huge project. It consists of a large number of subprojects, and is developed by relatively small groups of developers. We will look at them and realize what is going on under the hood of OpenJDK.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec32"/>Getting ready</h2></div></div></div><p>To follow this recipe, you <a id="id43" class="indexterm"/>will need an OpenJDK instance installed and an established Internet connection. The recipe is more for the initial understanding of the process rather than for practical use, so if you are familiar with these matters, don't hesitate to skip this recipe entirely.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec33"/>How to do it...</h2></div></div></div><p>We will see what <a id="id44" class="indexterm"/>OpenJDK consists of:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to <a class="ulink" href="http://openjdk.java.net/">http://openjdk.java.net/</a>.</li><li class="listitem">In the right column, there are overviews of groups as well as projects.</li><li class="listitem">We will select one of them to get through the process.<div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip09"/>Tip</h3><p>The process will be described in detail in <a class="link" href="ch08.html" title="Chapter 8. Hacking OpenJDK">Chapter 8</a>, <span class="emphasis"><em>Hacking OpenJDK</em></span>.</p></div></div></li><li class="listitem">Let the selected project be <code class="literal">JDK9</code>.</li><li class="listitem">Go to the <a id="id45" class="indexterm"/><code class="literal">JDK9</code> project page at <a class="ulink" href="http://openjdk.java.net/projects/jdk9/">http://openjdk.java.net/projects/jdk9/</a>.</li></ol></div><p>There's not very much to see, because there is only the basic on-boarding information. Most of the project business is in the bug tracker.</p><p>After we read the information about the project on an official site, we will go to JDK JIRA to see what's happening here. We will go to the <code class="literal">JDK9</code> part of JIRA at <a class="ulink" href="https://bugs.openjdk.java.net/browse/JDK/fixforversion/14949">https://bugs.openjdk.java.net/browse/JDK/fixforversion/14949</a>.</p><p>Here we can see various issues related directly to JDK9 and see how the process is going.</p></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec34"/>How it works…</h2></div></div></div><p>Groups are sets <a id="id46" class="indexterm"/>of developers who may work on different projects but in one large scope. Developers participate in chosen projects, and projects are sponsored by groups.</p><div class="tip" title="Tip" style=""><div class="inner"><h3 class="title"><a id="tip10"/>Tip</h3><p>To participate in a group and become a contributor, follow the instructions at <a class="ulink" href="http://openjdk.java.net/contribute/">http://openjdk.java.net/contribute/</a>.</p></div></div><p>There are four major types of projects:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Feature</li><li class="listitem" style="list-style-type: disc">Improvement</li><li class="listitem" style="list-style-type: disc">Replacement</li><li class="listitem" style="list-style-type: disc">Portability</li></ul></div><p>For example, the JDK9 project is a featured one. The graphics rasterizer project is a replacement one, while the Swing group is a whole group that is focused on the improvement of Swing.</p><p>Various ports' projects are obviously the portability ones.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec35"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">See <a class="link" href="ch08.html" title="Chapter 8. Hacking OpenJDK">Chapter 8</a>, <span class="emphasis"><em>Hacking OpenJDK</em></span>, <a class="link" href="ch11.html" title="Chapter 11. Troubleshooting">Chapter 11</a>, <span class="emphasis"><em>Troubleshooting</em></span>, and <a class="link" href="ch13.html" title="Chapter 13. Build Automation">Chapter 13</a>, <span class="emphasis"><em>Build Automation</em></span>—they will suit you just well</li><li class="listitem" style="list-style-type: disc">Tails in <a class="link" href="ch04.html" title="Chapter 4. Building OpenJDK 8">Chapter 4</a>, <span class="emphasis"><em>Building OpenJDK 8</em></span></li></ul></div></div></div></body></html>