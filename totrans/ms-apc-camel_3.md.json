["```java\nvoid process(Exchange exchange) throws Exception(Exchange exchange) throws Exception\n```", "```java\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project   xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\n  <modelVersion>4.0.0</modelVersion>\n\n  <groupId>com.packt.camel</groupId>\n  <artifactId>chapter3</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  <packaging>bundle</packaging>\n\n  <dependencies>\n        <dependency>\n            <groupId>org.apache.camel</groupId>\n            <artifactId>camel-core</artifactId>\n            <version>2.12.4</version>\n        </dependency>\n        <dependency>\n            <groupId>org.osgi</groupId>\n            <artifactId>org.osgi.core</artifactId>\n            <version>4.3.1</version>\n            <scope>provided</scope>\n        </dependency>\n  </dependencies>\n\n  <build>\n      <plugins>\n          <plugin>\n                <groupId>org.apache.felix</groupId>\n                <artifactId>maven-bundle-plugin</artifactId>\n                <version>2.3.7</version>\n                <extensions>true</extensions>\n                <configuration>\n                      <instructions>\n                            <Import-Package>*</Import-Package>\n                            <Bundle-Activator>com.packt.camel.chapter3.Activator</Bundle-Activator>\n                      </instructions>\n                </configuration>\n          </plugin>\n      </plugins>\n  </build>\n\n</project>\n```", "```java\npackage com.packt.camel.chapter3;\n\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class PrefixerProcessor implements Processor {\n\n  private final static Logger LOGGER = LoggerFactory.getLogger(PrefixerProcessor.class);\n\n  public void process(Exchange exchange) throws Exception {\n      String inBody = exchange.getIn().getBody(String.class);\n      LOGGER.info(\"Received in message with body {}\", inBody);\n      LOGGER.info(\"Prefixing body ...\");\n      inBody = \"Prefixed \" + inBody;\n      exchange.getIn().setBody(inBody);\n  }\n\n}\n```", "```java\npackage com.packt.camel.chapter3;\n\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\nimport org.apache.camel.builder.RouteBuilder;\n\npublic class MyRouteBuilder extends RouteBuilder {\n\n  public void configure() {\n      from(\"timer:fire?period=5000\")\n              .setBody(constant(\"Hello Chapter3\"))\n              .process(new PrefixerProcessor())\n              .to(\"log:MyRoute\")\n              .process(new Processor() {\n                  public void process(Exchange exchange) throws Exception {\n                      String body = exchange.getIn().getBody(String.class);\n                      if (body.startsWith(\"Prefixed \")) {\n                          body = body.substring(\"Prefixed \".length());\n                          exchange.getIn().setBody(body);\n                      }\n                  }\n              })\n              .to(\"log:MyRoute\");\n  }\n\n}\n```", "```java\npackage com.packt.camel.chapter3;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.impl.DefaultCamelContext;\nimport org.osgi.framework.BundleActivator;\nimport org.osgi.framework.BundleContext;\nimport org.osgi.framework.ServiceRegistration;\n\npublic class Activator implements BundleActivator {\n\n  private CamelContext camelContext;\n  private ServiceRegistration serviceRegistration;\n\n  public void start(BundleContext bundleContext) throws Exception {\n      camelContext = new DefaultCamelContext();\n      camelContext.addRoutes(new MyRouteBuilder());\n      serviceRegistration = bundleContext.registerService(CamelContext.class, camelContext, null);\n      camelContext.start();\n  }\n\n  public void stop(BundleContext bundleContext) throws Exception {\n      if (serviceRegistration != null) {\n          serviceRegistration.unregister();\n      }\n      if (camelContext != null) {\n          camelContext.stop();\n      }\n  }\n\n}\n```", "```java\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<blueprint >\n\n  <bean id=\"prefixerProcessor\" class=\"com.packt.camel.chapter3.PrefixerProcessor\"/>\n\n  <camelContext >\n      <route>\n          <from uri=\"timer:fire?period=5000\"/>\n          <setBody>\n              <constant>Hello Chapter3</constant>\n          </setBody>\n          <process ref=\"prefixerProcessor\"/>\n          <to uri=\"log:blueprintRoute\"/>\n      </route>\n  </camelContext>\n\n</blueprint>\n```", "```java\n$ mvn clean install\n...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.489s\n[INFO] Finished at: Thu Sep 11 15:14:42 CEST 2014\n[INFO] Final Memory: 33M/1188M\n[INFO] ------------------------------------------------------------------------\n\n```", "```java\nkaraf@root()> feature:repo-add camel 2.12.3\nAdding feature url mvn:org.apache.camel.karaf/apache-camel/2.12.3/xml/features\n\n```", "```java\nkaraf@root()> feature:install -v camel-blueprint\nInstalling feature camel-blueprint 2.12.3\nInstalling feature camel-core 2.12.3\nInstalling feature xml-specs-api 2.2.0\nFound installed bundle: org.apache.servicemix.specs.activation-api-1.1 [78]\nFound installed bundle: org.apache.servicemix.specs.stax-api-1.0 [79]\nFound installed bundle: org.apache.servicemix.specs.jaxb-api-2.2 [80]\nFound installed bundle: stax2-api [81]\nFound installed bundle: woodstox-core-asl [82]\nFound installed bundle: org.apache.servicemix.bundles.jaxb-impl [83]\nFound installed bundle: org.apache.camel.camel-core [84]\nFound installed bundle: org.apache.camel.karaf.camel-karaf-commands [85]\nFound installed bundle: org.apache.camel.camel-blueprint [86]\n\n```", "```java\nkaraf@root()> bundle:install mvn:com.packt.camel/chapter3/1.0-SNAPSHOT\nBundle ID: 87\n\n```", "```java\nkaraf@root()> bundle:start 87\n\n```", "```java\nkaraf@root()> log:display\nâ€¦\n2014-09-11 15:25:45,542 | INFO  | 0 - timer://fire | MyRoute                      | 84 - org.apache.camel.camel-core - 2.12.3 | Exchange[ExchangePattern: InOnly, BodyType: String, Body: Prefixed Hello Chapter3]\n2014-09-11 15:25:45,543 | INFO  | 0 - timer://fire | MyRoute                      | 84 - org.apache.camel.camel-core - 2.12.3 | Exchange[ExchangePattern: InOnly, BodyType: String, Body: Hello Chapter3]\n2014-09-11 15:25:46,253 | INFO  | 2 - timer://fire | PrefixerProcessor              | 87 - com.packt.camel.chapter3 - 1.0.0.SNAPSHOT | Received in message with body Hello Chapter3\n2014-09-11 15:25:46,253 | INFO  | 2 - timer://fire | PrefixerProcessor              | 87 - com.packt.camel.chapter3 - 1.0.0.SNAPSHOT | Prefixing body ...\n2014-09-11 15:25:46,254 | INFO  | 2 - timer://fire | blueprintRoute               | 84 - org.apache.camel.camel-core - 2.12.3 | Exchange[ExchangePattern: InOnly, BodyType: String, Body: Prefixed Hello Chapter3]\n2014-09-11 15:25:50,542 | INFO  | 0 - timer://fire | PrefixerProcessor              | 87 - com.packt.camel.chapter3 - 1.0.0.SNAPSHOT | Received in message with body Hello Chapter3\n2014-09-11 15:25:50,542 | INFO  | 0 - timer://fire | PrefixerProcessor              | 87 - com.packt.camel.chapter3 - 1.0.0.SNAPSHOT | Prefixing body ...\n2014-09-11 15:25:50,543 | INFO  | 0 - timer://fire | MyRoute    | 84 - org.apache.camel.camel-core - 2.12.3 | Exchange[ExchangePattern: InOnly, BodyType: String, Body: Prefixed Hello Chapter3]\n2014-09-11 15:25:50,543 | INFO  | 0 - timer://fire | MyRoute    | 84 - org.apache.camel.camel-core - 2.12.3 | Exchange[ExchangePattern: InOnly, BodyType: String, Body: Hello Chapter3]\n2014-09-11 15:25:51,253 | INFO  | 2 - timer://fire | PrefixerProcessor              | 87 - com.packt.camel.chapter3 - 1.0.0.SNAPSHOT | Received in message with body Hello Chapter3\n2014-09-11 15:25:51,254 | INFO  | 2 - timer://fire | PrefixerProcessor              | 87 - com.packt.camel.chapter3 - 1.0.0.SNAPSHOT | Prefixing body ...\n2014-09-11 15:25:51,254 | INFO  | 2 - timer://fire | blueprintRoute    | 84 - org.apache.camel.camel-core - 2.12.3 | Exchange[ExchangePattern: InOnly, BodyType: String, Body: Prefixed Hello Chapter3]\n\n```", "```java\nkaraf@root()> camel:context-list\n Context      Status       Uptime \n -------      ------       ------ \n 87-camel-4   Started      7 minutes \n camel-1      Started      7 minutes \n\n```", "```java\nkaraf@root()> camel:context-info camel-1\nCamel Context camel-1\n Name: camel-1\n ManagementName: camel-1\n Version: 2.12.3\n Status: Started\n Uptime: 12 minutes\n\nStatistics\n Exchanges Total: 148\n Exchanges Completed: 148\n Exchanges Failed: 0\n Min Processing Time: 0ms\n Max Processing Time: 8ms\n Mean Processing Time: 2ms\n Total Processing Time: 307ms\n Last Processing Time: 2ms\n Delta Processing Time: 0ms\n Load Avg: 0.00, 0.00, 0.00\n Reset Statistics Date: 2014-09-11 15:25:04\n First Exchange Date: 2014-09-11 15:25:05\n Last Exchange Completed Date: 2014-09-11 15:37:20\n Number of running routes: 1\n Number of not running routes: 0\n\nMiscellaneous\n Auto Startup: true\n Starting Routes: false\n Suspended: false\n Shutdown timeout: 300 sec.\n Allow UseOriginalMessage: true\n Message History: true\n Tracing: false\n\nProperties\n\nAdvanced\n ClassResolver: org.apache.camel.impl.DefaultClassResolver@a44950b\n PackageScanClassResolver: org.apache.camel.impl.DefaultPackageScanClassResolver@1c950a71\n ApplicationContextClassLoader: org.apache.camel.camel-core [84]\n\nComponents\n timer\n log\n\nDataformats\n\nRoutes\n route1\n\n```", "```java\nkaraf@root()> camel:context-info 87-camel-4\nCamel Context 87-camel-4\n Name: 87-camel-4\n ManagementName: 87-87-camel-4\n Version: 2.12.3\n Status: Started\n Uptime: 15 minutes\n\nStatistics\n Exchanges Total: 188\n Exchanges Completed: 188\n Exchanges Failed: 0\n Min Processing Time: 0ms\n Max Processing Time: 2ms\n Mean Processing Time: 1ms\n Total Processing Time: 264ms\n Last Processing Time: 1ms\n Delta Processing Time: 0ms\n Load Avg: 0.00, 0.00, 0.00\n Reset Statistics Date: 2014-09-11 15:25:05\n First Exchange Date: 2014-09-11 15:25:06\n Last Exchange Completed Date: 2014-09-11 15:40:41\n Number of running routes: 1\n Number of not running routes: 0\n\nMiscellaneous\n Auto Startup: true\n Starting Routes: false\n Suspended: false\n Shutdown timeout: 300 sec.\n Allow UseOriginalMessage: true\n Message History: true\n Tracing: false\n\nProperties\n\nAdvanced\n ClassResolver: org.apache.camel.core.osgi.OsgiClassResolver@60e8b22b\n PackageScanClassResolver: org.apache.camel.core.osgi.OsgiPackageScanClassResolver@4d0956c1\n ApplicationContextClassLoader: BundleDelegatingClassLoader(com.packt.camel.chapter3 [87])\n\nComponents\n timer\n properties\n log\n\nDataformats\n\nRoutes\n route2\n\n```", "```java\nkaraf@root()> camel:route-list\n Context      Route        Status \n -------      -----        ------ \n 87-camel-4   route2       Started \n camel-1      route1       Started \n\n```", "```java\nkaraf@root()> camel:route-info route1\nCamel Route route1\n Camel Context: camel-1\n\nProperties\n id = route1\n parent = 31b3f7f4\n group = com.packt.camel.chapter3.MyRouteBuilder\n\nStatistics\n Inflight Exchanges: 0\n Exchanges Total: 382\n Exchanges Completed: 382\n Exchanges Failed: 0\n Min Processing Time: 0 ms\n Max Processing Time: 8 ms\n Mean Processing Time: 1 ms\n Total Processing Time: 674 ms\n Last Processing Time: 2 ms\n Delta Processing Time: 0 ms\n Load Avg: 0.00, 0.00, 0.00\n Reset Statistics Date: 2014-09-11 15:25:04\n First Exchange Date: 2014-09-11 15:25:05\n Last Exchange Completed Date: 2014-09-11 15:56:50\n\nDefinition\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<route group=\"com.packt.camel.chapter3.MyRouteBuilder\" id=\"route1\" >\n <from uri=\"timer:fire?period=5000\"/>\n <setBody id=\"setBody1\">\n <expressionDefinition>Hello Chapter3</expressionDefinition>\n </setBody>\n <process id=\"process1\"/>\n <to uri=\"log:MyRoute\" id=\"to1\"/>\n <process id=\"process2\"/>\n <to uri=\"log:MyRoute\" id=\"to2\"/>\n</route>\n\n```", "```java\nkaraf@root()> camel:route-info route2\nCamel Route route2\n Camel Context: 87-camel-4\n\nProperties\n id = route2\n parent = 465796cf\n\nStatistics\n Inflight Exchanges: 0\n Exchanges Total: 414\n Exchanges Completed: 414\n Exchanges Failed: 0\n Min Processing Time: 0 ms\n Max Processing Time: 3 ms\n Mean Processing Time: 1 ms\n Total Processing Time: 529 ms\n Last Processing Time: 1 ms\n Delta Processing Time: 0 ms\n Load Avg: 0.00, 0.00, 0.00\n Reset Statistics Date: 2014-09-11 15:25:05\n First Exchange Date: 2014-09-11 15:25:06\n Last Exchange Completed Date: 2014-09-11 15:59:31\n\nDefinition\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<route id=\"route2\" >\n <from uri=\"timer:fire?period=5000\"/>\n <setBody id=\"setBody2\">\n <constant>Hello Chapter3</constant>\n </setBody>\n <process ref=\"prefixerProcessor\" id=\"process3\"/>\n <to uri=\"log:blueprintRoute\" id=\"to3\"/>\n</route>\n\n```"]