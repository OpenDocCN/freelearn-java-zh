<html><head></head><body><div id="sbo-rt-content" class="calibre1"><section class="calibre2">

                            <header class="calibre2">
                    <h1 class="header-title">The Java 9 Landscape</h1>
                </header>
            
            <article class="calibre2">
                
<p class="mce-root">Java is already a fully-grown adult in its own right more than two decades since its first release. With a stunning community of developers and wide adoption in a number of industries, the platform continues to evolve and keep up with the rest of the world in terms of performance, security, and scalability. We will begin our journey by exploring the most significant features introduced in Java 9, what are the biggest drivers behind them, and what more we can expect in subsequent developments of the platform, along with some of the things that did not make it in this release.</p>
<p class="mce-root">In this chapter, we will cover the following topics:</p>
<ul class="calibre13">
<li class="calibre14">Java 9 at 20,000 feet</li>
<li class="calibre14">Breaking the monolith</li>
<li class="calibre14">Playing around with the Java Shell</li>
<li class="calibre14">Taking control of external processes</li>
<li class="calibre14">Boosting performance with G1</li>
<li class="calibre14">Measuring performance with JMH</li>
<li class="calibre14">Getting ready for HTTP 2.0</li>
<li class="calibre14">Encompassing reactive programming</li>
<li class="calibre14">Expanding the wish list</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content" class="calibre1"><section class="calibre2">

                            <header class="calibre2">
                    <h1 class="header-title">Java 9 at 20,000 feet</h1>
                </header>
            
            <article class="calibre2">
                
<p class="mce-root">You might be asking yourself--isn't Java 9 just a maintenance release with a set of features that did not make it into Java 8? There is plenty of new stuff in Java 9 that makes it a distinct version in its own right.</p>
<p class="mce-root">Inarguably, the modularization of the Java platform (developed as part of project Jigsaw) is the biggest piece of work that makes it successfully in Java 9. Initially planned for Java 8, but postponed, project Jigsaw is also one of the main reasons why the final release of Java 9 was further postponed. Jigsaw also introduces a few notable changes to the Java platform and is one of the reasons Java 9 is considered a major release. We will explore these features in detail in the subsequent chapters.</p>
<p class="mce-root">The <strong class="calibre8">JCP</strong> (<strong class="calibre8">Java Community Process</strong>) provides the mechanisms to turn a set of feature proposals (also known as <strong class="calibre8">Java Enhancement Proposals</strong> or <strong class="calibre8">JEPs</strong>) into formal specifications that provide the basis to extend the platform with new functionality. Java 9 is no different in that regard. Apart from the Jigsaw-related Java enhancement proposals, there is a long list of other enhancements that made it in Java 9. Throughout this book, we will discuss the various features in terms of logical groups based on the corresponding enhancement proposals, including the following:</p>
<ul class="calibre13">
<li class="calibre14">The <strong class="calibre3">Java Shell</strong> (also called <strong class="calibre3">JShell</strong>)--an interactive shell for the Java platform</li>
<li class="calibre14">New APIs to work with operating system processes in a portable manner</li>
<li class="calibre14">The <strong class="calibre3">Garbage-first</strong> (<strong class="calibre3">G1</strong>) garbage collector introduced in Java 7 is made the default garbage collector in Java 9</li>
<li class="calibre14">Adding the <strong class="calibre3">Java Microbenchmark Harness</strong> (<strong class="calibre3">JMH</strong>) tool that can be used to run performance benchmarks against Java applications is included as part of the Java distribution</li>
<li class="calibre14">Support for the HTTP 2.0 and WebSocket standards by means of a new client API</li>
<li class="calibre14">Concurrency enhancements among which is the definition of the <kbd class="calibre16">Flow</kbd> class, which describes an interface for the reactive streams specification in the Java platform</li>
</ul>
<p class="mce-root">Some of the initial proposals that were accepted for release 9 did not make it there and were postponed for a later release, along with other interesting things that developers may expect in the future.</p>
<p class="mce-root">You can download the JDK 9 distribution for your system from <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" class="pcalibre pcalibre3 pcalibre1 calibre12 pcalibre2">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>, if you are eager to get your hands dirty before trying to move through the other chapters and experimenting with the newly introduced samples and concepts.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content" class="calibre1"><section class="calibre2">

                            <header class="calibre2">
                    <h1 class="header-title">Breaking the monolith</h1>
                </header>
            
            <article class="calibre2">
                
<p class="mce-root">Over the years, the utilities of the Java platform have continued to evolve and increase, making it one big monolith. In order to make the platform more suitable for embedded and mobile devices, the publication of stripped down editions such as Java CDC and Java ME was necessary. These, however, did not prove to be flexible enough for modern applications with varying requirements in terms of functionality provided by the JDK. In that regard, the need for a modular system came in as a viral requirement, not only to address modularization of the Java utilities (overall, more than 5000 Java classes and 1500 C++ source files with more than 25,0000 lines of code for the Hotspot runtime), but also to provide a mechanism for developers to create and manage modular applications using the same module system used in the JDK. Java 8 provided an intermediate mechanism to enable applications to use only a subset of the APIs provided by the entire JDK, and that mechanism was named compact profiles. In fact, compact profiles also provided the basis for further work that had to be done in order to break dependencies between the various distinct components of the JDK required to enable implementation of a module system in Java.</p>
<p class="mce-root">The module system itself has been developed under the name of project Jigsaw on the basis of which several Java enhancement proposals and a target JSR (376) were formed. Much was put in place to address the requirements of project Jigsaw--there was evidence of concept implementation with more features proposed than the ones that successfully made it into Java 9. Apart from that, a complete restructuring of the JDK code base has been made along with a complete reorganization of the JDK distributable images.</p>
<p class="mce-root">There was considerable controversy in the community as to whether an existing and mature Java module system such as OSGi should be adopted as part of the JDK instead of providing a completely new module system. However, OSGI targets runtime behavior such as the resolution of module dependencies, installation, uninstallation, starting and stopping of modules (also named bundles in terms of OSGI), custom module classloaders, and so on. Project Jigsaw however targets a compile-time module system where resolution of dependencies happen when the application is compiled. Moreover, installing and uninstalling a module as part of the JDK eliminates the need to include it as a dependency explicitly during compilation. Furthermore, loading of module classes is made possible through the existing hierarchy of classloaders (the bootstrap and the extension and system classloaders), although, there was a possibility of using custom module classloaders pretty much similar to the module classloaders of OSGI. The latter was, however, abandoned; we will discuss Java module classloading in more detail when we talk about the details of the module system in Java.</p>
<p class="mce-root">Additional benefits from the Java module system include enhanced security and performance. By modularizing the JDK and applications into Jigsaw modules, we are able to create well-defined boundaries between components and their corresponding domains. This separation of concerns aligns with the security architecture of the platform and is an enabler of better resource utilization. We have dedicated two detailed chapters to all of the preceding points, and to the topic of adopting Java 9 as well, which also requires a degree of understanding on the possible approaches to migrating existing projects to Java 9.</p>


            </article>

            
        </section>
    </div>



  </body></html>