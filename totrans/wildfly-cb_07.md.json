["```java\n    sudo yum-y install gcc openssl openssl-devel wget tar unzip\n    ```", "```java\n    sudo yum-y install gcc openssl openssl-devel wget tar unzip findutils\n\n    ```", "```java\n    $ cd ~/WFC\n    $ sudo tar zxvf httpd-2.2.29.tar.gz\n    ```", "```java\n    $ cd httpd-2.2.29\n    sudo ./configure --prefix=/home/<USER>/WFC/httpd --with-mpm=worker --enable-mods-shared=most --enable-maintainer-mode --with-expat=builtin --enable-ssl --enable-proxy --enable-proxy-http --enable-proxy-ajp --disable-proxy-balancer --with-included-apr\n    ```", "```java\n    ...\n    $ sudo make\n    ...\n    $ sudo make install\n    ...\n    Installing configuration files\n    mkdir /home/luigi/WFC/httpd/conf\n    mkdir /home/luigi/WFC/httpd/conf/extra\n    mkdir /home/luigi/WFC/httpd/conf/original\n    mkdir /home/luigi/WFC/httpd/conf/original/extra\n    Installing HTML documents\n    mkdir /home/luigi/WFC/httpd/htdocs\n    Installing error documents\n    mkdir /home/luigi/WFC/httpd/error\n    Installing icons\n    mkdir /home/luigi/WFC/httpd/icons\n    mkdir /home/luigi/WFC/httpd/logs\n    Installing CGIs\n    mkdir /home/luigi/WFC/httpd/cgi-bin\n    Installing header files\n    Installing build system files\n    Installing man pages and online manual\n    mkdir /home/luigi/WFC/httpd/man\n    mkdir /home/luigi/WFC/httpd/man/man1\n    mkdir /home/luigi/WFC/httpd/man/man8\n    mkdir /home/luigi/WFC/httpd/manual\n    ```", "```java\n    $ cd ~/WFC/httpd/bin\n    $ ./httpd -k start -f ~/WFC/httpd/conf/httpd.conf\n    httpd: Could not reliably determine the server's fully qualified domain name, using mylaptop for ServerName\n    (13)Permission denied: make_sock: could not bind to address [::]:80\n    (13)Permission denied: make_sock: could not bind to address 0.0.0.0:80\n    no listening sockets available, shutting down\n    Unable to open logs\n\n    ```", "```java\n    $ sudo ./httpd -k start -f /opt/httpd/conf/httpd.conf\n    httpd: Could not reliably determine the server's fully qualified domain name, using mylaptop for ServerName\n\n    ```", "```java\n    ServerName balancer-one.com:80\n    ```", "```java\n    127.0.0.1 balancer-one.com\n    ```", "```java\n    $ sudo ./httpd -k restart -f /opt/httpd/conf/httpd.conf\n    ```", "```java\n    sudo yum install mod_cluster\n    ```", "```java\n    $ cd /opt/httpd/modules\n    $ tar zxvf mod_cluster-1.2.6.Final-linux2-x64-so.tar.gz\n    mod_advertise.so\n    mod_manager.so\n    mod_proxy_cluster.so\n    mod_slotmem.so\n    ```", "```java\n    $ sudo ifconfig eth0:1 10.0.0.1 netmask 255.255.255.0\n    ```", "```java\n    #LoadModule proxy_balancer_module modules/mod_proxy_balancer.so\n    ```", "```java\n    $ touch /opt/httpd/conf/extra/mod_cluster.conf\n    $ vim /opt/httpd/conf/extra/mod_cluster.conf\n    ```", "```java\n    LoadModule slotmem_module modules/mod_slotmem.so\n    LoadModule manager_module modules/mod_manager.so\n    LoadModule proxy_cluster_module modules/mod_proxy_cluster.so\n    LoadModule advertise_module modules/mod_advertise.so\n\n    Listen 10.0.0.1:80\n    Listen 10.0.0.1:6666\n\n    <VirtualHost 10.0.0.1:80>\n      <Location /mcm>\n        SetHandler mod_cluster-manager\n        Order deny,allow\n        Deny from all\n        Allow from 10.0.0.1\n      </Location>\n    </VirtualHost>\n\n    <VirtualHost 10.0.0.1:6666>\n      <Directory />\n        Order deny,allow\n        Deny from all\n        Allow from 10.0.0.1\n      </Directory>\n      ServerAdvertise on http://10.0.0.1:6666\n      EnableMCPMReceive\n    </VirtualHost>\n    ```", "```java\n    # mod_cluster settings\n    Include conf/extra/mod_cluster.conf\n    ```", "```java\n    $ cd /opt/httpd/bin\n    $ sudo ./httpd -k start -f /opt/httpd/conf/httpd.conf\n    ```", "```java\n$ cd ~/WFC/github/wildfly-cookbook\n$ cd balancing-test\n$ mvn clean package\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone bl-std-node-1\n    $ cp -a standalone bl-std-node-2\n    ```", "```java\n    $ cp balancing-test.war bl-std-node-1/deployments/\n    $ cp balancing-test.war bl-std-node-2/deployments/\n    ```", "```java\n    $ sudo ifconfig eth0:2 10.0.1.1 netmask 255.255.255.0\n    $ sudo ifconfig eth0:3 10.0.1.2 netmask 255.255.255.0\n    ```", "```java\n    $ cd /opt/httpd/bin\n    $ sudo ./httpd -k start -f /opt/httpd/conf/httpd.conf\n    $ tail -f ../logs/{access,error}_log\n    ==> ../logs/access_log <==\n\n    ==> ../logs/error_log <==\n    [Sun Oct 12 16:10:29 2014] [notice] SIGHUP received.  Attempting to restart\n    [Sun Oct 12 16:10:29 2014] [notice] Digest: generating secret for digest authentication ...\n    [ Sun Oct 12 16:10:29 2014] [notice] Digest: done\n    [ Sun Oct 12 16:10:29 2014] [warn] httpd version 2.2.29 mismatch detected\n    [ Sun Oct 12 16:10:29 2014] [notice] Advertise initialized for process 26675\n    [ Sun Oct 12 16:10:29 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n    ```", "```java\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-std-node-1 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.1 -Djboss.management.http.port=19990 -Djboss.node.name=node-1\n    ...\n    16:13:58,472 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.1.0.Final \"Kenny\" started in 6531ms - Started 289 of 400 services (179 services are lazy, passive or on-demand)\n    ```", "```java\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [12/Oct/2014:16:14:05 +0200] \"INFO / HTTP/1.1\" 200 -\n    10.0.0.1 - - [12/Oct/2014:16:14:05 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [12/Oct/2014:16:14:05 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [12/Oct/2014:16:14:05 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [12/Oct/2014:16:14:15 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n    http://10.0.0.1/mcm\n    ```", "```java\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-std-node-2 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.2 -Djboss.management.http.port=29990 -Djboss.node.name=node-2\n    ...\n    16:13:58,472 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.1.0.Final \"Kenny\" started in 6531ms - Started 289 of 400 services (179 services are lazy, passive or on-demand)\n    ```", "```java\n    ...\n    10.0.0.1 - - [12/Oct/2014:16:23:45 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [12/Oct/2014:16:23:55 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [12/Oct/2014:16:24:05 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [12/Oct/2014:16:24:15 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"INFO / HTTP/1.1\" 200 331\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [12/Oct/2014:16:24:25 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n    http://10.0.0.1/balancing-test\n    ```", "```java\n<subsystem >\n    <mod-cluster-config advertise-socket=\"mod_cluster\" advertise=\"true\" connector=\"ajp\">\n        <dynamic-load-provider>\n            <load-metric type=\"cpu\"/>\n        </dynamic-load-provider>\n    </mod-cluster-config>\n</subsystem>\n```", "```java\n<socket-binding-group name=\"standard-sockets\" default-interface=\"public\" port-offset=\"${jboss.socket.binding.port-offset:0}\">\n    <socket-binding name=\"management-http\" interface=\"management\" port=\"${jboss.management.http.port:9990}\"/>\n    <socket-binding name=\"management-https\" interface=\"management\" port=\"${jboss.management.https.port:9993}\"/>\n    <socket-binding name=\"ajp\" port=\"${jboss.ajp.port:8009}\"/>\n    <socket-binding name=\"http\" port=\"${jboss.http.port:8080}\"/>\n    <socket-binding name=\"https\" port=\"${jboss.https.port:8443}\"/>\n    <socket-binding name=\"jgroups-mping\" port=\"0\" multicast-address=\"${jboss.default.multicast.address:230.0.0.4}\" multicast-port=\"45700\"/>\n    <socket-binding name=\"jgroups-tcp\" port=\"7600\"/>\n    <socket-binding name=\"jgroups-tcp-fd\" port=\"57600\"/>\n    <socket-binding name=\"jgroups-udp\" port=\"55200\" multicast-address=\"${jboss.default.multicast.address:230.0.0.4}\" multicast-port=\"45688\"/>\n    <socket-binding name=\"jgroups-udp-fd\" port=\"54200\"/>\n    <socket-binding name=\"modcluster\" port=\"0\" multicast-address=\"224.0.1.105\" multicast-port=\"23364\"/>\n    <socket-binding name=\"txn-recovery-environment\" port=\"4712\"/>\n    <socket-binding name=\"txn-status-manager\" port=\"4713\"/>\n    <outbound-socket-binding name=\"mail-smtp\">\n        <remote-destination host=\"localhost\" port=\"25\"/>\n    </outbound-socket-binding>\n</socket-binding-group>\n```", "```java\nAdvertiseGroup http://MULTICAST_ADDR:PORT\n```", "```java\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"INFO / HTTP/1.1\" 200 331\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [12/Oct/2014:16:24:21 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n$ ./bin/jboss-cli.sh\nYou are disconnected at the moment. Type 'connect' to connect to the server or 'help' for the list of supported commands.\n[disconnected /] connect 127.0.0.1:19990\n[standalone@127.0.0.1:19990 /] /subsystem=modcluster/mod-cluster-config=configuration:add-metric(type=mem, weight=2, capacity=1)\n{\n    \"outcome\" => \"success\",\n    \"response-headers\" => {\n        \"operation-requires-reload\" => true,\n        \"process-state\" => \"reload-required\"\n    }\n}\n[standalone@127.0.0.1:19990 /] :reload()\n{\n    \"outcome\" => \"success\",\n    \"result\" => undefined\n}\n[standalone@127.0.0.1:19990 /]\n```", "```java\n<subsystem >\n    <mod-cluster-config advertise-socket=\"modcluster\" advertise=\"true\" connector=\"ajp\">\n        <dynamic-load-provider>\n            <load-metric type=\"cpu\"/>\n            <load-metric type=\"mem\" weight=\"2\" capacity=\"1\"/>\n        </dynamic-load-provider>\n    </mod-cluster-config>\n</subsystem>\n```", "```java\n$ cd ~/WFC/github/wildfly-cookbook\n$ cd balancing-test\n$ mvn clean package\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone bl-tcp-std-node-1\n    $ cp -a standalone bl-tcp-std-node-2\n    ```", "```java\n    $ cp balancing-test.war bl-tcp-std-node-1/deployments/\n    $ cp balancing-test.war bl-tcp-std-node-2/deployments/\n    ```", "```java\n    $ sudo ifconfig eth0:2 10.0.1.1 netmask 255.255.255.0\n    $ sudo ifconfig eth0:3 10.0.1.2 netmask 255.255.255.0\n    ```", "```java\n    <VirtualHost 10.0.0.1:6666>\n            <Directory />\n                    Order deny,allow\n                    Deny from all\n                    Allow from 10.0.0.1\n            </Directory>\n            ServerAdvertise off\n            EnableMCPMReceive\n    </VirtualHost>\n    ```", "```java\n    $ cd /opt/httpd/bin\n    $ sudo ./httpd -k start -f /opt/httpd/conf/httpd.conf\n    $ tail -f ../logs/{access,error}_log\n    ==> ../logs/access_log <==\n\n    ==> ../logs/error_log <==\n    [Sat Oct 18 23:10:29 2014] [notice] SIGHUP received.  Attempting to restart\n    [Sat Oct 18 23:10:29 2014] [notice] Digest: generating secret for digest authentication ...\n    [Sat Oct 18 23:10:29 2014] [notice] Digest: done\n    [Sat Oct 18 23:10:29 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Sat Oct 18 23:10:29 2014] [notice] Advertise initialized for process 26675\n    [Sat Oct 18 23:10:29 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n    ```", "```java\n    <subsystem >\n        <mod-cluster-config advertise-socket=\"modcluster\" advertise=\"false\" proxy-list=\"10.0.0.1:6666\" connector=\"ajp\">\n            <dynamic-load-provider>\n                <load-metric type=\"cpu\"/>\n            </dynamic-load-provider>\n        </mod-cluster-config>\n    </subsystem>\n    ```", "```java\n    proxy-list=\"10.0.0.1:6666,10.0.0.2:6666\"\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-tcp-std-node-1 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.1 -Djboss.management.http.port=19990 -Djboss.node.name=node-1\n    ...\n    23:13:58,472 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.1.0.Final \"Kenny\" started in 6531ms - Started 289 of 400 services (179 services are lazy, passive or on-demand)\n    ```", "```java\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [18/Oct/2014:23:14:05 +0200] \"INFO / HTTP/1.1\" 200 -\n    10.0.0.1 - - [18/Oct/2014:23:14:05 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [18/Oct/2014:23:14:05 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [18/Oct/2014:23:14:05 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [18/Oct/2014:23:14:15 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-tcp-std-node-2 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.2 -Djboss.management.http.port=29990 -Djboss.node.name=node-2\n    ...\n    23:13:58,472 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.1.0.Final \"Kenny\" started in 6531ms - Started 289 of 400 services (179 services are lazy, passive or on-demand)\n    ```", "```java\n    ...\n    10.0.0.1 - - [18/Oct/2014:23:23:45 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [18/Oct/2014:23:23:55 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [18/Oct/2014:23:24:05 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [18/Oct/2014:23:24:15 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [18/Oct/2014:23:24:21 +0200] \"INFO / HTTP/1.1\" 200 331\n    10.0.0.1 - - [18/Oct/2014:23:24:21 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [18/Oct/2014:23:24:21 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [18/Oct/2014:23:24:21 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [18/Oct/2014:23:24:25 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n    http://10.0.0.1/mcm\n    ```", "```java\n    http://10.0.0.1/balancing-test\n    ```", "```java\n$ cd ~/WFC/github/wildfly-cookbook\n$ cd balancing-test\n$ mvn clean package\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone bl-http-std-node-1\n    ```", "```java\n    $ cp balancing-test.war bl-http-std-node-1/deployments/\n    ```", "```java\n    $ sudo ifconfig eth0:1 10.0.1.1 netmask 255.255.255.0\n    ```", "```java\n    $ cd /opt/httpd/bin\n    $ sudo ./httpd -k start -f /opt/httpd/conf/httpd.conf\n    $ tail -f ../logs/{access,error}_log\n    ==> ../logs/access_log <==\n\n    ==> ../logs/error_log <==\n    [Sun Oct 12 16:10:29 2014] [notice] SIGHUP received.  Attempting to restart\n    [Sun Oct 12 16:10:29 2014] [notice] Digest: generating secret for digest authentication ...\n    [Sun Oct 12 16:10:29 2014] [notice] Digest: done\n    [Sun Oct 12 16:10:29 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Sun Oct 12 16:10:29 2014] [notice] Advertise initialized for process 26675\n    [Sun Oct 12 16:10:29 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n    ```", "```java\n    <subsystem >\n        <buffer-cache name=\"default\"/>\n        <server name=\"default-server\">\n            <http-listener name=\"http\" socket-binding=\"http\" enabled=\"true\"/>\n            <ajp-listener name=\"ajp\" socket-binding=\"ajp\" enabled=\"false\"/>\n            <host name=\"default-host\" alias=\"localhost\">\n                <location name=\"/\" handler=\"welcome-content\"/>\n                <filter-ref name=\"server-header\"/>\n                <filter-ref name=\"x-powered-by-header\"/>\n            </host>\n        </server>\n        <servlet-container name=\"default\">\n            <jsp-config/>\n        </servlet-container>\n        <handlers>\n            <file name=\"welcome-content\" \n            path=\"${jboss.home.dir}/welcome-content\"/>\n        </handlers>\n        <filters>\n            <response-header name=\"server-header\" header-\n            name=\"Server\" header-value=\"WildFly/8\"/>\n            <response-header name=\"x-powered-by-header\" header-name=\"X-Powered-By\" header-value=\"Undertow/1\"/>\n        </filters>\n    </subsystem>\n    ```", "```java\n    <subsystem >\n        <mod-cluster-config advertise-socket=\"modcluster\" connector=\"http\">\n            <dynamic-load-provider>\n                <load-metric type=\"cpu\"/>\n            </dynamic-load-provider>\n        </mod-cluster-config>\n    </subsystem>\n    ```", "```java\n    <subsystem >\n        <endpoint worker=\"default\"/>\n        <http-connector name=\"http-remoting-connector\" connector-ref=\"default\" security-realm=\"ApplicationRealm\"/>\n    </subsystem>\n    ```", "```java\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-http-std-node-1 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.1 -Djboss.management.http.port=19990 -Djboss.node.name=node-1\n    ...\n    18:03:57,734 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.1.0.Final \"Kenny\" started in 6670ms - Started 287 of 399 services (179 services are lazy, passive or on-demand)\n    ```", "```java\n    ==> ../logs/access_log <==\n    ...\n    10.0.0.1 - - [16/Oct/2014:18:04:03 +0200] \"INFO / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:04:03 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:04:03 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:04:03 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [16/Oct/2014:18:04:13 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n    http://10.0.0.1/balancing-test\n    ```", "```java\n$ cd ~/WFC/github/wildfly-cookbook\n$ cd balancing-test\n$ mvn clean package\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone bl-persist-std-node-1\n    ```", "```java\n    $ cp balancing-test.war bl-persist-std-node-1/deployments/\n    ```", "```java\n    $ sudo ifconfig eth0:1 10.0.1.1 netmask 255.255.255.0\n    ```", "```java\n    $ cd /opt/httpd/bin\n    $ sudo ./httpd -k start -f /opt/httpd/conf/httpd.conf\n    $ tail -f ../logs/{access,error}_log\n    ==> ../logs/access_log <==\n\n    ==> ../logs/error_log <==\n    [Thu Oct 16 18:51:51 2014] [warn] Init: Session Cache is not configured [hint: SSLSessionCache]\n    [Thu Oct 16 18:51:51 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Thu Oct 16 18:51:51 2014] [notice] Digest: generating secret for digest authentication ...\n    [Thu Oct 16 18:51:51 2014] [notice] Digest: done\n    [Thu Oct 16 18:51:51 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Thu Oct 16 18:51:51 2014] [notice] Advertise initialized for process 15525\n    [Thu Oct 16 18:51:51 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n    ```", "```java\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-persist-std-node-1 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.1 -Djboss.management.http.port=19990 -Djboss.node.name=node-1\n    ...\n    18:55:37,613 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.1.0.Final \"Kenny\" started in 6723ms - Started 289 of 400 services (179 services are lazy, passive or on-demand)\n    ```", "```java\n    ==> ../logs/access_log <==\n    ...\n    10.0.0.1 - - [16/Oct/2014:18:55:43 +0200] \"INFO / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:55:43 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:55:43 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:55:43 +0200] \"STATUS / HTTP/1.1\" 200 54\n    10.0.0.1 - - [16/Oct/2014:18:55:53 +0200] \"STATUS / HTTP/1.1\" 200 54\n    ```", "```java\n    $ cd /opt/httpd/bin\n    $ ./httpd -k restart -f /opt/httpd/conf/httpd.conf\n    ```", "```java\n    ==> ../logs/error_log <==\n    ...\n    [Thu Oct 16 18:57:23 2014] [warn] manager_handler STATUS error: MEM: Can't read node\n\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [16/Oct/2014:18:57:23 +0200] \"STATUS / HTTP/1.1\" 500 535\n\n    ```", "```java\n    18:57:23,879 ERROR [org.jboss.modcluster] (UndertowEventHandlerAdapter - 1) MODCLUSTER000042: Error MEM sending STATUS command to 10.0.0.1/10.0.0.1:6666, configuration will be reset: MEM: Can't read node\n    ```", "```java\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [16/Oct/2014:18:57:23 +0200] \"STATUS / HTTP/1.1\" 500 535\n    10.0.0.1 - - [16/Oct/2014:18:57:33 +0200] \"INFO / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:57:33 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:57:33 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:18:57:33 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [16/Oct/2014:18:57:43 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n    ...\n    Listen 10.0.0.1:80\n    Listen 10.0.0.1:6666\n\n    PersistSlots On\n\n    <VirtualHost 10.0.0.1:80>\n    ...\n    ```", "```java\n    ==> ../logs/error_log <==\n    [Thu Oct 16 19:14:39 2014] [warn] Init: Session Cache is not configured [hint: SSLSessionCache]\n    [Thu Oct 16 19:14:39 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Thu Oct 16 19:14:39 2014] [notice] Digest: generating secret for digest authentication ...\n    [Thu Oct 16 19:14:39 2014] [notice] Digest: done\n    [Thu Oct 16 19:14:39 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Thu Oct 16 19:14:39 2014] [notice] Advertise initialized for process 16529\n    [Thu Oct 16 19:14:39 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [16/Oct/2014:19:15:01 +0200] \"INFO / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:19:15:01 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:19:15:01 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [16/Oct/2014:19:15:01 +0200] \"STATUS / HTTP/1.1\" 200 55\n    ```", "```java\n    ==> ../logs/error_log <==\n    [Thu Oct 16 19:17:05 2014] [notice] SIGHUP received.  Attempting to restart\n    [Thu Oct 16 19:17:05 2014] [notice] Digest: generating secret for digest authentication ...\n    [Thu Oct 16 19:17:05 2014] [notice] Digest: done\n    [Thu Oct 16 19:17:05 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Thu Oct 16 19:17:05 2014] [notice] Advertise initialized for process 16529\n    [Thu Oct 16 19:17:05 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [16/Oct/2014:19:17:11 +0200] \"STATUS / HTTP/1.1\" 200 46\n    10.0.0.1 - - [16/Oct/2014:19:17:21 +0200] \"STATUS / HTTP/1.1\" 200 46\n    ```", "```java\n$ cd ~/WFC/github/wildfly-cookbook\n$ cd balancing-test\n$ mvn clean package\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone bl-std-node-bar\n    $ cp -a standalone bl-std-node-foo\n    ```", "```java\n    $ cp app-bar-with-this-context.war bl-std-node-bar/deployments/\n    $ cp app-foo-with-this-context.war bl-std-node-foo/deployments/\n    ```", "```java\n    $ sudo ifconfig eth0:1 10.0.1.1 netmask 255.255.255.0\n    $ sudo ifconfig eth0:2 10.0.1.2 netmask 255.255.255.0\n    ```", "```java\n    LoadModule slotmem_module modules/mod_slotmem.so\n    LoadModule manager_module modules/mod_manager.so\n    LoadModule proxy_cluster_module modules/mod_proxy_cluster.so\n    LoadModule advertise_module modules/mod_advertise.so\n\n    PersistSlots On\n    ServerAdvertise Off\n\n    Listen 10.0.0.3:80\n    <VirtualHost 10.0.0.3:80>\n\n            ServerName mcm.com\n\n            <Location />\n                    SetHandler mod_cluster-manager\n                    Order deny,allow\n                    Deny from all\n                    Allow from all\n            </Location>\n\n    </VirtualHost>\n\n    Listen 10.0.0.1:80\n    <VirtualHost 10.0.0.1:80>\n\n            ServerName bar.com\n\n            <Directory />\n                    Order deny,allow\n                    Deny from all\n                    Allow from all\n            </Directory>\n\n            EnableMCPMReceive On\n\n            CreateBalancers 1\n            ProxyPass / balancer://barBalancer/this\n\n    </VirtualHost>\n\n    Listen 10.0.0.2:80\n    <VirtualHost 10.0.0.2:80>\n\n            ServerName foo.com\n\n            <Directory />\n                    Order deny,allow\n                    Deny from all\n                    Allow from all\n            </Directory>\n\n            EnableMCPMReceive On\n\n            CreateBalancers 1\n            ProxyPass / balancer://fooBalancer/this\n\n    </VirtualHost>\n    ```", "```java\n    $ sudo ifconfig eth0:3 10.0.0.1 netmask 255.255.255.0\n    $ sudo ifconfig eth0:4 10.0.0.2 netmask 255.255.255.0\n    $ sudo ifconfig eth0:5 10.0.0.3 netmask 255.255.255.0\n    ```", "```java\n    10.0.0.3 mcm.com\n    10.0.0.1 bar.com\n    10.0.0.2 foo.com\n    ```", "```java\n    $ cd /opt/httpd/bin\n    $ ./httpd -k restart -f /opt/httpd/conf/httpd.conf\n    In the Apache logs, you should see entries similar to the following:\n    ==> ../logs/access_log <==\n\n    ==> ../logs/error_log <==\n    [Fri Oct 17 00:12:57 2014] [warn] Init: Session Cache is not configured [hint: SSLSessionCache]\n    [Fri Oct 17 00:12:57 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Fri Oct 17 00:12:57 2014] [notice] Digest: generating secret for digest authentication ...\n    [Fri Oct 17 00:12:57 2014] [notice] Digest: done\n    [Fri Oct 17 00:12:57 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Fri Oct 17 00:12:57 2014] [notice] Advertise initialized for process 23907\n    [Fri Oct 17 00:12:57 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n    ```", "```java\n    http://mcm.com\n    ```", "```java\n    <subsystem >\n        <mod-cluster-config advertise-socket=\"modcluster\" advertise=\"false\" proxy-list=\"${proxy.list}\" connector=\"ajp\" balancer=\"${balancer.name}\">\n            <dynamic-load-provider>\n                <load-metric type=\"cpu\"/>\n            </dynamic-load-provider>\n        </mod-cluster-config>\n    </subsystem>\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-std-node-bar --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.1 -Djboss.management.http.port=19990 -Djboss.node.name=node-bar -Dbalancer.name=barBalancer -Dproxy.list=10.0.0.1:80 -Djboss.default.multicast.address=230.0.1.4\n    ...\n    00:24:20,643 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0021: Registered web context: /this\n    ...\n    ```", "```java\n    10.0.0.1 - - [17/Oct/2014:00:24:16 +0200] \"INFO / HTTP/1.1\" 200 -\n    10.0.0.1 - - [17/Oct/2014:00:24:16 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [17/Oct/2014:00:24:16 +0200] \"STATUS / HTTP/1.1\" 200 48\n    10.0.0.1 - - [17/Oct/2014:00:24:20 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [17/Oct/2014:00:24:20 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [17/Oct/2014:00:24:26 +0200] \"STATUS / HTTP/1.1\" 200 48\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-std-node-foo --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.2 -Djboss.management.http.port=29990 -Djboss.node.name=node-foo -Dbalancer.name=fooBalancer -Dproxy.list=10.0.0.2:80 -Djboss.default.multicast.address=230.0.2.4\n    ...\n    00:24:39,689 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0021: Registered web context: /this\n    ...\n    ```", "```java\n    10.0.0.1 - - [17/Oct/2014:00:24:32 +0200] \"INFO / HTTP/1.1\" 200 325\n    10.0.0.1 - - [17/Oct/2014:00:24:32 +0200] \"CONFIG / HTTP/1.1\" 200 -\n    10.0.0.1 - - [17/Oct/2014:00:24:32 +0200] \"STATUS / HTTP/1.1\" 200 48\n    10.0.0.1 - - [17/Oct/2014:00:24:36 +0200] \"STATUS / HTTP/1.1\" 200 48\n\n    ==> ../logs/error_log <==\n    [Fri Oct 17 00:24:39 2014] [warn] ENABLE: context /this is in balancer fooBalancer and barBalancer\n\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [17/Oct/2014:00:24:39 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n\n    ==> ../logs/error_log <==\n    [Fri Oct 17 00:24:39 2014] [warn] ENABLE: context /this is in balancer fooBalancer and barBalancer\n\n    ==> ../logs/access_log <==\n    10.0.0.1 - - [17/Oct/2014:00:24:39 +0200] \"ENABLE-APP / HTTP/1.1\" 200 -\n    10.0.0.1 - - [17/Oct/2014:00:24:42 +0200] \"STATUS / HTTP/1.1\" 200 48\n    10.0.0.1 - - [17/Oct/2014:00:24:46 +0200] \"STATUS / HTTP/1.1\" 200 48\n    ```", "```java\n    00:37:42,053 INFO  [stdout] (default task-1) ********************************+\n    00:37:42,054 INFO  [stdout] (default task-1) I'm serving your request and I'm \"app-bar-with-this-context\"\n    00:37:42,054 INFO  [stdout] (default task-1) ********************************+\n    ```", "```java\n    00:37:43,709 INFO  [stdout] (default task-1) ********************************+\n    00:37:43,709 INFO  [stdout] (default task-1) I'm serving your request and I'm \"app-foo-with-this-context\"\n    00:37:43,709 INFO  [stdout] (default task-1) ********************************+\n    ```", "```java\nListen 10.0.0.1:80\n<VirtualHost 10.0.0.1:80>\n        ServerName bar.com\n        <Directory />\n                Order deny,allow\n                Deny from all\n                Allow from all\n        </Directory>\n        EnableMCPMReceive On\n        CreateBalancers 1\n        ProxyPass / balancer://barBalancer/this\n</VirtualHost>\n```", "```java\nListen 10.0.0.2:80\n<VirtualHost 10.0.0.2:80>\n        ServerName foo.com\n        <Directory />\n                Order deny,allow\n                Deny from all\n                Allow from all\n        </Directory>\n        EnableMCPMReceive On\n        CreateBalancers 1\n        ProxyPass / balancer://fooBalancer/this\n</VirtualHost>\n```", "```java\n<subsystem >\n    <mod-cluster-config advertise-socket=\"modcluster\" advertise=\"false\" proxy-list=\"${proxy.list}\" connector=\"ajp\" balancer=\"${balancer.name}\">\n        <dynamic-load-provider>\n            <load-metric type=\"cpu\"/>\n        </dynamic-load-provider>\n    </mod-cluster-config>\n</subsystem>\n```", "```java\n$ cd ~/WFC/github/wildfly-cookbook\n$ cd rolling-test\n$ mvn -e clean package\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone bl-rolling-node-1\n    $ cp -a standalone bl-rolling-node-2\n    $ cp -a standalone bl-rolling-node-3\n    $ cp -a standalone bl-rolling-node-4\n    ```", "```java\n    $ cp ~/WFC/github/wildfly-cookbook/rolling-test/target/rolling-test-1.0.war bl-rolling-node-1/deployments/\n    $ cp ~/WFC/github/wildfly-cookbook/rolling-test/target/rolling-test-1.0.war bl-rolling-node-2/deployments/\n    $ cp ~/WFC/github/wildfly-cookbook/rolling-test/target/rolling-test-1.0.war bl-rolling-node-3/deployments/\n    $ cp ~/WFC/github/wildfly-cookbook/rolling-test/target/rolling-test-1.0.war bl-rolling-node-4/deployments/\n    ```", "```java\n    $ sudo ifconfig eth0:2 10.0.1.1 netmask 255.255.255.0\n    $ sudo ifconfig eth0:3 10.0.1.2 netmask 255.255.255.0\n    $ sudo ifconfig eth0:4 10.0.1.3 netmask 255.255.255.0\n    $ sudo ifconfig eth0:5 10.0.1.4 netmask 255.255.255.0\n    ```", "```java\n    <cache-container name=\"web\" default-cache=\"repl\" module=\"org.wildfly.clustering.web.infinispan\">\n      <transport lock-timeout=\"60000\"/>\n      <replicated-cache name=\"repl\" mode=\"SYNC\"batching=\"true\">\n        <locking isolation=\"REPEATABLE_READ\"/>\n      </replicated-cache>\n      <distributed-cache name=\"dist\" mode=\"ASYNC\" batching=\"true\" l1-lifespan=\"0\" owners=\"2\">\n        <file-store/>\n      </distributed-cache>\n    </cache-container>\n    ```", "```java\n    LoadModule slotmem_module modules/mod_slotmem.so\n    LoadModule manager_module modules/mod_manager.so\n    LoadModule proxy_cluster_module modules/mod_proxy_cluster.so\n    LoadModule advertise_module modules/mod_advertise.so\n\n    Listen 10.0.0.1:80\n    <VirtualHost 10.0.0.1:80>\n            <Location /mcm>\n                    SetHandler mod_cluster-manager\n                    Order deny,allow\n                    Deny from all\n                    Allow from 10.0.0.1\n            </Location>\n    </VirtualHost>\n\n    Listen 10.0.0.1:6666\n    <VirtualHost 10.0.0.1:6666>\n            <Directory />\n                    Order deny,allow\n                    Deny from all\n                    Allow from 10.0.0.1\n            </Directory>\n            ServerAdvertise on http://10.0.0.1:6666\n            EnableMCPMReceive\n    </VirtualHost>\n\n    Listen 10.0.0.2:80\n    <VirtualHost 10.0.0.2:80>\n            ServerName rolling.com\n            <Directory />\n                    Order deny,allow\n                    Deny from all\n                    Allow from all\n            </Directory>\n            EnableMCPMReceive On\n\n            RewriteEngine On\n            RewriteCond %{REQUEST_URI} !^/(rolling/.*)$\n            RewriteRule ^/(.*)$ /rolling/$1 [P,L]\n\n            ProxyPass / balancer://mycluster/rolling stickysession=JSESSIONID|jsessionid nofailover=Off\n            ProxyPassReverse /rolling /\n            ProxyPassReverseCookieDomain / rolling.com\n            ProxyPassReverseCookiePath /rolling /\n    </VirtualHost>\n    ```", "```java\n    $ sudo ifconfig eth0:6 10.0.0.2 netmask 255.255.255.0\n    ```", "```java\n    10.0.0.2 rolling.com\n    ```", "```java\n    $ sudo ./httpd -k restart -f /opt/httpd/conf/httpd.conf\n    $ tail -f ../logs/{access,error}_log\n    ==> ../logs/access_log <==\n\n    ==> ../logs/error_log <==\n    [Fri Oct 17 15:22:34 2014] [warn] Init: Session Cache is not configured [hint: SSLSessionCache]\n    [Fri Oct 17 15:22:34 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Fri Oct 17 15:22:34 2014] [notice] Digest: generating secret for digest authentication ...\n    [Fri Oct 17 15:22:34 2014] [notice] Digest: done\n    [Fri Oct 17 15:22:34 2014] [warn] httpd version 2.2.29 mismatch detected\n    [Fri Oct 17 15:22:34 2014] [notice] Advertise initialized for process 26498\n    [Fri Oct 17 15:22:34 2014] [notice] Apache/2.2.29 (Unix) mod_ssl/2.2.29 OpenSSL/1.0.1e-fips DAV/2 mod_cluster/1.2.6.Final configured -- resuming normal operations\n    ```", "```java\n        ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-1 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.1 -Djboss.management.http.port=19990 -Djboss.node.name=node-1\n        ```", "```java\n        ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-2 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.2 -Djboss.management.http.port=29990 -Djboss.node.name=node-2\n        ```", "```java\n        ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-3 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.3 -Djboss.management.http.port=39990 -Djboss.node.name=node-3\n        ```", "```java\n        ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-4 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.4 -Djboss.management.http.port=49990 -Djboss.node.name=node-4\n        ```", "```java\n    http://rolling.com\n    ```", "```java\n    <h3 style=\"color:#ccff00;\">I'm running version 1.1</h3>\n    ```", "```java\n    <version>1.1</version>\n    ```", "```java\n    $ cd ~/WFC/github/wildfly-cookbook\n    $ cd rolling-test\n    $ mvn -e clean package\n    ```", "```java\n    $ rm -rf /opt/wildfly/bl-rolling-node-1/deployments/rolling-test-1.0.war\n    $ rm -rf /opt/wildfly/bl-rolling-node-2/deployments/rolling-test-1.0.war\n    $ cp rolling-test-1.1.war /opt/wildfly/bl-rolling-node-1/deployments/\n    $ cp rolling-test-1.1.war /opt/wildfly/bl-rolling-node-2/deployments/\n    ```", "```java\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-1 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.1 -Djboss.management.http.port=19990 -Djboss.node.name=node-1\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-2 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.2 -Djboss.management.http.port=29990 -Djboss.node.name=node-2\n    ```", "```java\n    $ rm -rf /opt/wildfly/bl-rolling-node-3/deployments/rolling-test-1.0.war\n    $ rm -rf /opt/wildfly/bl-rolling-node-4/deployments/rolling-test-1.0.war\n    $ cp rolling-test-1.1.war /opt/wildfly/bl-rolling-node-3/deployments/\n    $ cp rolling-test-1.1.war /opt/wildfly/bl-rolling-node-4/deployments/\n    ```", "```java\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-3 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.3 -Djboss.management.http.port=39990 -Djboss.node.name=node-3\n    $ ./bin/standalone.sh -Djboss.server.base.dir=bl-rolling-node-4 --server-config=standalone-ha.xml -Djboss.bind.address=10.0.1.4 -Djboss.management.http.port=49990 -Djboss.node.name=node-4\n    ```"]