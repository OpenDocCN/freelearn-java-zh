- en: Chapter 5. Building IcedTea
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Building IcedTea 6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building IcedTea 7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building OpenJDK 7 with IcedTea patches
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building IcedTea 7 with NSS security provider
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building IcedTea 6 with SystemTap support
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**IcedTea** is a build and integration project for OpenJDK launched by Red
    Hat in June 2007\. It allows users to build OpenJDK using free software tools.
    It also provides alternative open source implementations of the Java browser plugin
    and Java Web Start as part of the IcedTea-Web subproject.'
  prefs: []
  type: TYPE_NORMAL
- en: Given the current state of the OpenJDK project itself, it is not easy to understand
    the full value of the IcedTea project. Some features of OpenJDK, which seem standard
    now, like the absence of binary components and an advanced build system, were
    pioneered in the IcedTea project.
  prefs: []
  type: TYPE_NORMAL
- en: The IcedTea project was started by Red Hat and the GNU classpath in 2007, soon
    after the Sun Java source code was published under an open source license. The
    main goal was to create a free Java package to include in GNU/Linux distributions.
    Popular distributions (such as Fedora or Arch) have strict requirements for included
    software. Generally speaking, the full source code must be available under the
    open source license, and binaries must be built using the free software build
    tools. At the time of the release, some OpenJDK modules (for example, font- and
    sound-related modules) were available in binary form only, and only a proprietary
    Sun Java compiler could be used for the build.
  prefs: []
  type: TYPE_NORMAL
- en: IcedTea incorporated the GNU Autoconf build system. This made it possible to
    use the GNU Compiler for Java to compile OpenJDK code and replace the binary modules
    with open source implementations. In 2008, the `IcedTea 6` binaries in the Fedora
    9 distribution passed the Java Technology Compatibility Kit test suite successfully
    and became a fully compatible Java 6 implementation.
  prefs: []
  type: TYPE_NORMAL
- en: One distinguishable feature of the IcedTea project is **bootstrap builds**.
    Bootstrap mode means that the build process runs twice. First, the OpenJDK with
    some patches is built using the **GNU Compiler for Java** (**GCJ**) and then,
    the newly built binaries are used as the compiler for the resulting production
    build. In the early days of IcedTea, this process was the only way to ensure that
    no non-free binary parts were included (or accidentally leaked) into the resulting
    binaries from the non-free Sun Java compiler. Such bootstrapping with another
    compiler is a common procedure for free software. Besides preventing binary leaks,
    such a procedure can also be used to prevent possible malicious compiler bookmarks.
    For recent IcedTea versions, GCJ is not required for the built and prebuilt OpenJDK
    binaries, and can be used as the boot JDK without the full bootstrap process.
  prefs: []
  type: TYPE_NORMAL
- en: IcedTea is more open to new and experimental features than OpenJDK. It allows
    you to use alternative virtual machine implementations (such as Zero, Shark, and
    JamVM) and also supports cross-compiling for additional architectures (such as
    ARM, MIPS), which are not supported by OpenJDK.
  prefs: []
  type: TYPE_NORMAL
- en: IcedTea also provides more tight integration with an operating system. Originally,
    Sun Java distributions for Linux were made to be as self-contained as possible.
    Implementation of many standard features such as image processing support (PNG,
    JPG, GIF), compressing (ZIP), and cryptographic algorithms (elliptic curve-based
    ones) were included in the OpenJDK code base. These allow better portability but
    restrict users with older and possibly less secure versions of the open source
    libraries. Modern Linux distributions have advanced package management tools to
    control and update the common dependencies between packages. IcedTea has introduced
    the support for using some libraries from the host operating system, instead of
    using the versions included with OpenJDK.
  prefs: []
  type: TYPE_NORMAL
- en: Building IcedTea 6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The IcedTea project, historically, had a lot of changes in it compared to vanilla
    OpenJDK 6 source code. The number of changes went down eventually, as some of
    them were included in the main OpenJDK 6 source tree. Some of the changes, such
    as NIO2 API support (taken from OpenJDK 7), were experimental and were removed.
  prefs: []
  type: TYPE_NORMAL
- en: The changes are stored in the IcedTea source tree in the form of patches (different
    files) and not as changesets in a separate branch. This can confuse users who
    are not experienced with class Unix/Linux patch techniques and tools. The different
    files are stored in the `patches` directory and are applied to the OpenJDK source
    tree during the `configure` build step.
  prefs: []
  type: TYPE_NORMAL
- en: Contrary to OpenJDK 8, the GNU Autoconf build system is not integrated tightly
    into the IcedTea build process. The Autoconf `configure` step prepares the environment
    for building the OpenJDK sources and the standard (slightly patched) OpenJDK makefiles
    are run on the Autoconf `make` step.
  prefs: []
  type: TYPE_NORMAL
- en: In this recipe, we will build IcedTea 6 on Ubuntu 12.04 LTS amd64.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For this recipe, we will need a clean Ubuntu 12.04 (server or desktop version)
    running.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following procedures will help you to build IcedTea 6:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Install the prepackaged binaries of OpenJDK 6:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Install the GCC toolchain and build dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Download and decompress the appropriate `icedtea6*` source code tarball from
    [http://icedtea.wildebeest.org/download/source/](http://icedtea.wildebeest.org/download/source/):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Configure the build specifying the preinstalled OpenJDK path and disable the
    system''s LCMS2 support:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Start the build:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Wait for the build to finish.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Prepackaged binaries of OpenJDK 6 are required because some of the build steps
    are run using the external Java runtime.
  prefs: []
  type: TYPE_NORMAL
- en: The `build-dep` command is used to install all the dependencies that are required
    to build the specified package. As Ubuntu-packaged OpenJDK 6 is quite close to
    the official OpenJDK 6, this command will install almost all the required dependencies.
  prefs: []
  type: TYPE_NORMAL
- en: The `libmotif-dev` package is the additional package that is required, and contains
    the Motif GUI toolkit header files.
  prefs: []
  type: TYPE_NORMAL
- en: In the configuration step, IcedTea checks the environment and prepares adjustments
    to the OpenJDK sources that are to be applied in build step.
  prefs: []
  type: TYPE_NORMAL
- en: In build step, the official OpenJDK 6 sources are downloaded and then adjusted
    in accordance with the build configuration. After that, the usual OpenJDK 6 build
    is run. Then, it is run for the second time using the results of the first build
    as a bootstrap JDK. The resulting binaries are produced by the second build.
  prefs: []
  type: TYPE_NORMAL
- en: Recent versions of IcedTea require the color management library LCMS Version
    2.5 or higher. As such a version is not available in Ubuntu 12.04 repositories,
    we use LCMS bundled with OpenJDK sources.
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: IcedTea has a much more flexible configuration compared to OpenJDK. Some of
    the options will be explored in later recipes in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Chapter 2](ch02.html "Chapter 2. Building OpenJDK 6"), *Building OpenJDK 6*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Working with GNU Autoconf* recipe from [Chapter 4](ch04.html "Chapter 4. Building
    OpenJDK 8"), *Building OpenJDK 8*
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The IcedTea project website at [http://icedtea.classpath.org/wiki/Main_Page](http://icedtea.classpath.org/wiki/Main_Page)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The acceptance speech *Reflections on Trusting Trust* by Ken Thompson during
    the ACM A.M. Turing Award 1983, which can be found at [http://cm.bell-labs.com/who/ken/trust.html](http://cm.bell-labs.com/who/ken/trust.html).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building IcedTea 7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: During the long years of development of OpenJDK 7, the build process was cleaned
    up and improved significantly. Many changes (such as replacing the binary plugins
    with open source components) were included in the main OpenJDK source tree after
    "soaking" in between other experimental changes in IcedTea.
  prefs: []
  type: TYPE_NORMAL
- en: Due to these changes, the IcedTea 7 source tree contains much fewer patches
    for OpenJDK 7 compared to its predecessor. Similar to IcedTea 6, Autoconf `configure`
    step applies patches and prepares the environment, and the `make` step runs the
    original OpenJDK 7 makefiles.
  prefs: []
  type: TYPE_NORMAL
- en: Source patches are mostly used for compatibility with platform Linux libraries
    (`zlib`, `libpng`, and so on) instead of ones contained in the source tree. Makefile
    patches, besides this task, are also used to change the Java launcher—version
    switch output. Many applications use these outputs to determine the version of
    JRE they run on. Besides the version number format, one notable change is that
    in Oracle the Java version line starts with the `java version <version number>`
    string, whereas the vanilla OpenJDK version line starts with `openjdk version
    <version number>`. While the version number can be modified using environment
    variables, this prefix cannot be modified. To achieve better compatibility with
    existing applications, IcedTea uses the makefile patch to change this prefix from
    `openjdk` to `java`.
  prefs: []
  type: TYPE_NORMAL
- en: In this recipe, we will build IcedTea 7 on Ubuntu 12.04 LTS.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For this recipe, we will need a clean Ubuntu 12.04 (server or desktop version)
    running.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following procedures will help you to build Iced Tea 7:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Install the prepackaged binaries of OpenJDK 6:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Install the GCC toolchain and build dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Download and decompress the appropriate `icedtea-2*` source code tarball from
    [http://icedtea.wildebeest.org/download/source/](http://icedtea.wildebeest.org/download/source/):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Configure the build, specifying the preinstalled OpenJDK path, and disable
    the system''s LCMS2 support:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Start the build:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Wait for the build to finish.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The prepackaged binaries of OpenJDK 6 are required because some of the build
    steps are run using the external Java runtime.
  prefs: []
  type: TYPE_NORMAL
- en: The `build-dep` command is used to install all the dependencies that are required
    to build the specified package.
  prefs: []
  type: TYPE_NORMAL
- en: In the build step, the official OpenJDK 6 sources are downloaded and then adjusted
    in accordance with the build configuration. After that, the usual OpenJDK 6 build
    is run. Then, the OpenJDK 6 build is run a second time using the results of the
    first build as a bootstrap JDK. The resulting binaries are produced by the second
    build.
  prefs: []
  type: TYPE_NORMAL
- en: Recent versions of IcedTea require the color management library LCMS Version
    2.5 or higher. As such a version is not available in Ubuntu 12.04 repositories,
    we used the LCMS bundled with OpenJDK sources.
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: IcedTea has a much more flexible configuration compared to OpenJDK. Some of
    the options will be explored in the later recipes in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Chapter 3](ch03.html "Chapter 3. Building OpenJDK 7"), *Building OpenJDK 7*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Working with GNU Autoconf* recipe from [Chapter 4](ch04.html "Chapter 4. Building
    OpenJDK 8"), *Building OpenJDK 8*
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IcedTea project website at [http://icedtea.classpath.org/wiki/Main_Page](http://icedtea.classpath.org/wiki/Main_Page)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building OpenJDK 7 with IcedTea patches
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: IcedTea 7 has a much shorter release cycle compared to OpenJDK 7\. IcedTea releases
    roughly correspond to Oracle Java security releases and contain the same security
    patches where applicable, so, IcedTea 7 can be used to build up-to-date OpenJDK
    7 builds on Windows and Mac OS X platforms.
  prefs: []
  type: TYPE_NORMAL
- en: Performing full IcedTea 7 builds on a non-Linux platform might be difficult
    because the build configuration step expects Linux as a host platform. Instead
    of this, the IcedTea project can be used to patch OpenJDK sources on Linux, and
    then the patched sources can be built on other platforms using the usual OpenJDK
    7 build steps.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For this recipe, we will need a clean Ubuntu 12.04 (server or desktop version)
    running.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following procedures will help you to prepare the OpenJDK 7 source code
    with IcedTea patches:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Install the prepackaged binaries of OpenJDK 6:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Install the GCC toolchain and build dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Download and decompress the appropriate `icedtea-2*` source code tarball from
    [http://icedtea.wildebeest.org/download/source/](http://icedtea.wildebeest.org/download/source/):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Run the configuration script to enable the use of the libraries bundled with
    OpenJDK sources:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Start the build process:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: During the build, the patched OpenJDK 7 source will be put into the `openjdk`
    directory. Copy this directory to a Windows or Mac OS X machine.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Build the patched sources using the usual OpenJDK 7 build process, with the
    additional environment variables:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: IcedTea 7 contains a set of patches that are applied (depending on configuration
    options) at the start of the build process. In this recipe, we do not want to
    build IcedTea itself, but we want to collect patched IcedTea sources to build
    them later, on another platform using the usual build process for OpenJDK 7, as
    described in [Chapter 3](ch03.html "Chapter 3. Building OpenJDK 7"), *Building
    OpenJDK 7*.
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Applying patches is performed in the early stages of the build. It is not necessary
    to wait for the IcedTea build to end: the build process can be interrupted after
    the patches are applied.'
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *Building IcedTea 7* recipe in this chapter
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Chapter 3](ch03.html "Chapter 3. Building OpenJDK 7"), *Building OpenJDK 7*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Working with GNU Autoconf* recipe from [Chapter 4](ch04.html "Chapter 4. Building
    OpenJDK 8"), *Building OpenJDK 8*
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IcedTea project website at [http://icedtea.classpath.org/wiki/Main_Page](http://icedtea.classpath.org/wiki/Main_Page)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building IcedTea 7 with the NSS security provider
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: OpenJDK supports pluggable modules for cryptography service implementation.
    Widely used modern cryptographic algorithms (such as ciphers, paddings, and so
    on) are usually available on multiple platforms. Different platforms can have
    different native implementations of these algorithms. These implementations can
    be more performant than OpenJDK internal ones because they can rely on the details
    of the platform they run on. Also, platform implementations can be used as bridges
    to the facilities of hardware crypto-devices such as smartcards or eTokens. OpenJDK
    pluggable crypto-providers allow you to use a wide range of cryptographic implementations
    through a single Java API interface.
  prefs: []
  type: TYPE_NORMAL
- en: '**Network Security Services** (**NSS**) is an open source cryptography library
    that was developed for the Netscape web browser and is currently maintained by
    the Mozilla Foundation. NSS provides implementation of a wide range of cryptographic
    algorithms that support **Transport Layer Security** (**TLS**) and S/MIME and
    is used in the Firefox web browser, besides other software. NSS also has support
    for hardware crypto-devices (smartcards/eTokens).'
  prefs: []
  type: TYPE_NORMAL
- en: IcedTea 7 can be built with support for NSS as a crypto-provider.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For this recipe, we will need a clean Ubuntu 12.04 (server or desktop version)
    running.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following procedures will help you to build IcedTea 7 with NSS:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Install the prepackaged binaries of OpenJDK 6:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Install the GCC toolchain and build dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Download and decompress the appropriate `icedtea-2*` source code tarball from
    [http://icedtea.wildebeest.org/download/source/](http://icedtea.wildebeest.org/download/source/):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Run the configuration script and enable the NSS crypto-provider:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Start the build:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Wait for the build to finish.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How it works...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: OpenJDK supports pluggable cryptography implementations using unified service-provider
    interfaces. IcedTea 7 allows you to delegate cryptographic tasks to the platform
    NSS library.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *Building IcedTea 7* recipe from this chapter
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Chapter 3](ch03.html "Chapter 3. Building OpenJDK 7"), *Building OpenJDK 7*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Working with GNU Autoconf* recipe from [Chapter 4](ch04.html "Chapter 4. Building
    OpenJDK 8"), *Building OpenJDK 8*
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Mozilla NSS developer documentation at [https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS](https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building IcedTea 6 with the SystemTap support
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Applications running on modern operating systems usually communicate with the
    underlying OS kernel through **system calls** (**syscalls**) or through an intermediate
    platform API. Some operating systems provide advanced tracing tools to monitor
    the applications running, and for troubleshooting. Such tools (such as `dtrace`
    on Oracle Solaris) allow the user to intercept all application activity, syscalls,
    Unix signals processing, and so on, to diagnose performance and functional problems.
  prefs: []
  type: TYPE_NORMAL
- en: For proper support of tracing tools, applications should have *probe-points*
    (or *tracepoints*) compiled into their binaries.
  prefs: []
  type: TYPE_NORMAL
- en: SystemTap is a tracing tool and a scripting language for Linux-based operating
    systems. IcedTea 6 can be built with SystemTap support.
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For this recipe, we will need a clean Ubuntu 12.04 (server or desktop version)
    running.
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following procedures will help you to build IcedTea 6 with SystemTap:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Install the prepackaged binaries of OpenJDK 6:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Install GCC toolchain and build dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Download and decompress the appropriate `icedtea6*` source code tarball from
    [http://icedtea.wildebeest.org/download/source/](http://icedtea.wildebeest.org/download/source/):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Configure the build, specifying the preinstalled OpenJDK path and disable the
    system''s LCMS2 support:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Start the build:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Wait for the build to finish.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: There's more...
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We built IcedTea 6 with the support of JVM user space markers. These markers
    allow SystemTap to probe various JVM events including the loading of classes,
    just-in-time translation of method, and garbage collection.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The *Building IcedTea 6* recipe from this chapter
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Chapter 2](ch02.html "Chapter 2. Building OpenJDK 6"), *Building OpenJDK 6*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Working with GNU Autoconf* recipe from [Chapter 4](ch04.html "Chapter 4. Building
    OpenJDK 8"), *Building OpenJDK 8*
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The SystemTap project website at [https://sourceware.org/systemtap/](https://sourceware.org/systemtap/)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
