<html><head></head><body>
<div id="_idContainer030">
<h1 class="chapter-number" id="_idParaDest-71"><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.1.1">6</span></h1>
<h1 id="_idParaDest-72"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.2.1">Jakarta Faces</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In this chapter, we will cover </span><strong class="bold"><span class="koboSpan" id="kobo.4.1">Jakarta Faces</span></strong><span class="koboSpan" id="kobo.5.1">, the standard component framework</span><a id="_idIndexMarker214"/><span class="koboSpan" id="kobo.6.1"> of Jakarta EE. </span><span class="koboSpan" id="kobo.6.2">Jakarta Faces is used to develop user interfaces, typically rendered on a web browser. </span><span class="koboSpan" id="kobo.6.3">Faces relies a lot on convention over configuration, if we follow Faces conventions then we don’t need to write a lot of configuration. </span><span class="koboSpan" id="kobo.6.4">In most cases, we don’t need to write any configuration at all. </span><span class="koboSpan" id="kobo.6.5">This fact combined with the fact that </span><strong class="source-inline"><span class="koboSpan" id="kobo.7.1">web.xml</span></strong><span class="koboSpan" id="kobo.8.1"> has been optional since Java EE 6 means that in many cases we can write complete web applications without having to write a single line </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">of XML.</span></span></p>
<p><span class="koboSpan" id="kobo.10.1">In this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.12.1">Introduction to </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">Jakarta Faces</span></span></li>
<li><span class="koboSpan" id="kobo.14.1">Developing our first </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">Faces application</span></span></li>
<li><span class="koboSpan" id="kobo.16.1">Custom </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">data validation</span></span></li>
<li><span class="koboSpan" id="kobo.18.1">Customizing </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">default messages</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.20.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.21.1">Example source code for this chapter can be found on GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">at </span></span><a href="https://github.com/PacktPublishing/Jakarta-EE-Application-Development/tree/main/ch06_src"><span class="No-Break"><span class="koboSpan" id="kobo.23.1">https://github.com/PacktPublishing/Jakarta-EE-Application-Development/tree/main/ch06_src</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.24.1">.</span></span></p>
<h1 id="_idParaDest-73"><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.25.1">Introduction to Jakarta Faces</span></h1>
<p><span class="koboSpan" id="kobo.26.1">In this section, we will give a general</span><a id="_idIndexMarker215"/><span class="koboSpan" id="kobo.27.1"> overview of what developing web applications with Jakarta Faces entails, providing some background information necessary before digging into the nitty gritty of </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">Jakarta Faces.</span></span></p>
<h2 id="_idParaDest-74"><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.29.1">Facelets</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.30.1">Facelets</span></strong><span class="koboSpan" id="kobo.31.1"> is the default Jakarta Faces view</span><a id="_idIndexMarker216"/><span class="koboSpan" id="kobo.32.1"> technology. </span><span class="koboSpan" id="kobo.32.2">Facelets</span><a id="_idIndexMarker217"/><span class="koboSpan" id="kobo.33.1"> are written using standard </span><strong class="bold"><span class="koboSpan" id="kobo.34.1">Extensible Hypertext Markup Language</span></strong><span class="koboSpan" id="kobo.35.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.36.1">XHTML</span></strong><span class="koboSpan" id="kobo.37.1">), using Jakarta Faces-specific</span><a id="_idIndexMarker218"/><span class="koboSpan" id="kobo.38.1"> XML namespaces that provide Jakarta Faces-specific tags we can use to develop the user</span><a id="_idIndexMarker219"/><span class="koboSpan" id="kobo.39.1"> interface of our </span><a id="_idIndexMarker220"/><span class="No-Break"><span class="koboSpan" id="kobo.40.1">web applications.</span></span></p>
<h2 id="_idParaDest-75"><a id="_idTextAnchor077"/><span class="koboSpan" id="kobo.41.1">Optional faces-config.xml</span></h2>
<p><span class="koboSpan" id="kobo.42.1">In most cases, configuring a Jakarta Faces application</span><a id="_idIndexMarker221"/><span class="koboSpan" id="kobo.43.1"> is not necessary, as it follows a convention over </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">configuration approach.</span></span></p>
<p><span class="koboSpan" id="kobo.45.1">For some specific cases, when overriding Jakarta Faces’ default error messages for example, we still need to configure Jakarta Faces via a </span><strong class="source-inline"><span class="koboSpan" id="kobo.46.1">faces-config.xml</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.47.1">configuration file.</span></span></p>
<h2 id="_idParaDest-76"><a id="_idTextAnchor078"/><span class="koboSpan" id="kobo.48.1">Standard resource locations</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.49.1">Resources</span></strong><span class="koboSpan" id="kobo.50.1"> are artifacts a page or Jakarta Faces</span><a id="_idIndexMarker222"/><span class="koboSpan" id="kobo.51.1"> component needs to render</span><a id="_idIndexMarker223"/><span class="koboSpan" id="kobo.52.1"> properly. </span><span class="koboSpan" id="kobo.52.2">Resource examples are CSS stylesheets, JavaScript files, </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">and images.</span></span></p>
<p><span class="koboSpan" id="kobo.54.1">When working with Jakarta Faces, resources can be placed in a subdirectory in a folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.55.1">resources</span></strong><span class="koboSpan" id="kobo.56.1"> either at the root of the WAR file or in its </span><strong class="source-inline"><span class="koboSpan" id="kobo.57.1">META-INF</span></strong><span class="koboSpan" id="kobo.58.1"> directory. </span><span class="koboSpan" id="kobo.58.2">By convention, Jakarta Faces components know they can retrieve resources from one of these </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">two locations.</span></span></p>
<p><span class="koboSpan" id="kobo.60.1">In order to avoid cluttering the resources directory, resources are typically placed in a subdirectory. </span><span class="koboSpan" id="kobo.60.2">This subdirectory is referred to from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.61.1">library</span></strong><span class="koboSpan" id="kobo.62.1"> attribute of </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">Faces components.</span></span></p>
<p><span class="koboSpan" id="kobo.64.1">For example, we could place a CSS stylesheet called </span><strong class="source-inline"><span class="koboSpan" id="kobo.65.1">styles.css</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.66.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.67.1">/resources/css/styles.css</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.69.1">In our Faces pages, we could retrieve this CSS file using the</span><strong class="source-inline"><span class="koboSpan" id="kobo.70.1"> &lt;h:outputStylesheet&gt;</span></strong><span class="koboSpan" id="kobo.71.1"> tag, </span><span class="No-Break"><span class="koboSpan" id="kobo.72.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.73.1">
&lt;h:outputStylesheet library="css"  name="styles.css"/&gt;</span></pre> <p><span class="koboSpan" id="kobo.74.1">The value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1">library</span></strong><span class="koboSpan" id="kobo.76.1"> attribute must match the subdirectory where our stylesheet </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">is located.</span></span></p>
<p><span class="koboSpan" id="kobo.78.1">Similarly, we could have a JavaScript file at </span><strong class="source-inline"><span class="koboSpan" id="kobo.79.1">/resources/scripts/somescript.js</span></strong><span class="koboSpan" id="kobo.80.1"> and an image at </span><strong class="source-inline"><span class="koboSpan" id="kobo.81.1">/resources/images/logo.png</span></strong><span class="koboSpan" id="kobo.82.1">, and we could access these resources </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.84.1">
&lt;h:graphicImage library="images" name="logo.png"/&gt;
&lt;h:outputScript library="scripts" name="somescript.js"/&gt;</span></pre> <p><span class="koboSpan" id="kobo.85.1">Notice that in each case, the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.86.1">library</span></strong><span class="koboSpan" id="kobo.87.1"> attribute matches the corresponding subdirectory name in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.88.1">resources</span></strong><span class="koboSpan" id="kobo.89.1"> directory, and the value of the name attribute matches the </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">resource’s filename.</span></span></p>
<h1 id="_idParaDest-77"><a id="_idTextAnchor079"/><span class="koboSpan" id="kobo.91.1">Developing our first Faces application</span></h1>
<p><span class="koboSpan" id="kobo.92.1">To illustrate basic Jakarta Faces concepts, we will develop</span><a id="_idIndexMarker224"/><span class="koboSpan" id="kobo.93.1"> a simple application consisting of two Facelet pages</span><a id="_idIndexMarker225"/><span class="koboSpan" id="kobo.94.1"> and a single </span><strong class="bold"><span class="koboSpan" id="kobo.95.1">Contexts and Dependency Injection</span></strong><span class="koboSpan" id="kobo.96.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.97.1">CDI</span></strong><span class="koboSpan" id="kobo.98.1">) </span><span class="No-Break"><span class="koboSpan" id="kobo.99.1">named bean.</span></span></p>
<h2 id="_idParaDest-78"><a id="_idTextAnchor080"/><span class="koboSpan" id="kobo.100.1">Facelets</span></h2>
<p><span class="koboSpan" id="kobo.101.1">As we mentioned</span><a id="_idIndexMarker226"/><span class="koboSpan" id="kobo.102.1"> in this chapter’s introduction, the default</span><a id="_idIndexMarker227"/><span class="koboSpan" id="kobo.103.1"> view technology for Jakarta Faces is called Facelets. </span><span class="koboSpan" id="kobo.103.2">Facelets need to be written using standard XML. </span><span class="koboSpan" id="kobo.103.3">The most popular way of developing Facelet pages is to use XHTML in conjunction with Jakarta Faces-specific XML namespaces. </span><span class="koboSpan" id="kobo.103.4">The following example shows what a typical Facelet page </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">looks like:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.105.1">
&lt;!-- XML declaration and doctype omitted --&gt;
&lt;html 
      </span><strong class="bold"><span class="koboSpan" id="kobo.106.1"/></strong>
<strong class="bold"><span class="koboSpan" id="kobo.107.1">   </span></strong><span class="koboSpan" id="kobo.108.1">&gt;
  </span><strong class="bold"><span class="koboSpan" id="kobo.109.1">&lt;h:head&gt;</span></strong><span class="koboSpan" id="kobo.110.1">
    &lt;title&gt;Enter Customer Data&lt;/title&gt;
  </span><strong class="bold"><span class="koboSpan" id="kobo.111.1">&lt;/h:head&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.112.1">  &lt;h:body&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.113.1">    &lt;h:outputStylesheet library="css" name="styles.css"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.114.1">    &lt;h:form id="customerForm"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.115.1">      &lt;h:messages/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.116.1">      &lt;h:panelGrid columns="2"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.117.1">        columnClasses="rightAlign,leftAlign"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.118.1">        &lt;h:outputLabel for="firstName" value="First Name:"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.119.1">        &lt;/h:outputLabel&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.120.1">        &lt;h:inputText id="firstName"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.121.1">          label="First Name"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.122.1">          value="#{customer.firstName}"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.123.1">          required="true"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.124.1">          &lt;f:validateLength minimum="2" maximum="30"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.125.1">        &lt;/h:inputText&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.126.1">        &lt;h:outputLabel for="lastName" value="Last Name:"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.127.1">        &lt;/h:outputLabel&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.128.1">        &lt;h:inputText id="lastName"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.129.1">                     label="Last Name"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.130.1">                     value="#{customer.lastName}"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.131.1">                     required="true"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.132.1">          &lt;f:validateLength minimum="2" maximum="30"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.133.1">        &lt;/h:inputText&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.134.1">        &lt;h:outputLabel for="email" value="Email:"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.135.1">        &lt;/h:outputLabel&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.136.1">        &lt;h:inputText id="email"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.137.1">          label="Email"</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.138.1">          value="#{customer.email}"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.139.1">          &lt;f:validateLength minimum="3" maximum="30"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.140.1">        &lt;/h:inputText&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.141.1">        &lt;h:panelGroup&gt;&lt;/h:panelGroup&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.142.1">        &lt;h:commandButton action="confirmation" value="Save"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.143.1">        &lt;/h:commandButton&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.144.1">      &lt;/h:panelGrid&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.145.1">    &lt;/h:form&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.146.1">  &lt;/h:body&gt;</span></strong><span class="koboSpan" id="kobo.147.1">
&lt;/html&gt;</span></pre> <p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.148.1">Figure 6</span></em></span><em class="italic"><span class="koboSpan" id="kobo.149.1">.1</span></em><span class="koboSpan" id="kobo.150.1"> illustrates how our Facelets page renders</span><a id="_idIndexMarker228"/><span class="koboSpan" id="kobo.151.1"> in the browser after deploying our code</span><a id="_idIndexMarker229"/><span class="koboSpan" id="kobo.152.1"> and entering </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">some data.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer019">
<span class="koboSpan" id="kobo.154.1"><img alt="Figure 6.1 – Rendered Facelets page" src="image/B21231_6_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.155.1">Figure 6.1 – Rendered Facelets page</span></p>
<p><span class="koboSpan" id="kobo.156.1">Pretty much any Facelet page will include the two namespaces illustrated in the example. </span><span class="koboSpan" id="kobo.156.2">The first namespace (</span><strong class="source-inline"><span class="koboSpan" id="kobo.157.1"/></strong><span class="koboSpan" id="kobo.158.1">) is for tags that render HTML components. </span><span class="koboSpan" id="kobo.158.2">By convention, the prefix </span><strong class="source-inline"><span class="koboSpan" id="kobo.159.1">h</span></strong><span class="koboSpan" id="kobo.160.1"> (for HTML) is used when using this </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">tag library.</span></span></p>
<p><span class="koboSpan" id="kobo.162.1">The second namespace (</span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1"/></strong><span class="koboSpan" id="kobo.164.1">) is the core Faces tag library. </span><span class="koboSpan" id="kobo.164.2">By convention, the prefix </span><strong class="source-inline"><span class="koboSpan" id="kobo.165.1">f</span></strong><span class="koboSpan" id="kobo.166.1"> (for Faces) is used when using this </span><span class="No-Break"><span class="koboSpan" id="kobo.167.1">tag library.</span></span></p>
<p><span class="koboSpan" id="kobo.168.1">The first Faces-specific tags we see in the preceding example are the </span><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">&lt;h:head&gt;</span></strong><span class="koboSpan" id="kobo.170.1">  and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">&lt;h:body&gt;</span></strong><span class="koboSpan" id="kobo.172.1"> tags. </span><span class="koboSpan" id="kobo.172.2">These tags are analogous to the standard HTML </span><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">&lt;head&gt;</span></strong><span class="koboSpan" id="kobo.174.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.175.1">&lt;body&gt;</span></strong><span class="koboSpan" id="kobo.176.1"> tags and are rendered as such when the page is displayed in </span><span class="No-Break"><span class="koboSpan" id="kobo.177.1">the browser.</span></span></p>
<p><span class="koboSpan" id="kobo.178.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.179.1">&lt;h:outputStylesheet&gt;</span></strong><span class="koboSpan" id="kobo.180.1"> tag is used to load a CSS stylesheet from a well-known location (Jakarta Faces standardizes the locations of resources, such as CSS stylesheets and javascript files, as previously discussed in this chapter). </span><span class="koboSpan" id="kobo.180.2">The value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">library</span></strong><span class="koboSpan" id="kobo.182.1"> attribute must correspond to the directory where the CSS file resides (this directory must be in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">resources</span></strong><span class="koboSpan" id="kobo.184.1"> directory). </span><span class="koboSpan" id="kobo.184.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">name</span></strong><span class="koboSpan" id="kobo.186.1"> attribute must correspond to the name of the CSS stylesheet we wish </span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">to load.</span></span></p>
<p><span class="koboSpan" id="kobo.188.1">The next tag we see is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.189.1">&lt;h:form&gt;</span></strong><span class="koboSpan" id="kobo.190.1"> tag. </span><span class="koboSpan" id="kobo.190.2">This tag generates an HTML form when the page is rendered. </span><span class="koboSpan" id="kobo.190.3">As can be seen in the example, unlike regular HTML, there is no need to specify an </span><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">action</span></strong><span class="koboSpan" id="kobo.192.1"> or a </span><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">method</span></strong><span class="koboSpan" id="kobo.194.1"> attribute for this tag. </span><span class="koboSpan" id="kobo.194.2">As a matter of fact, there is no </span><strong class="source-inline"><span class="koboSpan" id="kobo.195.1">action</span></strong><span class="koboSpan" id="kobo.196.1"> attribute or </span><strong class="source-inline"><span class="koboSpan" id="kobo.197.1">method</span></strong><span class="koboSpan" id="kobo.198.1"> attribute for this tag. </span><span class="koboSpan" id="kobo.198.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.199.1">action</span></strong><span class="koboSpan" id="kobo.200.1"> attribute for the rendered HTML form will be generated automatically, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.201.1">method</span></strong><span class="koboSpan" id="kobo.202.1"> attribute will always be </span><strong class="source-inline"><span class="koboSpan" id="kobo.203.1">"post"</span></strong><span class="koboSpan" id="kobo.204.1">. </span><span class="koboSpan" id="kobo.204.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.205.1">id</span></strong><span class="koboSpan" id="kobo.206.1"> attribute of </span><strong class="source-inline"><span class="koboSpan" id="kobo.207.1">&lt;h:form&gt;</span></strong><span class="koboSpan" id="kobo.208.1"> is optional; however, it is a good idea to always add it since it makes debugging Faces </span><span class="No-Break"><span class="koboSpan" id="kobo.209.1">applications easier.</span></span></p>
<p><span class="koboSpan" id="kobo.210.1">The following tag we see is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.212.1"> tag. </span><span class="koboSpan" id="kobo.212.2">As its name implies, this tag is used to display any messages. </span><span class="koboSpan" id="kobo.212.3">As we will see shortly, Faces can automatically generate validation messages; they will be displayed inside this tag. </span><span class="koboSpan" id="kobo.212.4">Additionally, arbitrary messages can be added programmatically via the </span><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">addMessage()</span></strong><span class="koboSpan" id="kobo.214.1"> method defined </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">jakarta.faces.context.FacesContext</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.218.1">The next Jakarta Faces tag we see is </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.220.1">. </span><span class="koboSpan" id="kobo.220.2">This tag is roughly equivalent to an HTML table, but it works a bit differently. </span><span class="koboSpan" id="kobo.220.3">Instead of declaring rows (</span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">&lt;tr&gt;</span></strong><span class="koboSpan" id="kobo.222.1">) and cells (</span><strong class="source-inline"><span class="koboSpan" id="kobo.223.1">&lt;td&gt;</span></strong><span class="koboSpan" id="kobo.224.1">), the </span><strong class="source-inline"><span class="koboSpan" id="kobo.225.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.226.1"> tag has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.227.1">columns</span></strong><span class="koboSpan" id="kobo.228.1"> attribute. </span><span class="koboSpan" id="kobo.228.2">The value of this attribute indicates the number of columns in the table rendered by this tag. </span><span class="koboSpan" id="kobo.228.3">As we place components inside this tag, they will be placed in a row until the number of columns defined in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.229.1">columns</span></strong><span class="koboSpan" id="kobo.230.1"> attribute is reached, then the next component will be placed in the next row. </span><span class="koboSpan" id="kobo.230.2">In the example, the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">columns</span></strong><span class="koboSpan" id="kobo.232.1"> attribute is </span><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">2</span></strong><span class="koboSpan" id="kobo.234.1">, therefore the first two tags will be placed in the first row, the next two will be placed in the second row, and </span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">so forth.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.236.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.237.1">Using HTML tables for page layout was a popular practice in the early days of web development. </span><span class="koboSpan" id="kobo.237.2">This practice fell out of favor with the advent of CSS. </span><span class="koboSpan" id="kobo.237.3">Most modern Facelets pages use CSS for layout, but we thought it was worth pointing out the layout capabilities provided by </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">Jakarta Faces.</span></span></p>
<p><span class="koboSpan" id="kobo.239.1">Another interesting attribute of </span><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.241.1"> is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.242.1">columnClasses</span></strong><span class="koboSpan" id="kobo.243.1"> attribute. </span><span class="koboSpan" id="kobo.243.2">This attribute assigns a CSS class to each column</span><a id="_idIndexMarker230"/><span class="koboSpan" id="kobo.244.1"> in the rendered table. </span><span class="koboSpan" id="kobo.244.2">In the example, two CSS </span><a id="_idIndexMarker231"/><span class="koboSpan" id="kobo.245.1">classes (separated by a comma) are used as the value for this attribute. </span><span class="koboSpan" id="kobo.245.2">This has the effect of assigning the first CSS class to the first column and the second one to the second column. </span><span class="koboSpan" id="kobo.245.3">Had there been three or more columns, the third one would have gotten the first CSS class, the fourth one the second one, and so on, alternating between the first one and the </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">second one.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.247.1">Viewing generated HTML markup</span></p>
<p class="callout"><span class="koboSpan" id="kobo.248.1">We can view</span><a id="_idIndexMarker232"/><span class="koboSpan" id="kobo.249.1"> the generated HTML markup of our Facelets page by right-clicking on the browser window and selecting </span><strong class="bold"><span class="koboSpan" id="kobo.250.1">View </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.251.1">Page Source</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.252.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.253.1">To clarify how this works, the next code snippet illustrates a portion</span><a id="_idIndexMarker233"/><span class="koboSpan" id="kobo.254.1"> of the source of the HTML markup generated</span><a id="_idIndexMarker234"/><span class="koboSpan" id="kobo.255.1"> by the </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">preceding page:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.257.1">
&lt;form </span><strong class="bold"><span class="koboSpan" id="kobo.258.1">id="customerForm"</span></strong> <strong class="bold"><span class="koboSpan" id="kobo.259.1">name="customerForm"</span></strong><span class="koboSpan" id="kobo.260.1"> method="post" action="/faces_intro/faces/index.xhtml" enctype="application/x-www-form-urlencoded"&gt;
  &lt;table&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        </span><strong class="bold"><span class="koboSpan" id="kobo.261.1">&lt;td class="rightAlign"&gt;</span></strong><span class="koboSpan" id="kobo.262.1">
          &lt;label for="customerForm:firstName"&gt;
            First Name:&lt;/label&gt;
        &lt;/td&gt;
        </span><strong class="bold"><span class="koboSpan" id="kobo.263.1">&lt;td class="leftAlign"&gt;</span></strong><span class="koboSpan" id="kobo.264.1">
         &lt;input </span><strong class="bold"><span class="koboSpan" id="kobo.265.1">id="customerForm:firstName"</span></strong><span class="koboSpan" id="kobo.266.1"> type="text"
           </span><strong class="bold"><span class="koboSpan" id="kobo.267.1">name="customerForm:firstName"</span></strong><span class="koboSpan" id="kobo.268.1"> value="" /&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        </span><strong class="bold"><span class="koboSpan" id="kobo.269.1">&lt;td class="rightAlign"&gt;</span></strong><span class="koboSpan" id="kobo.270.1">
          &lt;label for="customerForm:lastName"&gt;
            Last Name:&lt;/label&gt;&lt;/td&gt;
        </span><strong class="bold"><span class="koboSpan" id="kobo.271.1">&lt;td class="leftAlign"&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.272.1">          </span></strong><span class="koboSpan" id="kobo.273.1">&lt;input </span><strong class="bold"><span class="koboSpan" id="kobo.274.1">id="customerForm:lastName"</span></strong><span class="koboSpan" id="kobo.275.1">
          type="text" </span><strong class="bold"><span class="koboSpan" id="kobo.276.1">name="customerForm:lastName"</span></strong><span class="koboSpan" id="kobo.277.1">
            value="" /&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;!-- Additional table rows omitted for brevity --&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/form&gt;</span></pre> <p><span class="koboSpan" id="kobo.278.1">Notice how each </span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">&lt;td&gt;</span></strong><span class="koboSpan" id="kobo.280.1"> tag has an alternating CSS tag of </span><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">"rightAlign"</span></strong><span class="koboSpan" id="kobo.282.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">"leftAlign"</span></strong><span class="koboSpan" id="kobo.284.1">, we achieved this by assigning the value </span><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">"rightAlign,leftAlign"</span></strong><span class="koboSpan" id="kobo.286.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">columnClasses</span></strong><span class="koboSpan" id="kobo.288.1"> attribute of </span><strong class="source-inline"><span class="koboSpan" id="kobo.289.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.290.1">. </span><span class="koboSpan" id="kobo.290.2">We should note that the CSS classes we are using in our example are defined in the CSS stylesheet we loaded via </span><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">&lt;h:outputStylesheet&gt;</span></strong><span class="koboSpan" id="kobo.292.1">, which we discussed earlier. </span><span class="koboSpan" id="kobo.292.2">The values of all the </span><strong class="source-inline"><span class="koboSpan" id="kobo.293.1">name</span></strong><span class="koboSpan" id="kobo.294.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.295.1">id</span></strong><span class="koboSpan" id="kobo.296.1"> attributes of the generated HTML tags are a combination of the ID we gave to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.297.1">&lt;h:form&gt;</span></strong><span class="koboSpan" id="kobo.298.1"> component, plus the ID of each individual component. </span><span class="koboSpan" id="kobo.298.2">Notice that we didn’t assign an ID to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.299.1">&lt;h:commandButton&gt;</span></strong><span class="koboSpan" id="kobo.300.1"> component near the end of the page, so the Faces runtime assigned one automatically and used it to populate the </span><strong class="source-inline"><span class="koboSpan" id="kobo.301.1">name</span></strong><span class="koboSpan" id="kobo.302.1"> attribute of the generated </span><span class="No-Break"><span class="koboSpan" id="kobo.303.1">submit button.</span></span></p>
<p><span class="koboSpan" id="kobo.304.1">At this point in the example, we start adding</span><a id="_idIndexMarker235"/><span class="koboSpan" id="kobo.305.1"> components inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.306.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.307.1">. </span><span class="koboSpan" id="kobo.307.2">These components</span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.308.1"> will be rendered inside the table rendered by </span><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.310.1">. </span><span class="koboSpan" id="kobo.310.2">As we mentioned before, the number of columns in the rendered table is defined by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">columns</span></strong><span class="koboSpan" id="kobo.312.1"> attribute of </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.314.1">. </span><span class="koboSpan" id="kobo.314.2">Therefore, we don’t need to worry about columns (or rows) we just start adding components and they will be placed in the </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">right place.</span></span></p>
<p><span class="koboSpan" id="kobo.316.1">The next tag we see is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">&lt;h:outputLabel&gt;</span></strong><span class="koboSpan" id="kobo.318.1"> tag. </span><span class="koboSpan" id="kobo.318.2">This tag is rendered as an HTML </span><strong class="source-inline"><span class="koboSpan" id="kobo.319.1">label</span></strong><span class="koboSpan" id="kobo.320.1"> element. </span><span class="koboSpan" id="kobo.320.2">Labels are associated with other components via the </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">for</span></strong><span class="koboSpan" id="kobo.322.1"> attribute, whose value must match the ID of the component that the label </span><span class="No-Break"><span class="koboSpan" id="kobo.323.1">is for.</span></span></p>
<p><span class="koboSpan" id="kobo.324.1">Next, we see the </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">&lt;h:inputText&gt;</span></strong><span class="koboSpan" id="kobo.326.1"> tag. </span><span class="koboSpan" id="kobo.326.2">This tag generates a text field on the rendered page; its </span><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">label</span></strong><span class="koboSpan" id="kobo.328.1"> attribute is used for any validation messages. </span><span class="koboSpan" id="kobo.328.2">It lets the user know what field the message </span><span class="No-Break"><span class="koboSpan" id="kobo.329.1">refers to.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.330.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.331.1">Although it is not required for the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">label</span></strong><span class="koboSpan" id="kobo.333.1"> attribute of </span><strong class="source-inline"><span class="koboSpan" id="kobo.334.1">&lt;h:inputText&gt;</span></strong><span class="koboSpan" id="kobo.335.1"> to match the label displayed on the page, it is highly recommended. </span><span class="koboSpan" id="kobo.335.2">If there is an error, this will let the user know exactly what field the error message is </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">referring to.</span></span></p>
<p><span class="koboSpan" id="kobo.337.1">Of particular interest is the tag’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.338.1">value</span></strong><span class="koboSpan" id="kobo.339.1"> attribute. </span><span class="koboSpan" id="kobo.339.2">What we see</span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.340.1"> as the value for this attribute is a </span><strong class="bold"><span class="koboSpan" id="kobo.341.1">value-binding expression</span></strong><span class="koboSpan" id="kobo.342.1">. </span><span class="koboSpan" id="kobo.342.2">What this means is that this value is tied to a property of one of the application’s CDI named beans. </span><span class="koboSpan" id="kobo.342.3">In the example, this particular text field is tied to a property called </span><strong class="source-inline"><span class="koboSpan" id="kobo.343.1">firstName</span></strong><span class="koboSpan" id="kobo.344.1"> in a named bean called </span><strong class="source-inline"><span class="koboSpan" id="kobo.345.1">customer</span></strong><span class="koboSpan" id="kobo.346.1">. </span><span class="koboSpan" id="kobo.346.2">When a user enters a value for this text field and submits the form, the corresponding property in the named bean is updated with this value.  </span><span class="koboSpan" id="kobo.346.3">The tag’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.347.1">required</span></strong><span class="koboSpan" id="kobo.348.1"> attribute is optional and valid values for it are </span><strong class="source-inline"><span class="koboSpan" id="kobo.349.1">true</span></strong><span class="koboSpan" id="kobo.350.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.351.1">false</span></strong><span class="koboSpan" id="kobo.352.1">. </span><span class="koboSpan" id="kobo.352.2">If this attribute is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.353.1">true</span></strong><span class="koboSpan" id="kobo.354.1">, the container will not let the user submit the form until the user enters some data for the text field. </span><span class="koboSpan" id="kobo.354.2">If the user attempts to submit the form without entering a required value, the page will be reloaded and an error message will be displayed inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.356.1"> tag, as illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.357.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.358.1">.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer020">
<span class="koboSpan" id="kobo.360.1"><img alt="Figure 6.2 – Required field data validation" src="image/B21231_6_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.361.1">Figure 6.2 – Required field data validation</span></p>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.362.1">Figure 6</span></em></span><em class="italic"><span class="koboSpan" id="kobo.363.1">.2</span></em><span class="koboSpan" id="kobo.364.1"> illustrates the default error message shown when the user attempts to save the form in the example without entering a value for the customer’s first name. </span><span class="koboSpan" id="kobo.364.2">The first part of the message (</span><strong class="bold"><span class="koboSpan" id="kobo.365.1">First Name</span></strong><span class="koboSpan" id="kobo.366.1">) is taken from the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.367.1">label</span></strong><span class="koboSpan" id="kobo.368.1"> attribute of the corresponding </span><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">&lt;h:inputTextField&gt;</span></strong><span class="koboSpan" id="kobo.370.1"> tag. </span><span class="koboSpan" id="kobo.370.2">The text </span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.371.1">of the message</span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.372.1"> can be customized, as well as its style (font, color, etc.). </span><span class="koboSpan" id="kobo.372.2">We will cover how to do this later in </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">this chapter.</span></span></p>
<h2 id="_idParaDest-79"><a id="_idTextAnchor081"/><span class="koboSpan" id="kobo.374.1">Project stages</span></h2>
<p><span class="koboSpan" id="kobo.375.1">Having an </span><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.377.1"> tag on every Jakarta Faces page</span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.378.1"> is a good idea. </span><span class="koboSpan" id="kobo.378.2">Without it, the user</span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.379.1"> might not see validation messages and will have no idea why the form submission is not going through. </span><span class="koboSpan" id="kobo.379.2">By default, Jakarta Faces validation messages do not generate any output in the application server log. </span><span class="koboSpan" id="kobo.379.3">A common mistake new Jakarta Faces developers make is failing to add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.380.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.381.1"> tag to their pages. </span><span class="koboSpan" id="kobo.381.2">Without it, if validation fails, then navigation seems to fail for no reason (the same page is rendered if navigation fails, and without an </span><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.383.1"> tag, no error messages are displayed in </span><span class="No-Break"><span class="koboSpan" id="kobo.384.1">the browser).</span></span></p>
<p><span class="koboSpan" id="kobo.385.1">To avoid this situation, we can take advantage of Jakarta Faces </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.386.1">project stages</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.388.1">The following project stages</span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.389.1"> are defined in </span><span class="No-Break"><span class="koboSpan" id="kobo.390.1">Jakarta Faces:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.391.1">Production</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.392.1">Development</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.393.1">UnitTest</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.394.1">SystemTest</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.395.1">We can define the project stage</span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.396.1"> as an initialization parameter</span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.397.1"> to the Faces servlet in </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">web.xml</span></strong><span class="koboSpan" id="kobo.399.1"> or as a custom </span><strong class="bold"><span class="koboSpan" id="kobo.400.1">Java Naming and Directory Interface</span></strong><span class="koboSpan" id="kobo.401.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.402.1">JNDI</span></strong><span class="koboSpan" id="kobo.403.1">) resource. </span><span class="koboSpan" id="kobo.403.2">The preferred way of setting the project stage is through a custom JNDI resource, as no modifications to </span><strong class="source-inline"><span class="koboSpan" id="kobo.404.1">web.xml</span></strong><span class="koboSpan" id="kobo.405.1"> are needed </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">between environments.</span></span></p>
<p><span class="koboSpan" id="kobo.407.1">How you set up a custom JNDI resource is dependent on your application server. </span><span class="koboSpan" id="kobo.407.2">Consult your application server documentation for details. </span><span class="koboSpan" id="kobo.407.3">For example, if we are using </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">GlassFish</span></strong><span class="koboSpan" id="kobo.409.1"> to deploy our application, we can set up a custom JNDI resource by logging in to the web console, navigating to </span><strong class="bold"><span class="koboSpan" id="kobo.410.1">JNDI</span></strong><span class="koboSpan" id="kobo.411.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.412.1">Custom Resources</span></strong><span class="koboSpan" id="kobo.413.1">, and then clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.414.1">New...</span></strong><span class="koboSpan" id="kobo.415.1"> button, which allows us to add our custom JNDI resource, as illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.416.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.417.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.418.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer021">
<span class="koboSpan" id="kobo.419.1"><img alt="Figure 6.3 – Defining Jakarta Faces project stage in GlassFish as a JNDI resource" src="image/B21231_6_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.420.1">Figure 6.3 – Defining Jakarta Faces project stage in GlassFish as a JNDI resource</span></p>
<p><span class="koboSpan" id="kobo.421.1">To define the Jakarta Faces project stage, we need to enter the </span><span class="No-Break"><span class="koboSpan" id="kobo.422.1">following information:</span></span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table001-4">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.423.1">JNDI Name</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.424.1">jakarta</span><a id="_idTextAnchor082"/><a id="_idTextAnchor083"/><a id="_idTextAnchor084"/><a id="_idTextAnchor085"/><span class="koboSpan" id="kobo.425.1">.faces.PROJECT_STAGE</span></strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.426.1">Resource Type</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.427.1">java.lang.String</span></strong></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.428.1">Table 6.1 – Setting the Jakarta Faces project stage in GlassFish</span></p>
<p><span class="koboSpan" id="kobo.429.1">After entering the two preceding values, the </span><strong class="bold"><span class="koboSpan" id="kobo.430.1">Factory Class</span></strong><span class="koboSpan" id="kobo.431.1"> field will be automatically populated with the </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">following value:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.433.1">
org.glassfish.resources.custom.factory.PrimitivesAndStringFactory.</span></pre> <p><span class="koboSpan" id="kobo.434.1">After entering the values, we need</span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.435.1"> to add a new property with a name of </span><strong class="source-inline"><span class="koboSpan" id="kobo.436.1">value</span></strong><span class="koboSpan" id="kobo.437.1"> and a value corresponding</span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.438.1"> to the project stage we wish to use (</span><strong class="bold"><span class="koboSpan" id="kobo.439.1">Development</span></strong><span class="koboSpan" id="kobo.440.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">our example).</span></span></p>
<p><span class="koboSpan" id="kobo.442.1">Once we add our custom JNDI resource, we need to update our </span><strong class="source-inline"><span class="koboSpan" id="kobo.443.1">web.xml</span></strong><span class="koboSpan" id="kobo.444.1"> configuration file to read it, this step is the same across Jakarta </span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">EE implementations.</span></span></p>
<p><span class="koboSpan" id="kobo.446.1">The following example </span><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">web.xml</span></strong><span class="koboSpan" id="kobo.448.1"> configuration file illustrates how to do the Jakarta Faces project stage so that our application can use </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">it successfully:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.450.1">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app 
  
  xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee
  https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd"
  version="6.0"&gt;
  </span><strong class="bold"><span class="koboSpan" id="kobo.451.1">&lt;resource-ref&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.452.1">    &lt;res-ref-name&gt;faces/ProjectStage&lt;/res-ref-name&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.453.1">    &lt;res-type&gt;java.lang.String&lt;/res-type&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.454.1">    &lt;mapped-name&gt;jakarta.faces.PROJECT_STAGE&lt;/mapped-name&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.455.1">  &lt;/resource-ref&gt;</span></strong><span class="koboSpan" id="kobo.456.1">
  &lt;servlet&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;
       jakarta.faces.webapp.FacesServlet
    &lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  &lt;welcome-file-list&gt;
    &lt;welcome-file&gt;faces/index.xhtml&lt;/welcome-file&gt;
  &lt;/welcome-file-list&gt;
&lt;/web-app&gt;</span></pre> <p><span class="koboSpan" id="kobo.457.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.458.1">&lt;resource-ref&gt;</span></strong><span class="koboSpan" id="kobo.459.1"> tag in </span><strong class="source-inline"><span class="koboSpan" id="kobo.460.1">web.xml</span></strong><span class="koboSpan" id="kobo.461.1"> allows us to access JNDI resources</span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.462.1"> defined in our application</span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.463.1"> server. </span><span class="koboSpan" id="kobo.463.2">In our case, we want to access the project stage of our </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">Faces application.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.465.1">&lt;res-ref-name&gt;</span></strong><span class="koboSpan" id="kobo.466.1"> gives our JNDI resource a name our code can use to look up our JNDI resource. </span><span class="koboSpan" id="kobo.466.2">Our Jakarta Faces implementation will look for a JNDI resource named </span><strong class="source-inline"><span class="koboSpan" id="kobo.467.1">faces/ProjectStage</span></strong><span class="koboSpan" id="kobo.468.1">, and, if one is found, will use it to determine our </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">project stage.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.470.1">&lt;res-type&gt;</span></strong><span class="koboSpan" id="kobo.471.1"> allows us to specify the type of the resource we are looking for, as arbitrary Java objects can be looked up via JNDI. </span><span class="koboSpan" id="kobo.471.2">When setting the Jakarta Faces project stage, the value of this tag must always </span><span class="No-Break"><span class="koboSpan" id="kobo.472.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.473.1">java.lang.String</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.474.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.475.1">We specify the name of the resource in the application server JNDI tree via the </span><strong class="source-inline"><span class="koboSpan" id="kobo.476.1">&lt;mapped-name&gt;</span></strong><span class="koboSpan" id="kobo.477.1"> tag. </span><span class="koboSpan" id="kobo.477.2">By convention, this value must always be </span><strong class="source-inline"><span class="koboSpan" id="kobo.478.1">jakarta.faces.PROJECT_STAGE</span></strong><span class="koboSpan" id="kobo.479.1"> when setting up the Jakarta Faces project stage </span><span class="No-Break"><span class="koboSpan" id="kobo.480.1">via JNDI.</span></span></p>
<p><span class="koboSpan" id="kobo.481.1">Setting the project stage allows us to perform some logic only if we are running in a specific stage. </span><span class="koboSpan" id="kobo.481.2">For instance, in one of our named beans, we could have code that looks </span><span class="No-Break"><span class="koboSpan" id="kobo.482.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.483.1">
    FacesContext facesContext =
        FacesContext.getCurrentInstance();
    Application application = facesContext.getApplication();
    if (application.getProjectStage().equals(
        ProjectStage.Production)) {
      //do production stuff
    } else if (application.getProjectStage().equals(
        ProjectStage.Development)) {
      //do development stuff
    } else if (application.getProjectStage().equals(
        ProjectStage.UnitTest)) {
      //do unit test stuff
    } else if (application.getProjectStage().equals(
        ProjectStage.SystemTest)) {
      //do system test stuff
    }</span></pre> <p><span class="koboSpan" id="kobo.484.1">As we can see, project stages</span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.485.1"> allow us to modify our code’s behavior for different</span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.486.1"> environments. </span><span class="koboSpan" id="kobo.486.2">More importantly, setting the project stage allows Jakarta Faces to behave differently based on the project stage setting. </span><span class="koboSpan" id="kobo.486.3">In this context, setting the project stage to development results in additional debugging information to be displayed on the rendered page. </span><span class="koboSpan" id="kobo.486.4">Therefore, if we forget to add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.487.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.488.1"> tag to our page; our project stage is Development, and validation fails, a validation error will be displayed on the page even if we omit the </span><strong class="source-inline"><span class="koboSpan" id="kobo.489.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.490.1"> component. </span><span class="koboSpan" id="kobo.490.2">This is illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.491.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.492.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.493.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer022">
<span class="koboSpan" id="kobo.494.1"><img alt="Figure  ﻿﻿6.4﻿ – Debugging information displayed when the project stage is in Development" src="image/B21231_6_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.495.1">Figure  6.4 – Debugging information displayed when the project stage is in Development</span></p>
<p><span class="koboSpan" id="kobo.496.1">In the default Production</span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.497.1"> stage, this error message</span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.498.1"> is not displayed on the page, leaving us confused as to why our page navigation doesn’t seem to </span><span class="No-Break"><span class="koboSpan" id="kobo.499.1">be working.</span></span></p>
<h2 id="_idParaDest-80"><a id="_idTextAnchor086"/><span class="koboSpan" id="kobo.500.1">Validation</span></h2>
<p><span class="koboSpan" id="kobo.501.1">Notice that each </span><strong class="source-inline"><span class="koboSpan" id="kobo.502.1">&lt;h:inputField&gt;</span></strong><span class="koboSpan" id="kobo.503.1"> tag has</span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.504.1"> a nested </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">&lt;f:validateLength&gt;</span></strong><span class="koboSpan" id="kobo.506.1"> tag. </span><span class="koboSpan" id="kobo.506.2">As its name</span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.507.1"> implies, this tag validates that the entered value for the text field is between a minimum and maximum length. </span><span class="koboSpan" id="kobo.507.2">Minimum and maximum values are defined by the tag’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.508.1">minimum</span></strong><span class="koboSpan" id="kobo.509.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.510.1">maximum</span></strong><span class="koboSpan" id="kobo.511.1"> attributes. </span><strong class="source-inline"><span class="koboSpan" id="kobo.512.1">&lt;f:validateLength&gt;</span></strong><span class="koboSpan" id="kobo.513.1"> is one of the standard validators included with Jakarta Faces. </span><span class="koboSpan" id="kobo.513.2">Just like with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.514.1">required</span></strong><span class="koboSpan" id="kobo.515.1"> attribute of </span><strong class="source-inline"><span class="koboSpan" id="kobo.516.1">&lt;h:inputText&gt;</span></strong><span class="koboSpan" id="kobo.517.1">, Jakarta Faces will automatically display a default error message when a user attempts to submit a form with a value that does not validate, as illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.518.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.519.1">.5</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.520.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer023">
<span class="koboSpan" id="kobo.521.1"><img alt="Figure ﻿﻿6.5 – Length validation" src="image/B21231_6_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.522.1">Figure 6.5 – Length validation</span></p>
<p><span class="koboSpan" id="kobo.523.1">The default message text and CSS style</span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.524.1"> for any Jakarta Faces validation message</span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.525.1"> can be overridden; we will cover how to do this later in </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.527.1">In addition to </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">&lt;f:validateLength&gt;</span></strong><span class="koboSpan" id="kobo.529.1">, Jakarta Faces includes other standard validators, which are listed in the </span><span class="No-Break"><span class="koboSpan" id="kobo.530.1">following</span></span><span class="No-Break"><a id="_idIndexMarker257"/></span><span class="No-Break"><span class="koboSpan" id="kobo.531.1"> table:</span></span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table002-1">
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.532.1">Validation Tag</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.533.1">Description</span></strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.534.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">f:validateBean&gt;</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.536.1">Bean validation allows us to validate named bean values by using annotations in our named beans without having to add validators to our Jakarta Faces tags. </span><span class="koboSpan" id="kobo.536.2">This tag allows us to fine-tune Bean Validation </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">if necessary.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><a id="_idTextAnchor087"/><span class="koboSpan" id="kobo.538.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">f:validateDoubleRange&gt;</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.540.1">Validates that the input is a valid </span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">Double</span></strong><span class="koboSpan" id="kobo.542.1"> value between the two values specified by the tag’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.543.1">minimum</span></strong><span class="koboSpan" id="kobo.544.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">maximum</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.546.1">attributes, inclusive</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.547.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.548.1">f:validateLength&gt;</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.549.1">Validates that the input’s length is between the values specified by the tag’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.550.1">minimum</span></strong><span class="koboSpan" id="kobo.551.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.552.1">maximum</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.553.1">values, inclusive</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.554.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.555.1">f:validateLongRange&gt;</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.556.1">Validates that the input is a valid </span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1">Double</span></strong><span class="koboSpan" id="kobo.558.1"> value between the values specified by the tag’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.559.1">minimum</span></strong><span class="koboSpan" id="kobo.560.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.561.1">maximum</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.562.1">attributes, inclusive</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.563.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.564.1">f:validateRegex&gt;</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.565.1">Validates that the input matches a regular expression pattern specified in the tag’s </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.566.1">pattern</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.567.1"> attribute</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.568.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.569.1">f:validateRequired&gt;</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.570.1">Validates that the input is not empty. </span><span class="koboSpan" id="kobo.570.2">This tag is equivalent to setting the </span><strong class="source-inline"><span class="koboSpan" id="kobo.571.1">required</span></strong><span class="koboSpan" id="kobo.572.1"> attribute to </span><strong class="source-inline"><span class="koboSpan" id="kobo.573.1">true</span></strong><span class="koboSpan" id="kobo.574.1"> in the parent </span><span class="No-Break"><span class="koboSpan" id="kobo.575.1">input field</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.576.1">Table 6.2 – Jakarta Faces validation tags</span></p>
<p><span class="koboSpan" id="kobo.577.1">Notice that in the description for </span><strong class="source-inline"><span class="koboSpan" id="kobo.578.1">&lt;f:validateBean&gt;</span></strong><span class="koboSpan" id="kobo.579.1">, we briefly mentioned </span><strong class="bold"><span class="koboSpan" id="kobo.580.1">Bean Validation</span></strong><span class="koboSpan" id="kobo.581.1">. </span><span class="koboSpan" id="kobo.581.2">The Bean Validation API</span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.582.1"> aims to standardize JavaBean validation. </span><span class="koboSpan" id="kobo.582.2">JavaBeans are used by several other APIs that previously had to implement their own validation logic. </span><span class="koboSpan" id="kobo.582.3">Jakarta Faces leverages Bean Validation to help validate named </span><span class="No-Break"><span class="koboSpan" id="kobo.583.1">bean properties.</span></span></p>
<p><span class="koboSpan" id="kobo.584.1">If we wish to take advantage of Bean Validation, all we need</span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.585.1"> to do is annotate the desired field with the appropriate Bean Validation annotation, without having to explicitly use a Jakarta </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">Faces validator.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.587.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.588.1">For the complete list of Bean Validation annotations, refer to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.589.1">jakarta.validation.constraints</span></strong><span class="koboSpan" id="kobo.590.1"> package</span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.591.1"> in the Jakarta EE 10 API documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.592.1">at </span></span><a href="https://jakarta.ee/specifications/platform/10/apidocs/"><span class="No-Break"><span class="koboSpan" id="kobo.593.1">https://jakarta.ee/specifications/platform/10/apidocs/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.594.1">.</span></span></p>
<h2 id="_idParaDest-81"><a id="_idTextAnchor088"/><span class="koboSpan" id="kobo.595.1">Grouping components</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.596.1">&lt;h:panelGroup&gt;</span></strong><span class="koboSpan" id="kobo.597.1"> is the next new tag</span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.598.1"> in the example. </span><span class="koboSpan" id="kobo.598.2">Typically, </span><strong class="source-inline"><span class="koboSpan" id="kobo.599.1">&lt;h:panelGroup&gt;</span></strong><span class="koboSpan" id="kobo.600.1"> is used to group several</span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.601.1"> components together so that they occupy a single cell in </span><strong class="source-inline"><span class="koboSpan" id="kobo.602.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.603.1">. </span><span class="koboSpan" id="kobo.603.2">This can be accomplished by adding components inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">&lt;h:panelGroup&gt;</span></strong><span class="koboSpan" id="kobo.605.1"> and adding </span><strong class="source-inline"><span class="koboSpan" id="kobo.606.1">&lt;h:panelGroup&gt;</span></strong><span class="koboSpan" id="kobo.607.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.608.1">&lt;h:panelGrid&gt;</span></strong><span class="koboSpan" id="kobo.609.1">. </span><span class="koboSpan" id="kobo.609.2">As can be seen in the example, this particular instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.610.1">&lt;h:panelGroup&gt;</span></strong><span class="koboSpan" id="kobo.611.1"> has no child components. </span><span class="koboSpan" id="kobo.611.2">In this particular case, the purpose of </span><strong class="source-inline"><span class="koboSpan" id="kobo.612.1">&lt;h:panelGroup&gt;</span></strong><span class="koboSpan" id="kobo.613.1"> is to have an empty cell and make the next component, </span><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">&lt;h:commandButton&gt;</span></strong><span class="koboSpan" id="kobo.615.1">, align with all other input fields in </span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">the form.</span></span></p>
<h2 id="_idParaDest-82"><a id="_idTextAnchor089"/><span class="koboSpan" id="kobo.617.1">Form submission</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.618.1">&lt;h:commandButton&gt;</span></strong><span class="koboSpan" id="kobo.619.1"> renders an HTML</span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.620.1"> submit button</span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.621.1"> in the browser. </span><span class="koboSpan" id="kobo.621.2">Just like with standard HTML, its purpose is to submit the form. </span><span class="koboSpan" id="kobo.621.3">Its </span><strong class="source-inline"><span class="koboSpan" id="kobo.622.1">value</span></strong><span class="koboSpan" id="kobo.623.1"> attribute simply sets the button’s label. </span><span class="koboSpan" id="kobo.623.2">This tag’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.624.1">action</span></strong><span class="koboSpan" id="kobo.625.1"> attribute is used for navigation, the next page to show is based</span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.626.1"> on the value of this attribute. </span><span class="koboSpan" id="kobo.626.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">action</span></strong><span class="koboSpan" id="kobo.628.1"> attribute can have a string constant or a </span><strong class="bold"><span class="koboSpan" id="kobo.629.1">method binding expression</span></strong><span class="koboSpan" id="kobo.630.1">, meaning that it can point to a method in a named bean that returns </span><span class="No-Break"><span class="koboSpan" id="kobo.631.1">a string.</span></span></p>
<p><span class="koboSpan" id="kobo.632.1">If the base name of a page in our application matches the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">action</span></strong><span class="koboSpan" id="kobo.634.1"> attribute of a </span><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">&lt;h:commandButton&gt;</span></strong><span class="koboSpan" id="kobo.636.1"> tag, then we navigate to this page when clicking the button. </span><span class="koboSpan" id="kobo.636.2">In our example, our confirmation page is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.637.1">confirmation.xhtml</span></strong><span class="koboSpan" id="kobo.638.1">, therefore by convention, this page will be shown when the button is clicked, since the value of its </span><strong class="source-inline"><span class="koboSpan" id="kobo.639.1">action</span></strong><span class="koboSpan" id="kobo.640.1"> attribute (</span><strong class="source-inline"><span class="koboSpan" id="kobo.641.1">"confirmation"</span></strong><span class="koboSpan" id="kobo.642.1">) matches</span><a id="_idIndexMarker266"/><span class="koboSpan" id="kobo.643.1"> the base name</span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.644.1"> of </span><span class="No-Break"><span class="koboSpan" id="kobo.645.1">the page.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.646.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.647.1">Even though the label for the button reads </span><strong class="bold"><span class="koboSpan" id="kobo.648.1">Save</span></strong><span class="koboSpan" id="kobo.649.1">, in our simple example, clicking on the button won’t actually save </span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">any data.</span></span></p>
<h2 id="_idParaDest-83"><a id="_idTextAnchor090"/><span class="koboSpan" id="kobo.651.1">Named beans</span></h2>
<p><span class="koboSpan" id="kobo.652.1">Jakarta Faces</span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.653.1"> includes tight integration with </span><strong class="bold"><span class="koboSpan" id="kobo.654.1">CDI</span></strong><span class="koboSpan" id="kobo.655.1">. </span><span class="koboSpan" id="kobo.655.2">CDI beans can</span><a id="_idIndexMarker269"/><span class="koboSpan" id="kobo.656.1"> be given a name so that they can be referenced by Jakarta</span><a id="_idIndexMarker270"/><span class="koboSpan" id="kobo.657.1"> Faces pages. </span><span class="koboSpan" id="kobo.657.2">To make a Java class a CDI named bean, all we need to do is make sure the class has a public, no argument constructor (one is created implicitly if there are no other constructors declared, which is the case in our example) and add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.658.1">@Named</span></strong><span class="koboSpan" id="kobo.659.1"> annotation at the class level. </span><span class="koboSpan" id="kobo.659.2">Here is the named bean for </span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">our example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.661.1">
package com.ensode.jakartaeebook.faces;
import jakarta.enterprise.context.RequestScoped;
import jakarta.inject.Named;
</span><strong class="bold"><span class="koboSpan" id="kobo.662.1">@Named</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.663.1">@RequestScoped</span></strong><span class="koboSpan" id="kobo.664.1">
public class Customer {
  private String firstName;
  private String lastName;
  private String email;
  //getters and setters omitted for brevity
}</span></pre> <p><span class="koboSpan" id="kobo.665.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.666.1">@Named</span></strong><span class="koboSpan" id="kobo.667.1"> class annotation designates this bean as a CDI named bean. </span><span class="koboSpan" id="kobo.667.2">This annotation has an optional </span><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">value</span></strong><span class="koboSpan" id="kobo.669.1"> attribute we can use to give our bean a logical name to use in our Jakarta Faces pages. </span><span class="koboSpan" id="kobo.669.2">However, by convention, the value of this attribute is the same as the class name (</span><strong class="source-inline"><span class="koboSpan" id="kobo.670.1">Customer</span></strong><span class="koboSpan" id="kobo.671.1">, in our case), with its first character switched to lowercase. </span><span class="koboSpan" id="kobo.671.2">In our example, we let this default behavior take place, therefore we access our bean’s properties via the </span><strong class="source-inline"><span class="koboSpan" id="kobo.672.1">customer</span></strong><span class="koboSpan" id="kobo.673.1"> logical name. </span><span class="koboSpan" id="kobo.673.2">Notice the </span><strong class="source-inline"><span class="koboSpan" id="kobo.674.1">value</span></strong><span class="koboSpan" id="kobo.675.1"> attribute of any of the input fields in our example page to see this logical name </span><span class="No-Break"><span class="koboSpan" id="kobo.676.1">in action.</span></span></p>
<p><span class="koboSpan" id="kobo.677.1">Notice that, other than the </span><strong class="source-inline"><span class="koboSpan" id="kobo.678.1">@Named</span></strong><span class="koboSpan" id="kobo.679.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.680.1">@RequestScoped</span></strong><span class="koboSpan" id="kobo.681.1"> annotations, there is nothing special about this bean. </span><span class="koboSpan" id="kobo.681.2">It is a standard JavaBean with private properties and corresponding getter and setter methods. </span><span class="koboSpan" id="kobo.681.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.682.1">@RequestScoped</span></strong><span class="koboSpan" id="kobo.683.1"> annotation specifies that the bean should live through a single request. </span><span class="koboSpan" id="kobo.683.2">The different scopes</span><a id="_idIndexMarker271"/><span class="koboSpan" id="kobo.684.1"> available to CDI named beans</span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.685.1"> are covered in the </span><span class="No-Break"><span class="koboSpan" id="kobo.686.1">next section.</span></span></p>
<h3><span class="koboSpan" id="kobo.687.1">Named bean scopes</span></h3>
<p><span class="koboSpan" id="kobo.688.1">Named beans always have</span><a id="_idIndexMarker273"/><span class="koboSpan" id="kobo.689.1"> a scope. </span><span class="koboSpan" id="kobo.689.2">A named bean scope defines the lifespan of the application. </span><span class="koboSpan" id="kobo.689.3">The named bean scope is defined by a class-level annotation. </span><span class="koboSpan" id="kobo.689.4">The following table lists all valid named </span><span class="No-Break"><span class="koboSpan" id="kobo.690.1">bean scopes.</span></span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table003-1">
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.691.1">Named Bean </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.692.1">Scope Annnotation</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.693.1">Description</span></strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.694.1">@</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.695.1">ApplicationScoped</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.696.1">The same instance of application-scoped named beans is available to all of our application’s clients. </span><span class="koboSpan" id="kobo.696.2">If one client modifies the value of an application-scoped named bean, the change is reflected </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">across clients.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">@</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.699.1">SessionScoped</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.700.1">An instance of each session-scoped named bean is assigned to each of our application’s clients. </span><span class="koboSpan" id="kobo.700.2">A session-scoped named bean can be used to hold client-specific data </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">across requests.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.702.1">@</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.703.1">RequestScoped</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.704.1">Request-scoped named beans only live through a single </span><span class="No-Break"><span class="koboSpan" id="kobo.705.1">HTTP request.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.706.1">@</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.707.1">Dependent</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.708.1">Dependent-scoped named beans are assigned the same scope as the bean they are </span><span class="No-Break"><span class="koboSpan" id="kobo.709.1">injected into.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.710.1">@</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.711.1">ConversationScoped</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.712.1">The conversation scope can span multiple requests but is typically shorter than the </span><span class="No-Break"><span class="koboSpan" id="kobo.713.1">session scope.</span></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="source-inline"><span class="koboSpan" id="kobo.714.1">@</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.715.1">ClientWindowScoped</span></strong></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.716.1">Client Window scoped beans are kept in memory until the current web browser window or tab </span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">is closed.</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.718.1">Table 6.3 – CDI scope annotations</span></p>
<p><span class="koboSpan" id="kobo.719.1">Named bean scopes allow us to dictate </span><a id="_idIndexMarker274"/><span class="koboSpan" id="kobo.720.1">the life cycle of CDI named beans. </span><span class="koboSpan" id="kobo.720.2">By using one of the named bean scopes listed in the preceding table, we can control when our named beans are created </span><span class="No-Break"><span class="koboSpan" id="kobo.721.1">and destroyed.</span></span></p>
<h2 id="_idParaDest-84"><a id="_idTextAnchor091"/><span class="koboSpan" id="kobo.722.1">Static navigation</span></h2>
<p><span class="koboSpan" id="kobo.723.1">As can be seen in our input</span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.724.1"> page, when clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.725.1">Save</span></strong><span class="koboSpan" id="kobo.726.1"> button in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.727.1">customer_data_entry.xhtml</span></strong><span class="koboSpan" id="kobo.728.1"> page, our application will navigate to a page called </span><strong class="source-inline"><span class="koboSpan" id="kobo.729.1">confirmation.xhtml</span></strong><span class="koboSpan" id="kobo.730.1">. </span><span class="koboSpan" id="kobo.730.2">This happens because we are taking advantage of the convention over configuration capabilities of Jakarta Faces, in which if the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.731.1">action</span></strong><span class="koboSpan" id="kobo.732.1"> attribute of a command button or link matches the base name of another page, then this navigation takes us to this page. </span><span class="koboSpan" id="kobo.732.2">This behavior</span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.733.1"> is known as static navigation. </span><span class="koboSpan" id="kobo.733.2">Jakarta Faces also supports dynamic navigation, in which the landing page can be determined based on some business logic, we discuss dynamic navigation in the </span><span class="No-Break"><span class="koboSpan" id="kobo.734.1">next section.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.735.1">Same page reloading when clicking on a button or Link that should navigate to another page?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.736.1">If navigation does not seem to be working properly, chances are there is a typo in the value of this attribute. </span><span class="koboSpan" id="kobo.736.2">Remember that by convention, Jakarta Faces will look for a page whose base name matches the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.737.1">action</span></strong><span class="koboSpan" id="kobo.738.1"> attribute of a command button </span><span class="No-Break"><span class="koboSpan" id="kobo.739.1">or link.</span></span></p>
<p><span class="koboSpan" id="kobo.740.1">The source for </span><strong class="source-inline"><span class="koboSpan" id="kobo.741.1">confirmation.xhtml</span></strong><span class="koboSpan" id="kobo.742.1"> looks </span><span class="No-Break"><span class="koboSpan" id="kobo.743.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.744.1">
&lt;!-- XML declaration and doctype omitted --&gt;
&lt;html 
      &gt;
  &lt;h:head&gt;
    &lt;title&gt;Customer Data Entered&lt;/title&gt;
  &lt;/h:head&gt;
  &lt;h:body&gt;
    &lt;h:panelGrid columns="2"
      columnClasses="rightAlign,leftAlign"&gt;
      </span><strong class="bold"><span class="koboSpan" id="kobo.745.1">&lt;h:outputText value="First Name:"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.746.1">      &lt;h:outputText value="#{customer.firstName}"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.747.1">      &lt;h:outputText value="Last Name:"&gt;&lt;/h:outputText&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.748.1">      &lt;h:outputText value="#{customer.lastName}"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.749.1">      &lt;h:outputText value="Email:"/&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.750.1">      &lt;h:outputText value="#{customer.email}"/&gt;</span></strong><span class="koboSpan" id="kobo.751.1">
    &lt;/h:panelGrid&gt;
  &lt;/h:body&gt;
&lt;/html&gt;</span></pre> <p><span class="koboSpan" id="kobo.752.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">&lt;h:outputText&gt;</span></strong><span class="koboSpan" id="kobo.754.1"> we see on the confirmation</span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.755.1"> page is the only tag we haven’t covered </span><a id="_idIndexMarker278"/><span class="koboSpan" id="kobo.756.1">before. </span><span class="koboSpan" id="kobo.756.2">This tag simply displays the value of its value attribute to the rendered page, its </span><strong class="source-inline"><span class="koboSpan" id="kobo.757.1">value</span></strong><span class="koboSpan" id="kobo.758.1"> attribute can be a simple string or a value binding expression. </span><span class="koboSpan" id="kobo.758.2">Since the value binding expressions in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.759.1">&lt;h:outputText&gt;</span></strong><span class="koboSpan" id="kobo.760.1"> tags are the same expressions used in the previous page for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.761.1">&lt;h:inputText&gt;</span></strong><span class="koboSpan" id="kobo.762.1"> tags, their values will correspond to the data the user entered. </span><span class="koboSpan" id="kobo.762.2">We can see how the page is rendered in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.763.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.764.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.765.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer024">
<span class="koboSpan" id="kobo.766.1"><img alt="Figure ﻿﻿6.6 – Example confirmation page" src="image/B21231_6_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.767.1">Figure 6.6 – Example confirmation page</span></p>
<p><span class="koboSpan" id="kobo.768.1">In traditional (i.e. </span><span class="koboSpan" id="kobo.768.2">non-Jakarta Faces) Java web</span><a id="_idIndexMarker279"/><span class="koboSpan" id="kobo.769.1"> applications, we define URL patterns to be processed</span><a id="_idIndexMarker280"/><span class="koboSpan" id="kobo.770.1"> by specific servlets. </span><span class="koboSpan" id="kobo.770.2">Specifically for Jakarta Faces, the suffix </span><strong class="source-inline"><span class="koboSpan" id="kobo.771.1">.faces</span></strong><span class="koboSpan" id="kobo.772.1"> is commonly used. </span><span class="koboSpan" id="kobo.772.2">Another commonly used URL mapping for Faces is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.773.1">/faces</span></strong><span class="koboSpan" id="kobo.774.1"> prefix. </span><span class="koboSpan" id="kobo.774.2">Under certain conditions, modern application servers automatically add all both mappings to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">faces</span></strong><span class="koboSpan" id="kobo.776.1"> servlet. </span><span class="koboSpan" id="kobo.776.2">If these conditions are met, we don’t have to specify any URL mappings </span><span class="No-Break"><span class="koboSpan" id="kobo.777.1">at all.</span></span></p>
<p><span class="koboSpan" id="kobo.778.1">If any of the following conditions is met, then the </span><strong class="source-inline"><span class="koboSpan" id="kobo.779.1">FacesServlet</span></strong><span class="koboSpan" id="kobo.780.1"> will be </span><span class="No-Break"><span class="koboSpan" id="kobo.781.1">automatically mapped:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.782.1">There is a </span><strong class="source-inline"><span class="koboSpan" id="kobo.783.1">faces-config.xml</span></strong><span class="koboSpan" id="kobo.784.1"> file in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.785.1">WEB-INF</span></strong><span class="koboSpan" id="kobo.786.1"> directory of our </span><span class="No-Break"><span class="koboSpan" id="kobo.787.1">web application</span></span></li>
<li><span class="koboSpan" id="kobo.788.1">There is a </span><strong class="source-inline"><span class="koboSpan" id="kobo.789.1">faces-config.xml</span></strong><span class="koboSpan" id="kobo.790.1"> file in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.791.1">META-INF</span></strong><span class="koboSpan" id="kobo.792.1"> directory of one of the dependencies of our </span><span class="No-Break"><span class="koboSpan" id="kobo.793.1">web application</span></span></li>
<li><span class="koboSpan" id="kobo.794.1">There is a filename ending in </span><strong class="source-inline"><span class="koboSpan" id="kobo.795.1">.faces-config.xml</span></strong><span class="koboSpan" id="kobo.796.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.797.1">META-INF</span></strong><span class="koboSpan" id="kobo.798.1"> directory of one of the dependencies of our </span><span class="No-Break"><span class="koboSpan" id="kobo.799.1">web application</span></span></li>
<li><span class="koboSpan" id="kobo.800.1">We declare a context parameter named </span><strong class="source-inline"><span class="koboSpan" id="kobo.801.1">jakarta.faces.CONFIG_FILES</span></strong><span class="koboSpan" id="kobo.802.1"> in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.803.1">web.xml</span></strong><span class="koboSpan" id="kobo.804.1"> or a </span><strong class="source-inline"><span class="koboSpan" id="kobo.805.1">web-fragment.xml  </span></strong><span class="koboSpan" id="kobo.806.1">in one of </span><span class="No-Break"><span class="koboSpan" id="kobo.807.1">the dependencies</span></span></li>
<li><span class="koboSpan" id="kobo.808.1">We pass a non-empty set of classes when invoking the </span><strong class="source-inline"><span class="koboSpan" id="kobo.809.1">onStartup()</span></strong><span class="koboSpan" id="kobo.810.1"> method </span><span class="No-Break"><span class="koboSpan" id="kobo.811.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.812.1">ServletContextInitializer</span></strong></span></li>
</ul>
<p><span class="koboSpan" id="kobo.813.1">When none of these conditions are met, we need to explicitly map the Jakarta Faces servlet in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.814.1">web.xml</span></strong><span class="koboSpan" id="kobo.815.1"> deployment descriptor, as </span><span class="No-Break"><span class="koboSpan" id="kobo.816.1">illustrated here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.817.1">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app 
  
  xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee
  https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd"
  version="6.0"&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;
      jakarta.faces.webapp.FacesServlet
    &lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;
  </span><strong class="bold"><span class="koboSpan" id="kobo.818.1">&lt;servlet-mapping&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.819.1">    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.820.1">    &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.821.1">  &lt;/servlet-mapping&gt;</span></strong><span class="koboSpan" id="kobo.822.1">
&lt;/web-app&gt;</span></pre> <p><span class="koboSpan" id="kobo.823.1">The URL we used for the pages</span><a id="_idIndexMarker281"/><span class="koboSpan" id="kobo.824.1"> in our application was the name</span><a id="_idIndexMarker282"/><span class="koboSpan" id="kobo.825.1"> of our Facelets pages prefixed by </span><strong class="source-inline"><span class="koboSpan" id="kobo.826.1">/faces</span></strong><span class="koboSpan" id="kobo.827.1">. </span><span class="koboSpan" id="kobo.827.2">We specify this in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.828.1">&lt;servlet-mapping&gt;</span></strong><span class="koboSpan" id="kobo.829.1"> tag in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.830.1">web.xml</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.831.1">configuration file.</span></span></p>
<h2 id="_idParaDest-85"><a id="_idTextAnchor092"/><span class="koboSpan" id="kobo.832.1">Dynamic navigation</span></h2>
<p><span class="koboSpan" id="kobo.833.1">In some cases, we may not know</span><a id="_idIndexMarker283"/><span class="koboSpan" id="kobo.834.1"> ahead of time what the next page in the application</span><a id="_idIndexMarker284"/><span class="koboSpan" id="kobo.835.1"> workflow would be, we need to run some business logic to determine what page to display next. </span><span class="koboSpan" id="kobo.835.2">For example, we may want to navigate to a confirmation page if everything went as expected when submitting our data, or we may want to navigate to an error page, or even back to the input page if there was an error processing </span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">the data.</span></span></p>
<p><span class="koboSpan" id="kobo.837.1">The following example illustrates how we can implement dynamic navigation in </span><span class="No-Break"><span class="koboSpan" id="kobo.838.1">Jakarta Faces:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.839.1">
&lt;!-- XML declaration and doctype omitted --&gt;
&lt;html 
      
      &gt;
  &lt;h:head&gt;
    &lt;title&gt;Enter Customer Data&lt;/title&gt;
  &lt;/h:head&gt;
  &lt;h:body&gt;
    &lt;h:outputStylesheet library="css" name="styles.css"/&gt;
    &lt;h:form id="customerForm"&gt;
      &lt;h:messages/&gt;
      &lt;h:panelGrid columns="2"
                   columnClasses="rightAlign,leftAlign"&gt;
        &lt;!- input fields omitted for brevity --&gt;
        </span><strong class="bold"><span class="koboSpan" id="kobo.840.1">&lt;h:commandButton</span></strong><span class="koboSpan" id="kobo.841.1">
          </span><strong class="bold"><span class="koboSpan" id="kobo.842.1">action="#{customerController.saveCustomer()}"</span></strong><span class="koboSpan" id="kobo.843.1">
          </span><strong class="bold"><span class="koboSpan" id="kobo.844.1">value="Save"/&gt;</span></strong><span class="koboSpan" id="kobo.845.1">
      &lt;/h:panelGrid&gt;
    &lt;/h:form&gt;
  &lt;/h:body&gt;
&lt;/html&gt;</span></pre> <p><span class="koboSpan" id="kobo.846.1">To achieve dynamic navigation, we need to modify</span><a id="_idIndexMarker285"/><span class="koboSpan" id="kobo.847.1"> the action attribute of our command </span><a id="_idIndexMarker286"/><span class="koboSpan" id="kobo.848.1">button to be a Jakarta Expression Language method expression, that is, an expression that maps to a method in one of our CDI named beans. </span><span class="koboSpan" id="kobo.848.2">For dynamic navigation, the method in the expression must take no arguments and return a string. </span><span class="koboSpan" id="kobo.848.3">In our example, we are using a method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.849.1">saveCustomer()</span></strong><span class="koboSpan" id="kobo.850.1"> in a CDI named bean named </span><strong class="source-inline"><span class="koboSpan" id="kobo.851.1">customerController</span></strong><span class="koboSpan" id="kobo.852.1">, therefore our expression is </span><strong class="source-inline"><span class="koboSpan" id="kobo.853.1">#{customerController.saveCustomer}</span></strong><span class="koboSpan" id="kobo.854.1">. </span><span class="koboSpan" id="kobo.854.2">We’ll take a look</span><a id="_idIndexMarker287"/><span class="koboSpan" id="kobo.855.1"> at the implementation</span><a id="_idIndexMarker288"/><span class="koboSpan" id="kobo.856.1"> of our </span><strong class="source-inline"><span class="koboSpan" id="kobo.857.1">saveCustomer()</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.858.1">method next:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.859.1">
package com.ensode.jakartaeebook.faces;
//imports omitted for brevity
@Named
@RequestScoped
public class CustomerController {
 //instance variables omitted for brevity
  </span><strong class="bold"><span class="koboSpan" id="kobo.860.1">public String saveCustomer() throws IOException</span></strong><span class="koboSpan" id="kobo.861.1"> {
    </span><strong class="bold"><span class="koboSpan" id="kobo.862.1">String landingPage = "confirmation";</span></strong><span class="koboSpan" id="kobo.863.1">
    String tmpDir = System.getProperty("java.io.tmpdir");
    Path customerFile;
    try {
      customerFile = Path.of(tmpDir, "customer-file.txt");
      if (!Files.exists(customerFile)) {
        customerFile = Files.createFile(Path.of(tmpDir,
                "customer-file.txt"));
      }
      //force an exception every other run
      customerFile.toFile().setWritable(
        !customerFile.toFile().canWrite());
      Files.writeString(customerFile, customer.toString(),
              StandardOpenOption.APPEND);
    } catch (IOException ex) {
      </span><strong class="bold"><span class="koboSpan" id="kobo.864.1">landingPage = "index";</span></strong><span class="koboSpan" id="kobo.865.1">
      FacesMessage facesMessage = new FacesMessage(
              "Error saving customer");
      facesContext.addMessage(null, facesMessage);
    }
    </span><strong class="bold"><span class="koboSpan" id="kobo.866.1">return landingPage;</span></strong><span class="koboSpan" id="kobo.867.1">
  }
}</span></pre> <p><span class="koboSpan" id="kobo.868.1">Our example application adheres to the Model-View-Controller</span><a id="_idIndexMarker289"/><span class="koboSpan" id="kobo.869.1"> design pattern. </span><span class="koboSpan" id="kobo.869.2">Our CDI named bean</span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.870.1"> serves as a controller and decides what page to navigate to when the user submits the form. </span><span class="koboSpan" id="kobo.870.2">If everything goes well, we navigate to the confirmation page as usual. </span><span class="koboSpan" id="kobo.870.3">If there is a problem (an exception is caught), we navigate back to the input page (named </span><strong class="source-inline"><span class="koboSpan" id="kobo.871.1">index.xhtml</span></strong><span class="koboSpan" id="kobo.872.1">) and display an error message to </span><span class="No-Break"><span class="koboSpan" id="kobo.873.1">the user.</span></span></p>
<p><span class="koboSpan" id="kobo.874.1">For illustration purposes, our </span><strong class="source-inline"><span class="koboSpan" id="kobo.875.1">saveCustomer()</span></strong><span class="koboSpan" id="kobo.876.1"> method simply saves the string representation of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.877.1">Customer</span></strong><span class="koboSpan" id="kobo.878.1"> object to a file in the filesystem to force an exception and allow us to illustrate dynamic navigation. </span><span class="koboSpan" id="kobo.878.2">Our code flips the read-only attribute of the file in question (makes it read-only if it is writeable, and vice versa), then attempts to write to the file. </span><span class="koboSpan" id="kobo.878.3">When attempting to write to the file when it is read-only, an exception is thrown and we navigate back to the input page, as illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.879.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.880.1">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.881.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer025">
<span class="koboSpan" id="kobo.882.1"><img alt="Figure ﻿﻿6.7﻿ – Dynamic navigation" src="image/B21231_6_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.883.1">Figure 6.7 – Dynamic navigation</span></p>
<p><span class="koboSpan" id="kobo.884.1">Sometimes we need to provide custom</span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.885.1"> business logic validation or implement validation</span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.886.1"> rules not included with the standard Jakarta Faces validators. </span><span class="koboSpan" id="kobo.886.2">In cases like this, we can take advantage of Jakarta Faces custom </span><span class="No-Break"><span class="koboSpan" id="kobo.887.1">validation functionality.</span></span></p>
<h1 id="_idParaDest-86"><a id="_idTextAnchor093"/><span class="koboSpan" id="kobo.888.1">Custom data validation</span></h1>
<p><span class="koboSpan" id="kobo.889.1">In addition to providing standard validators</span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.890.1"> for our use, Jakarta Faces allows us to create custom validators. </span><span class="koboSpan" id="kobo.890.2">This can be done in one of two ways: by creating a custom validator class or by adding validation methods to our </span><span class="No-Break"><span class="koboSpan" id="kobo.891.1">named beans.</span></span></p>
<h2 id="_idParaDest-87"><a id="_idTextAnchor094"/><span class="koboSpan" id="kobo.892.1">Creating custom validators</span></h2>
<p><span class="koboSpan" id="kobo.893.1">In addition to the standard </span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.894.1">validators, Jakarta Faces allows us to create custom validators by creating a Java class implementing the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.895.1">jakarta.faces.validator.Validator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.896.1"> interface.</span></span></p>
<p><span class="koboSpan" id="kobo.897.1">The following class implements an email validator, which we will use to validate the email text input field in our customer data </span><span class="No-Break"><span class="koboSpan" id="kobo.898.1">entry screen:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.899.1">
package com.ensode.jakartaeebook.facescustomval;
//imports ommitted for brevity
@FacesValidator(value = "emailValidator")
public class EmailAddressValidator implements Validator {
  @Override
  </span><strong class="bold"><span class="koboSpan" id="kobo.900.1">public void validate(FacesContext facesContext,</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.901.1">          UIComponent uiComponent,</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.902.1">          Object value) throws ValidatorException</span></strong><span class="koboSpan" id="kobo.903.1"> {
    EmailValidator emailValidator =
      EmailValidator.getInstance();
    HtmlInputText htmlInputText =
      (HtmlInputText) uiComponent;
    String emailAddress = (String) value;
    if (!StringUtils.isEmpty(emailAddress)) {
      if (!emailValidator.isValid(emailAddress)) {
        FacesMessage facesMessage =
          new FacesMessage(htmlInputText.getLabel()
          + ": email format is not valid");
        throw new ValidatorException(facesMessage);
      }
    }
  }
}</span></pre> <p><span class="koboSpan" id="kobo.904.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.905.1">@FacesValidator</span></strong><span class="koboSpan" id="kobo.906.1"> annotation registers </span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.907.1">our class as a Jakarta Faces custom validator class. </span><span class="koboSpan" id="kobo.907.2">The value of its </span><strong class="source-inline"><span class="koboSpan" id="kobo.908.1">value</span></strong><span class="koboSpan" id="kobo.909.1"> attribute is the logical name that Facelets’ pages use to refer </span><span class="No-Break"><span class="koboSpan" id="kobo.910.1">to it.</span></span></p>
<p><span class="koboSpan" id="kobo.911.1">As can be seen in the example, the only method we need to implement when implementing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.912.1">Validator</span></strong><span class="koboSpan" id="kobo.913.1"> interface is a method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.914.1">validate()</span></strong><span class="koboSpan" id="kobo.915.1">. </span><span class="koboSpan" id="kobo.915.2">This method takes three parameters, an instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.916.1">jakarta.faces.context.FacesContext</span></strong><span class="koboSpan" id="kobo.917.1">, an instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.918.1">jakarta.faces.component.UIComponent</span></strong><span class="koboSpan" id="kobo.919.1"> and an object. </span><span class="koboSpan" id="kobo.919.2">Typically, application developers only need to be concerned with the last two. </span><span class="koboSpan" id="kobo.919.3">The second parameter is the component whose data we are validating and the third parameter is the actual value. </span><span class="koboSpan" id="kobo.919.4">In our example validator, we cast </span><strong class="source-inline"><span class="koboSpan" id="kobo.920.1">uiComponent</span></strong><span class="koboSpan" id="kobo.921.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.922.1">jakarta.faces.component.html.HtmlInputText</span></strong><span class="koboSpan" id="kobo.923.1">. </span><span class="koboSpan" id="kobo.923.2">This way, we get access to its </span><strong class="source-inline"><span class="koboSpan" id="kobo.924.1">getLabel()</span></strong><span class="koboSpan" id="kobo.925.1"> method, which we can use as part of the </span><span class="No-Break"><span class="koboSpan" id="kobo.926.1">error message.</span></span></p>
<p><span class="koboSpan" id="kobo.927.1">If the entered value is not a valid email address format, a new instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.928.1">jakarta.faces.application.FacesMessage</span></strong><span class="koboSpan" id="kobo.929.1"> is created, passing the error message to be displayed in the browser as its constructor parameter. </span><span class="koboSpan" id="kobo.929.2">We then throw a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.930.1">jakarta.faces.validator.ValidatorException</span></strong><span class="koboSpan" id="kobo.931.1">. </span><span class="koboSpan" id="kobo.931.2">The error message is then displayed in the browser. </span><span class="koboSpan" id="kobo.931.3">How it gets there is done behind the scenes by the Jakarta </span><span class="No-Break"><span class="koboSpan" id="kobo.932.1">Faces API.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.933.1">Apache Commons Validator</span></p>
<p class="callout"><span class="koboSpan" id="kobo.934.1">Our custom validator uses </span><strong class="bold"><span class="koboSpan" id="kobo.935.1">Apache Commons Validator</span></strong><span class="koboSpan" id="kobo.936.1"> to do the actual validation. </span><span class="koboSpan" id="kobo.936.2">This library includes many common</span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.937.1"> validations, such as dates, credit card numbers, ISBN numbers, and emails. </span><span class="koboSpan" id="kobo.937.2">When implementing a custom validator, it is worth investigating if this library already has a validator that we </span><span class="No-Break"><span class="koboSpan" id="kobo.938.1">can use.</span></span></p>
<p><span class="koboSpan" id="kobo.939.1">In order to use our validator on our page, we need to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.940.1">&lt;f:validator&gt;</span></strong><span class="koboSpan" id="kobo.941.1"> tag in our Facelets pages, nested inside the field we wish to validate. </span><span class="koboSpan" id="kobo.941.2">The following code snippet illustrates the changes we had to make to our email input field to incorporate our </span><span class="No-Break"><span class="koboSpan" id="kobo.942.1">custom validator.:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.943.1">
&lt;h:inputText label="Email" value="#{customer.email}"&gt;
</span><strong class="bold"><span class="koboSpan" id="kobo.944.1">  &lt;f:validator validatorId="emailValidator" /&gt;</span></strong><span class="koboSpan" id="kobo.945.1">
&lt;/h:inputText&gt;</span></pre> <p><span class="koboSpan" id="kobo.946.1">In order to validate our email input</span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.947.1"> field, we added an </span><strong class="source-inline"><span class="koboSpan" id="kobo.948.1">&lt;f:validator&gt;</span></strong><span class="koboSpan" id="kobo.949.1"> tag nested inside its markup. </span><span class="koboSpan" id="kobo.949.2">Notice that the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.950.1">validatorId</span></strong><span class="koboSpan" id="kobo.951.1"> attribute of </span><strong class="source-inline"><span class="koboSpan" id="kobo.952.1">&lt;f:validator&gt;</span></strong><span class="koboSpan" id="kobo.953.1"> matches the value we used in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.954.1">@FacesValidator</span></strong><span class="koboSpan" id="kobo.955.1"> annotation in our custom </span><span class="No-Break"><span class="koboSpan" id="kobo.956.1">email validator.</span></span></p>
<p><span class="koboSpan" id="kobo.957.1">After writing our custom validator and modifying our page to take advantage of it, we can see our validator in action, as illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.958.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.959.1">.8</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.960.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer026">
<span class="koboSpan" id="kobo.961.1"><img alt="Figure ﻿﻿6.8 – Custom Jakarta Faces validator in action" src="image/B21231_6_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.962.1">Figure 6.8 – Custom Jakarta Faces validator in action</span></p>
<p><span class="koboSpan" id="kobo.963.1">Now that we’ve seen how to write custom</span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.964.1"> validators, we will focus our attention to the other way we can implement custom validation in Jakarta Faces, by writing </span><span class="No-Break"><span class="koboSpan" id="kobo.965.1">validator methods.</span></span></p>
<h2 id="_idParaDest-88"><a id="_idTextAnchor095"/><span class="koboSpan" id="kobo.966.1">Validator methods</span></h2>
<p><span class="koboSpan" id="kobo.967.1">Another way we can implement</span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.968.1"> custom validation is by adding validation methods</span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.969.1"> to one or more of the application’s named beans. </span><span class="koboSpan" id="kobo.969.2">The following Java class illustrates the use of validator methods for </span><span class="No-Break"><span class="koboSpan" id="kobo.970.1">Faces validation:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.971.1">
package com.ensode.jakartaeebook.facescustomval;
//imports omitted for brevity
@Named
@RequestScoped
public class AlphaValidator {
  </span><strong class="bold"><span class="koboSpan" id="kobo.972.1">public void validateAlpha(FacesContext facesContext,</span></strong><span class="koboSpan" id="kobo.973.1">
    </span><strong class="bold"><span class="koboSpan" id="kobo.974.1">UIComponent uiComponent,</span></strong><span class="koboSpan" id="kobo.975.1">
    </span><strong class="bold"><span class="koboSpan" id="kobo.976.1">Object value) throws ValidatorException</span></strong><span class="koboSpan" id="kobo.977.1"> {
    if (!StringUtils.isAlphaSpace((String) value)) {
      HtmlInputText htmlInputText =
        (HtmlInputText) uiComponent;
      FacesMessage facesMessage =
        new FacesMessage(htmlInputText.
</span><span class="koboSpan" id="kobo.977.2">        getLabel()
        + ": only alphabetic characters are allowed.");
      throw new ValidatorException(facesMessage);
    }
  }
}</span></pre> <p><span class="koboSpan" id="kobo.978.1">In this example, the class contains only the validator method, but that does not always have to be the case. </span><span class="koboSpan" id="kobo.978.2">We can give our validator method any name we want, but its return value must be void, and it must take the three parameters illustrated in the example, in that order. </span><span class="koboSpan" id="kobo.978.3">In other words, except for the method name, the signature of a validator method must be identical to the signature of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.979.1">validate()</span></strong><span class="koboSpan" id="kobo.980.1"> method defined in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.981.1">jakarta.faces.validator.Validator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.982.1"> interface.</span></span></p>
<p><span class="koboSpan" id="kobo.983.1">As we can see, the body of the preceding validator</span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.984.1"> method is nearly identical to the body</span><a id="_idIndexMarker302"/><span class="koboSpan" id="kobo.985.1"> of our custom validator’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.986.1">validate()</span></strong><span class="koboSpan" id="kobo.987.1"> method. </span><span class="koboSpan" id="kobo.987.2">We check the value entered by the user to make sure it contains only alphabetic characters and/or spaces. </span><span class="koboSpan" id="kobo.987.3">If it doesn’t, then we throw a </span><strong class="source-inline"><span class="koboSpan" id="kobo.988.1">ValidatorException</span></strong><span class="koboSpan" id="kobo.989.1"> passing an instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.990.1">FacesMessage</span></strong><span class="koboSpan" id="kobo.991.1"> containing an appropriate error </span><span class="No-Break"><span class="koboSpan" id="kobo.992.1">message string.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.993.1">StringUtils</span></p>
<p class="callout"><span class="koboSpan" id="kobo.994.1">In the example, we used </span><strong class="source-inline"><span class="koboSpan" id="kobo.995.1">org.apache.commons.lang3.StringUtils</span></strong><span class="koboSpan" id="kobo.996.1"> to perform the actual validation logic. </span><span class="koboSpan" id="kobo.996.2">In addition to the method used in the example, this class contains several methods for verifying that a </span><strong class="source-inline"><span class="koboSpan" id="kobo.997.1">string</span></strong><span class="koboSpan" id="kobo.998.1"> is numeric or alphanumeric. </span><span class="koboSpan" id="kobo.998.2">This class, part of the Apache Commons Lang library, is very useful when writing </span><span class="No-Break"><span class="koboSpan" id="kobo.999.1">custom validators.</span></span></p>
<p><span class="koboSpan" id="kobo.1000.1">Since every validator method must be in a named bean, we need to make sure the class containing our validator method is annotated with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1001.1">@Named</span></strong><span class="koboSpan" id="kobo.1002.1"> annotation, as illustrated in </span><span class="No-Break"><span class="koboSpan" id="kobo.1003.1">our example.</span></span></p>
<p><span class="koboSpan" id="kobo.1004.1">The last thing we need to do to use our validator method is to bind it to our component via the tag’s </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1005.1">validator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1006.1"> attribute:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1007.1">
&lt;h:outputText value="First Name:"/&gt;
&lt;h:inputText label="First Name"
  value="#{customer.firstName}"
  required="true"
  </span><strong class="bold"><span class="koboSpan" id="kobo.1008.1">validator="#{alphaValidator.validateAlpha}"</span></strong><span class="koboSpan" id="kobo.1009.1">&gt;
  &lt;f:validateLength minimum="2" maximum="30"/&gt;
&lt;/h:inputText&gt;
&lt;h:outputText value="Last Name:"/&gt;
&lt;h:inputText label="Last Name"
  value="#{customer.lastName}"
  required="true"
  </span><strong class="bold"><span class="koboSpan" id="kobo.1010.1">validator="#{alphaValidator.validateAlpha}"</span></strong><span class="koboSpan" id="kobo.1011.1">&gt;
  &lt;f:validateLength minimum="2" maximum="30"/&gt;
&lt;/h:inputText&gt;</span></pre> <p><span class="koboSpan" id="kobo.1012.1">Since neither the first name nor the last name</span><a id="_idIndexMarker303"/><span class="koboSpan" id="kobo.1013.1"> fields should accept anything other than alphabetic</span><a id="_idIndexMarker304"/><span class="koboSpan" id="kobo.1014.1"> characters or spaces, we added our custom validator method to both of </span><span class="No-Break"><span class="koboSpan" id="kobo.1015.1">these fields.</span></span></p>
<p><span class="koboSpan" id="kobo.1016.1">Notice that the value of the validator attribute of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1017.1">&lt;h:inputText&gt;</span></strong><span class="koboSpan" id="kobo.1018.1"> tag is an expression written in the Jakarta expression language, it uses the default named bean name for the bean containing our validation method.  </span><strong class="source-inline"><span class="koboSpan" id="kobo.1019.1">alphaValidator</span></strong><span class="koboSpan" id="kobo.1020.1"> is the name of our bean, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1021.1">validateAlpha</span></strong><span class="koboSpan" id="kobo.1022.1"> is the name of our </span><span class="No-Break"><span class="koboSpan" id="kobo.1023.1">validator method.</span></span></p>
<p><span class="koboSpan" id="kobo.1024.1">After modifying our page to use our custom validator, we can now see it in action, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1025.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1026.1">.9</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1027.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer027">
<span class="koboSpan" id="kobo.1028.1"><img alt="Figure ﻿﻿6.9 – Custom validation via validator methods" src="image/B21231_6_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1029.1">Figure 6.9 – Custom validation via validator methods</span></p>
<p><span class="koboSpan" id="kobo.1030.1">Notice how for the </span><strong class="bold"><span class="koboSpan" id="kobo.1031.1">First Name</span></strong><span class="koboSpan" id="kobo.1032.1"> field, both our custom validator message and the standard length validator </span><span class="No-Break"><span class="koboSpan" id="kobo.1033.1">were executed.</span></span></p>
<p><span class="koboSpan" id="kobo.1034.1">Implementing validator methods has the advantage of not having the overhead of creating a whole class just for a single validator method (our example does just that, but in many cases, validator methods are added to an existing named bean containing other methods). </span><span class="koboSpan" id="kobo.1034.2">However, the disadvantage is that each component can only be validated by a single validator method. </span><span class="koboSpan" id="kobo.1034.3">When using validator classes, several </span><strong class="source-inline"><span class="koboSpan" id="kobo.1035.1">&lt;f:validator&gt;</span></strong><span class="koboSpan" id="kobo.1036.1"> tags can be nested inside the tag to be validated, therefore multiple validations, both custom and standard, can be done on </span><span class="No-Break"><span class="koboSpan" id="kobo.1037.1">the field.</span></span></p>
<p><span class="koboSpan" id="kobo.1038.1">Now that we’ve seen how to create our own custom</span><a id="_idIndexMarker305"/><span class="koboSpan" id="kobo.1039.1"> validation, we’ll see how we can customize</span><a id="_idIndexMarker306"/><span class="koboSpan" id="kobo.1040.1"> our Jakarta Faces validation messages, we’ll see how we can change how they are formatted (font, color, etc.), and how to customize error message text for standard Jakarta </span><span class="No-Break"><span class="koboSpan" id="kobo.1041.1">Faces validators.</span></span></p>
<h1 id="_idParaDest-89"><a id="_idTextAnchor096"/><span class="koboSpan" id="kobo.1042.1">Customizing default messages</span></h1>
<p><span class="koboSpan" id="kobo.1043.1">As we mentioned earlier, it is possible</span><a id="_idIndexMarker307"/><span class="koboSpan" id="kobo.1044.1"> to customize the style (font, color, text, etc.) of Jakarta Faces default validation messages.  </span><span class="koboSpan" id="kobo.1044.2">Additionally, it is possible to modify the text of the default Jakarta Faces validation messages. </span><span class="koboSpan" id="kobo.1044.3">In the following sections, we will explain how to modify error message formatting </span><span class="No-Break"><span class="koboSpan" id="kobo.1045.1">and text.</span></span></p>
<h2 id="_idParaDest-90"><a id="_idTextAnchor097"/><span class="koboSpan" id="kobo.1046.1">Customizing message styles</span></h2>
<p><span class="koboSpan" id="kobo.1047.1">Customizing message styles</span><a id="_idIndexMarker308"/><span class="koboSpan" id="kobo.1048.1"> can be done with </span><strong class="bold"><span class="koboSpan" id="kobo.1049.1">Cascading Style Sheets</span></strong><span class="koboSpan" id="kobo.1050.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1051.1">CSS</span></strong><span class="koboSpan" id="kobo.1052.1">). </span><span class="koboSpan" id="kobo.1052.2">This can be accomplished</span><a id="_idIndexMarker309"/><span class="koboSpan" id="kobo.1053.1"> by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1054.1">&lt;h:message&gt;</span></strong> <strong class="source-inline"><span class="koboSpan" id="kobo.1055.1">style</span></strong><span class="koboSpan" id="kobo.1056.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1057.1">styleClass</span></strong><span class="koboSpan" id="kobo.1058.1"> attributes. </span><span class="koboSpan" id="kobo.1058.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1059.1">style</span></strong><span class="koboSpan" id="kobo.1060.1"> attribute is used when we want to declare the CSS style inline. </span><span class="koboSpan" id="kobo.1060.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1061.1">styleClass</span></strong><span class="koboSpan" id="kobo.1062.1"> attribute is used when we want to use a predefined style in a CSS style sheet or inside a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1063.1">&lt;style&gt;</span></strong><span class="koboSpan" id="kobo.1064.1"> tag on </span><span class="No-Break"><span class="koboSpan" id="kobo.1065.1">our page.</span></span></p>
<p><span class="koboSpan" id="kobo.1066.1">The following </span><strong class="source-inline"><span class="koboSpan" id="kobo.1067.1">markup</span></strong><span class="koboSpan" id="kobo.1068.1"> illustrates using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1069.1">styleClass</span></strong><span class="koboSpan" id="kobo.1070.1"> attribute to alter the style of error messages. </span><span class="koboSpan" id="kobo.1070.2">It is a modified version of the input page we saw in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1071.1">previous section.</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1072.1">
  &lt;h:body&gt;
    &lt;h:outputStylesheet library="css" name="styles.css" /&gt;
    &lt;h:form&gt;
      &lt;h:messages styleClass="errorMsg"/&gt;
      &lt;!-- additional markup omitted for brevity →
    &lt;/h:form&gt;
  &lt;/h:body&gt;
&lt;/html&gt;</span></pre> <p><span class="koboSpan" id="kobo.1073.1">The only difference between this page and the previous one is the use of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1074.1">styleClass</span></strong><span class="koboSpan" id="kobo.1075.1"> attribute of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1076.1">&lt;h:messages&gt;</span></strong><span class="koboSpan" id="kobo.1077.1"> tag. </span><span class="koboSpan" id="kobo.1077.2">As we mentioned earlier, the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1078.1">styleClass</span></strong><span class="koboSpan" id="kobo.1079.1"> attribute must match the name of a CSS style defined in a cascading stylesheet that our page has </span><span class="No-Break"><span class="koboSpan" id="kobo.1080.1">access to.</span></span></p>
<p><span class="koboSpan" id="kobo.1081.1">In our case, we defined a CSS style for messages </span><span class="No-Break"><span class="koboSpan" id="kobo.1082.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1083.1">
.errorMsg {
  color: red;
}</span></pre> <p><span class="koboSpan" id="kobo.1084.1">Then used this style as the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1085.1">styleClass</span></strong><span class="koboSpan" id="kobo.1086.1"> attribute of our </span><strong class="source-inline"><span class="koboSpan" id="kobo.1087.1">&lt;</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1088.1">h:messages&gt;</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1089.1"> tag.</span></span></p>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1090.1">Figure 6</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1091.1">.10</span></em><span class="koboSpan" id="kobo.1092.1"> illustrates how the validation error messages look after implementing </span><span class="No-Break"><span class="koboSpan" id="kobo.1093.1">this change.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer028">
<span class="koboSpan" id="kobo.1094.1"><img alt="Figure ﻿﻿6.10﻿ – Custom styles for validation messages" src="image/B21231_6_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1095.1">Figure 6.10 – Custom styles for validation messages</span></p>
<p><span class="koboSpan" id="kobo.1096.1">In this particular case, we just set the color of the error message text to red, but we are only limited by CSS capabilities in setting the style</span><a id="_idIndexMarker310"/><span class="koboSpan" id="kobo.1097.1"> of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1098.1">error messages.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1099.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1100.1">Pretty much any standard Jakarta Faces component has both a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1101.1">style</span></strong><span class="koboSpan" id="kobo.1102.1"> and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1103.1">styleClass</span></strong><span class="koboSpan" id="kobo.1104.1"> attribute that can be used to alter its style. </span><span class="koboSpan" id="kobo.1104.2">The former is used for predefined CSS styles, the latter is used for </span><span class="No-Break"><span class="koboSpan" id="kobo.1105.1">inline CSS.</span></span></p>
<h2 id="_idParaDest-91"><a id="_idTextAnchor098"/><span class="koboSpan" id="kobo.1106.1">Customizing message text</span></h2>
<p><span class="koboSpan" id="kobo.1107.1">Sometimes it is desirable to override</span><a id="_idIndexMarker311"/><span class="koboSpan" id="kobo.1108.1"> the text of Jakarta Faces default validation messages.  </span><span class="koboSpan" id="kobo.1108.2">Default validation messages are defined in a resource bundle called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1109.1">Messages.properties</span></strong><span class="koboSpan" id="kobo.1110.1">. </span><span class="koboSpan" id="kobo.1110.2">This file can typically be found inside one of the Faces JAR files included with your application server. </span><span class="koboSpan" id="kobo.1110.3">For example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1111.1">GlassFish</span></strong><span class="koboSpan" id="kobo.1112.1"> includes it inside a JAR file called  </span><strong class="source-inline"><span class="koboSpan" id="kobo.1113.1">jakarta.faces.jar</span></strong><span class="koboSpan" id="kobo.1114.1"> file under </span><strong class="source-inline"><span class="koboSpan" id="kobo.1115.1">[glassfish installation directory]/glassfish/modules</span></strong><span class="koboSpan" id="kobo.1116.1">. </span><span class="koboSpan" id="kobo.1116.2">The file contains several messages; we are only interested in validation errors at this point. </span><span class="koboSpan" id="kobo.1116.3">The default validation error messages are defined </span><span class="No-Break"><span class="koboSpan" id="kobo.1117.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1118.1">
jakarta.faces.validator.DoubleRangeValidator.MAXIMUM={1}: Validation Error: Value is greater than allowable maximum of "{0}"
jakarta.faces.validator.DoubleRangeValidator.MINIMUM={1}: Validation Error: Value is less than allowable minimum of ''{0}''
jakarta.faces.validator.DoubleRangeValidator.NOT_IN_RANGE={2}: Validation Error: Specified attribute is not between the expected values of {0} and {1}.
</span><span class="koboSpan" id="kobo.1118.2">jakarta.faces.validator.DoubleRangeValidator.TYPE={0}: Validation Error: Value is not of the correct type
jakarta.faces.validator.LengthValidator.MAXIMUM={1}: Validation Error: Length is greater than allowable maximum of ''{0}''
jakarta.faces.validator.LengthValidator.MINIMUM={1}: Validation Error: Length is less than allowable minimum of ''{0}''
jakarta.faces.validator.LongRangeValidator.MAXIMUM={1}: Validation Error: Value is greater than allowable maximum of ''{0}''
jakarta.faces.validator.LongRangeValidator.MINIMUM={1}: Validation Error: Value is less than allowable minimum of ''{0}''
jakarta.faces.validator.LongRangeValidator.NOT_IN_RANGE={2}: Validation Error: Specified attribute is not between the expected values of {0} and {1}.
</span><span class="koboSpan" id="kobo.1118.3">jakarta.faces.validator.LongRangeValidator.TYPE={0}: Validation Error: Value is not of the correct type.
</span><span class="koboSpan" id="kobo.1118.4">jakarta.faces.validator.NOT_IN_RANGE=Validation Error: Specified attribute is not between the expected values of {0} and {1}.
</span><span class="koboSpan" id="kobo.1118.5">jakarta.faces.validator.RegexValidator.PATTERN_NOT_SET=Regex pattern must be set.
</span><span class="koboSpan" id="kobo.1118.6">jakarta.faces.validator.RegexValidator.PATTERN_NOT_SET_detail=Regex pattern must be set to non-empty value.
</span><span class="koboSpan" id="kobo.1118.7">jakarta.faces.validator.RegexValidator.NOT_MATCHED=Regex Pattern not matched
jakarta.faces.validator.RegexValidator.NOT_MATCHED_detail=Regex pattern of ''{0}'' not matched
jakarta.faces.validator.RegexValidator.MATCH_EXCEPTION=Error in regular expression.
</span><span class="koboSpan" id="kobo.1118.8">jakarta.faces.validator.RegexValidator.MATCH_EXCEPTION_detail=Error in regular expression, ''{0}''
jakarta.faces.validator.BeanValidator.MESSAGE={0}</span></pre> <p><span class="koboSpan" id="kobo.1119.1">In order to override the default error</span><a id="_idIndexMarker312"/><span class="koboSpan" id="kobo.1120.1"> messages, we need to create our own resource bundle using the same keys used in the default one, but altering the values to suit our needs. </span><span class="koboSpan" id="kobo.1120.2">Here is a very simple customized resource bundle for our application. </span><span class="koboSpan" id="kobo.1120.3">For example, to overwrite the message for minimum length validation, we would add the following property to our custom </span><span class="No-Break"><span class="koboSpan" id="kobo.1121.1">resource bundle:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1122.1">
jakarta.faces.validator.LengthValidator.MINIMUM={1}: minimum allowed length is ''{0}''</span></pre> <p><span class="koboSpan" id="kobo.1123.1">In this resource bundle, we override the error message for when the value entered for a field validated by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1124.1">&lt;f:validateLength&gt;</span></strong><span class="koboSpan" id="kobo.1125.1"> tag is less than the allowed minimum. </span><span class="koboSpan" id="kobo.1125.2">In order to let our application know that we have a custom resource bundle for message properties, we need to modify the application’s </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1126.1">faces-config.xml</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1127.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1128.1">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;faces-config version="4.0"
  
  
  xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee
  https://jakarta.ee/xml/ns/jakartaee/web-facesconfig_4_0.xsd"&gt;
  &lt;application&gt;
</span><strong class="bold"><span class="koboSpan" id="kobo.1129.1">    &lt;message-bundle&gt;com.ensode.Messages&lt;/message-bundle&gt;</span></strong><span class="koboSpan" id="kobo.1130.1">
  &lt;/application&gt;
&lt;/faces-config&gt;</span></pre> <p><span class="koboSpan" id="kobo.1131.1">As we can see, the only thing we need to do to the application’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.1132.1">faces-config.xml</span></strong><span class="koboSpan" id="kobo.1133.1"> file is to add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1134.1">&lt;message-bundle&gt;</span></strong><span class="koboSpan" id="kobo.1135.1"> element indicating the name and location of the resource bundle containing our </span><span class="No-Break"><span class="koboSpan" id="kobo.1136.1">custom messages.</span></span></p>
<p><span class="koboSpan" id="kobo.1137.1">After adding our custom message resource</span><a id="_idIndexMarker313"/><span class="koboSpan" id="kobo.1138.1"> bundle and modifying </span><span class="No-Break"><span class="koboSpan" id="kobo.1139.1">the application’s</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.1140.1">faces-config.xml</span></strong><span class="koboSpan" id="kobo.1141.1"> file, we can see our custom validation message in action, as illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1142.1">Figure 6</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1143.1">.11</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1144.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer029">
<span class="koboSpan" id="kobo.1145.1"><img alt="Figure ﻿﻿6.11 – Custom validation error message" src="image/B21231_6_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1146.1">Figure 6.11 – Custom validation error message</span></p>
<p><span class="koboSpan" id="kobo.1147.1">If we haven’t overridden a validation message, the default will still be displayed. </span><span class="koboSpan" id="kobo.1147.2">In our resource bundle, we only overrode the minimum length validation error message, therefore our custom error message is shown for the </span><strong class="bold"><span class="koboSpan" id="kobo.1148.1">First Name</span></strong><span class="koboSpan" id="kobo.1149.1"> text field. </span><span class="koboSpan" id="kobo.1149.2">Since we didn’t override the error message for the other standard Jakarta Faces validators, the default error message is shown for each one of them. </span><span class="koboSpan" id="kobo.1149.3">The email validator is the custom validator</span><a id="_idIndexMarker314"/><span class="koboSpan" id="kobo.1150.1"> we developed previously in this chapter, since it is a custom validator its error message is </span><span class="No-Break"><span class="koboSpan" id="kobo.1151.1">not affected.</span></span></p>
<h1 id="_idParaDest-92"><a id="_idTextAnchor099"/><span class="koboSpan" id="kobo.1152.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1153.1">In this chapter, we covered how to develop web-based applications using Jakarta Faces, the standard component framework for the </span><span class="No-Break"><span class="koboSpan" id="kobo.1154.1">Jakarta EE.</span></span></p>
<p><span class="koboSpan" id="kobo.1155.1">In this chapter, we covered how to write a simple application by creating pages using Facelets as the view technology and CDI named beans. </span><span class="koboSpan" id="kobo.1155.2">We saw how to implement static and dynamic navigation with Jakarta Faces. </span><span class="koboSpan" id="kobo.1155.3">We also covered how to validate user input by using Faces standard validators and by creating our own custom validators or by writing validator methods. </span><span class="koboSpan" id="kobo.1155.4">Additionally, we covered how to customize standard Faces error messages, both the message text and the message style (font, </span><span class="No-Break"><span class="koboSpan" id="kobo.1156.1">color, etc).</span></span></p>
<p><span class="koboSpan" id="kobo.1157.1">Jakarta Faces’ tight integration with CDI allows us to efficiently develop web-based interfaces for our Jakarta </span><span class="No-Break"><span class="koboSpan" id="kobo.1158.1">EE applications.</span></span></p>
</div>
</body></html>