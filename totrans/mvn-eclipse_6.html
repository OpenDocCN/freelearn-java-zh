<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;6.&#xA0;Creating a Multimodule Project"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06" class="calibre1"/>Chapter 6. Creating a Multimodule Project</h1></div></div></div><p class="calibre7">Now that we have already launched the rocket, let's explore more of it. In this chapter, we will develop a <code class="email">MyDistance</code> application from the previous chapter as a multimodule Maven project and learn how to create multimodule projects, build, and run them. The topics covered in this chapter are as follows:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Introduction</li><li class="listitem">Creating a parent project—POM</li><li class="listitem">Creating a core module</li><li class="listitem">Creating a webapp module</li><li class="listitem">Building a multimodule project</li></ul></div></div>

<div class="book" title="Chapter&#xA0;6.&#xA0;Creating a Multimodule Project">
<div class="book" title="Introduction"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch06lvl1sec44" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre7">Software architecture states modularity as the degree to which a system's components may be separated and recombined. In software engineering, modularity refers to the extent to which a software/application can be divided into multiple modules to achieve the business goal. Modularity enhances manageability and reusability. The growing days has seen software getting more complex, and modularity is the need of the hour.</p><p class="calibre7">Multimodule projects<a id="id345" class="calibre1"/> consist of many modules that adapt to modularity. A multimodule project is identified by a parent/master POM referencing one or more <code class="email">.sub</code> modules.</p><p class="calibre7">A multimodule project constitutes of the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre8">Parent project POM</strong></span>: This <a id="id346" class="calibre1"/>glues and references all the other <a id="id347" class="calibre1"/>modules of a project</li><li class="listitem"><span class="strong"><strong class="calibre8">Modules</strong></span>: This includes <a id="id348" class="calibre1"/>submodules that serve different functions of<a id="id349" class="calibre1"/> the application and constitute the application</li></ul></div><p class="calibre7">Parent POM<a id="id350" class="calibre1"/> is where you can put common <a id="id351" class="calibre1"/>dependencies in a single place and let other modules inherit it, that is, POM inheritance in modules. Usually, universal dependencies such as JUnit or log4j are the candidates of POM inheritance.</p><p class="calibre7">The mechanism by which Maven handles multimodule projects is referred to as <span class="strong"><strong class="calibre8">reactor</strong></span>. The reactor of Maven's core <a id="id352" class="calibre1"/>has the following functions:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Collects all the modules to build</li><li class="listitem">Sorts the projects (modules) into the current build order</li><li class="listitem">Builds the sorted projects in order</li></ul></div><p class="calibre7">The modules of the project are enclosed inside the <code class="email">&lt;modules&gt; &lt;/modules&gt;</code> tag by specifying each module with the <code class="email">&lt;module&gt; &lt;/module&gt;</code> tag. Similarly, the parents are enclosed inside the <code class="email">&lt;parent&gt; &lt;/parent&gt;</code> tag by specifying Maven coordinates.</p><p class="calibre7">Now, for illustration, we will take the <code class="email">MyDistance</code> application from <a class="calibre1" title="Chapter 5. Spicing Up a Maven Project" href="part0037_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre9">Spicing Up a Maven Project</em></span>, and develop it as a multimodule project. The modules of the project would be as follows:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="email">Distance-main</code>: This is the <a id="id353" class="calibre1"/>parent project, also known as parent POM, that glues and references different modules of the project, that is, <code class="email">distance-core</code> and <code class="email">distance-webapp</code></li><li class="listitem"><code class="email">distance-core</code>: This <a id="id354" class="calibre1"/>module provides a simple distance conversion utility class</li><li class="listitem"><code class="email">distance-webapp</code>: This<a id="id355" class="calibre1"/> is a web interface in which you can input the units that depend on the <code class="email">distance-core</code> module to perform a conversion and respond to the results</li></ul></div><p class="calibre7">In the subsequent sections, we will get into the details of the preceding modules.</p></div></div>
<div class="book" title="Creating a parent project &#x2013; POM"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec45" class="calibre1"/>Creating a parent project – POM</h1></div></div></div><p class="calibre7">The first step towards <a id="id356" class="calibre1"/>building a multimodule <a id="id357" class="calibre1"/>project is setting up a parent POM. To do this, follow the ensuing steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Navigate to <span class="strong"><strong class="calibre8">File</strong></span> | <span class="strong"><strong class="calibre8">New</strong></span> and click on <span class="strong"><strong class="calibre8">Maven Project</strong></span>. Alternatively, navigate to <span class="strong"><strong class="calibre8">File</strong></span> | <span class="strong"><strong class="calibre8">New</strong></span> and click on <span class="strong"><strong class="calibre8">Other...</strong></span>. In the <span class="strong"><strong class="calibre8">Select a wizard</strong></span> screen, search for <code class="email">maven</code> via the search box, select <span class="strong"><strong class="calibre8">Maven Project</strong></span>, and click on the <span class="strong"><strong class="calibre8">Next</strong></span> button, as shown in the following screenshot:<div class="mediaobject"><img src="../images/00067.jpeg" alt="Creating a parent project – POM" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="2">The<a id="id358" class="calibre1"/> <span class="strong"><strong class="calibre8">New Maven Project</strong></span> wizard<a id="id359" class="calibre1"/> appears; make sure that you tick the checkbox <span class="strong"><strong class="calibre8">Create a simple project (skip archetype selection)</strong></span>, as shown in the following screenshot, and click on <span class="strong"><strong class="calibre8">Next</strong></span>:<div class="mediaobject"><img src="../images/00068.jpeg" alt="Creating a parent project – POM" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="3">The <a id="id360" class="calibre1"/><span class="strong"><strong class="calibre8">New Maven project</strong></span><a id="id361" class="calibre1"/> configuration wizard appears; fill in the details as shown in the screenshot and click on <span class="strong"><strong class="calibre8">Finish</strong></span>:<div class="mediaobject"><img src="../images/00069.jpeg" alt="Creating a parent project – POM" class="calibre10"/></div><p class="calibre14"> </p><p class="calibre16">Make sure that you choose the packaging as POM from the dropdown:</p><div class="informalexample"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><thead class="calibre20"><tr class="calibre21"><th valign="bottom" class="calibre22">
<p class="calibre23">
<span><strong class="calibre26">Field</strong></span>
</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">
<span><strong class="calibre26">Value</strong></span>
</p>
</th></tr></thead><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Group Id</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">com.packt.mvneclipse</code>
</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Artifact Id</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">Distance-main</code>
</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Version</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">0.0.1-SNAPSHOT</code>
</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Packaging</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">pom</code>
</p>
</td></tr></tbody></table></div></li><li class="listitem" value="4">The corresponding project will get created, and the resulting screen would look as follows:<div class="mediaobject"><img src="../images/00070.jpeg" alt="Creating a parent project – POM" class="calibre10"/></div><p class="calibre14"> </p></li></ol><div class="calibre15"/></div><p class="calibre7">We <a id="id362" class="calibre1"/>have the <a id="id363" class="calibre1"/>parent POM in place now.</p></div>
<div class="book" title="Creating a core module"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec46" class="calibre1"/>Creating a core module</h1></div></div></div><p class="calibre7">The core<a id="id364" class="calibre1"/> module of <code class="email">MyDistance</code> will contain a class that can be <a id="id365" class="calibre1"/>converted across different units, that is, from km/meter to yard/miles. Let's name this core module <code class="email">distance-core</code>. To create a core module, perform the following steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Navigate to <span class="strong"><strong class="calibre8">File</strong></span> | <span class="strong"><strong class="calibre8">New</strong></span> and click on <span class="strong"><strong class="calibre8">Other…</strong></span>. In the <span class="strong"><strong class="calibre8">Select a wizard</strong></span> screen, search for <code class="email">maven</code> via the search box, select <span class="strong"><strong class="calibre8">Maven Module</strong></span>, and click on the <span class="strong"><strong class="calibre8">Next</strong></span> button, as shown in the following screenshot:<div class="mediaobject"><img src="../images/00071.jpeg" alt="Creating a core module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="2">The <a id="id366" class="calibre1"/><span class="strong"><strong class="calibre8">New Maven Module</strong></span> wizard<a id="id367" class="calibre1"/> appears; make sure to tick the checkbox <span class="strong"><strong class="calibre8">Create a simple project (skip archetype selection)</strong></span>, provide the module name as <code class="email">distance-core</code>, and browse to select the parent as <code class="email">Distance-main</code>, as shown in the following screenshot:<div class="mediaobject"><img src="../images/00072.jpeg" alt="Creating a core module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="3">In the <a id="id368" class="calibre1"/><span class="strong"><strong class="calibre8">Configure project</strong></span> Maven module <a id="id369" class="calibre1"/>wizard, fill in the details provided in the table after the following screenshot and click on <span class="strong"><strong class="calibre8">Finish</strong></span>:<div class="mediaobject"><img src="../images/00073.jpeg" alt="Creating a core module" class="calibre10"/></div><p class="calibre14"> </p><div class="informalexample"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><thead class="calibre20"><tr class="calibre21"><th valign="bottom" class="calibre22">
<p class="calibre23">
<span><strong class="calibre26">Field</strong></span>
</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">
<span><strong class="calibre26">Value</strong></span>
</p>
</th></tr></thead><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Group Id</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">com.packt.mvneclipse</code>
</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Version</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">0.0.1-SNAPSHOT</code>
</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Packaging</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">jar</code>
</p>
</td></tr></tbody></table></div><p class="calibre16">Since the core module just contains a Java class and is available to be used as a library for a web module of an application, the packaging type is <code class="email">jar</code>.</p></li><li class="listitem" value="4">The <code class="email">distance-core</code> module gets <a id="id370" class="calibre1"/>created and <a id="id371" class="calibre1"/>the contents of the POM will look as follows:<div class="informalexample"><pre class="programlisting">&lt;project   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
    &lt;groupId&gt;com.packt.mvneclipse&lt;/groupId&gt;
        &lt;artifactId&gt;Distance-main&lt;/artifactId&gt;
        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;/parent&gt;
    &lt;artifactId&gt;distance-core&lt;/artifactId&gt;
    &lt;/project&gt;</pre></div><div class="note" title="Note"><h3 class="title2"><a id="note14" class="calibre1"/>Note</h3><p class="calibre7">Please note that the parent of the module is enclosed in the <code class="email">&lt;parent&gt;&lt;/parent&gt;</code> tag. Also, the <code class="email">groupId</code> and <code class="email">version</code> tags will not be present for a module since we specified the same <code class="email">groupId</code> and <code class="email">version</code> as the parent in the <span class="strong"><strong class="calibre8">Configure Maven Module</strong></span> wizard. We did this in the preceding code while creating a module.</p><p class="calibre7">At any point, if we wish to change or add <code class="email">groupId/version/artifactId</code>, we can always edit the <code class="email">pom.xml</code> file since it's an XML file.</p></div></li><li class="listitem" value="5">The core module consists of a class file that performs the conversion across distance units. Now let's add a class; right-click on the project, navigate to <span class="strong"><strong class="calibre8">New</strong></span>, select <span class="strong"><strong class="calibre8">Package</strong></span>, and specify the package name as <code class="email">com.packt.chpt6.mydistance.util</code>.</li><li class="listitem" value="6">Create a class named <code class="email">ConversionUtil</code> in the preceding package. If you remember, we created this class in <a class="calibre1" title="Chapter 5. Spicing Up a Maven Project" href="part0037_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre9">Spicing Up a Maven Project</em></span>. So, copy the contents of this class and save it.</li><li class="listitem" value="7">Now let's put <a id="id372" class="calibre1"/>a unit test class in place. Create <a id="id373" class="calibre1"/>a package, <code class="email">com.packt.chpt6.mydistance.util</code>, in <code class="email">src/test/java</code>. Add the class <code class="email">ConversionUtilTest</code> to the corresponding package. Refer to <a class="calibre1" title="Chapter 5. Spicing Up a Maven Project" href="part0037_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre9">Spicing Up a Maven Project</em></span>, where we created this test class; copy the contents of this class and save it. The resulting <code class="email">src</code> structure will look as follows:<div class="mediaobject"><img src="../images/00074.jpeg" alt="Creating a core module" class="calibre10"/></div><p class="calibre14"> </p></li></ol><div class="calibre15"/></div><p class="calibre7">You might notice that we have some errors, and the errors are due to the <code class="email">TestCase</code> class not being resolved. To <a id="id374" class="calibre1"/>solve this error, add <code class="email">jUnit</code> as a <a id="id375" class="calibre1"/>dependency to the parent module, the <code class="email">pom.xml</code> file, as shown in the following code:</p><div class="informalexample"><pre class="programlisting">    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt; </pre></div><div class="informalexample" title="Note"><h3 class="title2"><a id="note15" class="calibre1"/>Note</h3><p class="calibre7">Usually, JUnit and log4j dependencies, that is, common dependencies across modules, are put in one place in the parent POM and the modules inherit them.</p></div></div>
<div class="book" title="Creating a webapp module"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec47" class="calibre1"/>Creating a webapp module</h1></div></div></div><p class="calibre7">The <a id="id376" class="calibre1"/>webapp module has a JSP file that has a form to accept the <a id="id377" class="calibre1"/>input. It also has a servlet that accepts the request parameters and performs the conversion using a core module and provides the response. Now let's see how to get the webapp module in place by performing the following steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Navigate to <span class="strong"><strong class="calibre8">File</strong></span> | <span class="strong"><strong class="calibre8">New</strong></span> and click on <span class="strong"><strong class="calibre8">Other...</strong></span>; in the <span class="strong"><strong class="calibre8">Select a wizard</strong></span> screen, search for <code class="email">maven</code> via the search box, select <span class="strong"><strong class="calibre8">Maven Module</strong></span>, and click on the <span class="strong"><strong class="calibre8">Next</strong></span> button as shown in the following screenshot:<div class="mediaobject"><img src="../images/00071.jpeg" alt="Creating a webapp module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="2">In the <a id="id378" class="calibre1"/><span class="strong"><strong class="calibre8">New Maven Module</strong></span> window<a id="id379" class="calibre1"/> that will follow, provide the module name as <code class="email">distance-webapp</code> and browse to select the parent as <code class="email">Distance-main</code>.<div class="mediaobject"><img src="../images/00075.jpeg" alt="Creating a webapp module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="3">In the<a id="id380" class="calibre1"/> <span class="strong"><strong class="calibre8">Select an Archetype</strong></span> <a id="id381" class="calibre1"/>window, search for <code class="email">webapp</code> via the search box, select <span class="strong"><strong class="calibre8">maven-archetype-webapp</strong></span>, and click on <span class="strong"><strong class="calibre8">Next</strong></span> to proceed, as shown in the following screenshot:<div class="mediaobject"><img src="../images/00076.jpeg" alt="Creating a webapp module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="4">In the <a id="id382" class="calibre1"/><span class="strong"><strong class="calibre8">New Maven module</strong></span> <a id="id383" class="calibre1"/>window, fill in the details provided in the following table and click on <span class="strong"><strong class="calibre8">Finish</strong></span> as shown in the screenshot that follows this table:<div class="informalexample"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><thead class="calibre20"><tr class="calibre21"><th valign="bottom" class="calibre22">
<p class="calibre23">
<span><strong class="calibre26">Field</strong></span>
</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">
<span><strong class="calibre26">Value</strong></span>
</p>
</th></tr></thead><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Group Id</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">com.packt.mvneclipse</code>
</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Version</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">0.0.1-SNAPSHOT</code>
</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<span><strong class="calibre26">Package</strong></span>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">com.packt.chpt6.mydistance</code>
</p>
</td></tr></tbody></table></div><div class="mediaobject"><img src="../images/00077.jpeg" alt="Creating a webapp module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="5">The <a id="id384" class="calibre1"/>webapp module will be created, and<a id="id385" class="calibre1"/> the resulting structure will look like the following screenshot:<div class="mediaobject"><img src="../images/00078.jpeg" alt="Creating a webapp module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="6">Now if <a id="id386" class="calibre1"/>we look at the parent project's<a id="id387" class="calibre1"/> structure, we might notice that it has a reference to each of the modules, as shown in the following screenshot:<div class="mediaobject"><img src="../images/00079.jpeg" alt="Creating a webapp module" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="7">Also, if we take note of the <code class="email">pom.xml</code> file of the parent project, we will see how modules are being added to the <code class="email">&lt;module&gt;</code> tag as follows:<div class="informalexample"><pre class="programlisting">&lt;modules&gt;
  &lt;module&gt;distance-core&lt;/module&gt;
  &lt;module&gt;distance-webapp&lt;/module&gt;
&lt;/modules&gt;</pre></div></li><li class="listitem" value="8">Open the webapp module's <code class="email">pom.xml</code> file and add the dependencies for <code class="email">log4j</code>, servlet, and Tomcat, as shown in the following code; this is also discussed in <a class="calibre1" title="Chapter 5. Spicing Up a Maven Project" href="part0037_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre9">Spicing Up a Maven Project</em></span>, in more detail:<div class="informalexample"><pre class="programlisting">    &lt;!-- Include servlet  API --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
    &lt;version&gt;3.1.0&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;
  &lt;!-- For logging purpose could be put in parent POM for modules to inherit  --&gt;
    &lt;dependency&gt;
    &lt;groupId&gt;log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j&lt;/artifactId&gt;
    &lt;version&gt;1.2.17&lt;/version&gt;
  &lt;/dependency&gt;

&lt;!--  For tomcat  
&lt;plugins&gt;
    &lt;plugin&gt;
          &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
          &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.1&lt;/version&gt;
    &lt;/plugin&gt;
    &lt;/plugins&gt;</pre></div></li><li class="listitem" value="9">Also, add <code class="email">distance-core</code> as a dependency since it is used by the webapp to perform the <a id="id388" class="calibre1"/>conversion, as<a id="id389" class="calibre1"/> shown in the following code:<div class="informalexample"><pre class="programlisting">  &lt;dependency&gt;
  &lt;groupId&gt;com.packt.mvneclipse&lt;/groupId&gt;
    &lt;artifactId&gt;distance-core&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
  &lt;/dependency&gt;</pre></div></li><li class="listitem" value="10">Add the <code class="email">log4j.properties</code> file to the <code class="email">resources</code> folder. Refer to the <span class="strong"><em class="calibre9">Adding Resources</em></span> section in <a class="calibre1" title="Chapter 5. Spicing Up a Maven Project" href="part0037_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre9">Spicing Up a Maven Project</em></span>.</li><li class="listitem" value="11">Add the form to get input and add servlets (refer to sections <span class="strong"><em class="calibre9">Adding a form for getting input</em></span> and <span class="strong"><em class="calibre9">Adding Servlet</em></span> of <a class="calibre1" title="Chapter 5. Spicing Up a Maven Project" href="part0037_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre9">Spicing Up a Maven Project</em></span>).</li></ol><div class="calibre15"/></div></div>
<div class="book" title="Building a multimodule project"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec48" class="calibre1"/>Building a multimodule project</h1></div></div></div><p class="calibre7">Now that we are done <a id="id390" class="calibre1"/>with writing the code for modules, let's build the project. Right-click on the parent project—in this case, <code class="email">Distance-main</code>—select <span class="strong"><strong class="calibre8">Run As</strong></span>, and click on <span class="strong"><strong class="calibre8">Maven test</strong></span>. This should compile and run the unit tests. An excerpt of the output in the console is as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">[INFO] Scanning for projects...</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] Reactor Build Order:</strong></span>
<span class="strong"><strong class="calibre8">[INFO] </strong></span>
<span class="strong"><strong class="calibre8">[INFO] Distance-main</strong></span>
<span class="strong"><strong class="calibre8">[INFO] distance-core</strong></span>
<span class="strong"><strong class="calibre8">[INFO] distance-webapp Maven Webapp</strong></span>
<span class="strong"><strong class="calibre8">[INFO] </strong></span>
<span class="strong"><strong class="calibre8">[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1</strong></span>
<span class="strong"><strong class="calibre8">[INFO]                                                              </strong></span>
<span class="strong"><strong class="calibre8">[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] Building Distance-main 0.0.1-SNAPSHOT</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ---------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] Building distance-core 0.0.1-SNAPSHOT</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ----------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8"> T E S T S</strong></span>
<span class="strong"><strong class="calibre8">-------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">Running com.packt.chpt6.mydistance.util.ConversionUtilTest</strong></span>
<span class="strong"><strong class="calibre8">Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec</strong></span>

<span class="strong"><strong class="calibre8">Results :</strong></span>

<span class="strong"><strong class="calibre8">Tests run: 4, Failures: 0, Errors: 0, Skipped: 0</strong></span>

<span class="strong"><strong class="calibre8">[INFO]                                                          </strong></span>
<span class="strong"><strong class="calibre8">[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] Building distance-webapp Maven Webapp 0.0.1-SNAPSHOT</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ---------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] Reactor Summary:</strong></span>
<span class="strong"><strong class="calibre8">[INFO] </strong></span>
<span class="strong"><strong class="calibre8">[INFO] Distance-main ..................................... SUCCESS [  0.002 s]</strong></span>
<span class="strong"><strong class="calibre8">[INFO] distance-core ..................................... SUCCESS [  2.250 s]</strong></span>
<span class="strong"><strong class="calibre8">[INFO] distance-webapp Maven Webapp ...................... SUCCESS [  0.161 s]</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong class="calibre8">[INFO] BUILD SUCCESS</strong></span>
<span class="strong"><strong class="calibre8">[INFO] ------------------------------------------------------------------------</strong></span>
</pre></div><p class="calibre7">The <a id="id391" class="calibre1"/>mechanism referred to as a reactor knows the order of building a project. Now again, right-click on <span class="strong"><strong class="calibre8">Distance-main</strong></span>, select <span class="strong"><strong class="calibre8">Run As</strong></span>, and click on <span class="strong"><strong class="calibre8">Maven install</strong></span> to install the modules in a local repository.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="note16" class="calibre1"/>Note</h3><p class="calibre7">Always make sure to clean the project by running Maven <code class="email">clean</code> via the <span class="strong"><strong class="calibre8">Run As</strong></span> option if any changes occur; alternatively, you can reinstall the project using <span class="strong"><strong class="calibre8">Maven install</strong></span>.</p></div></div>
<div class="book" title="Running the application"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec49" class="calibre1"/>Running the application</h1></div></div></div><p class="calibre7">To run the <a id="id392" class="calibre1"/>application, right-click on the webapp module of the parent project highlighted in the following screenshot, select <span class="strong"><strong class="calibre8">Run As</strong></span>, and then click on <span class="strong"><strong class="calibre8">Run Configurations...</strong></span>. In the <span class="strong"><strong class="calibre8">Run configuration</strong></span> window, specify the goal as <code class="email">tomcat7:run</code> and click on the <span class="strong"><strong class="calibre8">Run</strong></span> button. The web application will run at <code class="email">http://localhost:8080/distance-webapp/</code>; point the browser to this location and perform the conversion:</p><div class="mediaobject"><img src="../images/00080.jpeg" alt="Running the application" class="calibre10"/></div><p class="calibre11"> </p></div>
<div class="book" title="Summary"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec50" class="calibre1"/>Summary</h1></div></div></div><p class="calibre7">In this chapter, we learned how to create a multimodule project and then build and run the application. In the next chapter, we will take a sneak peek into m2eclipse and learn how to customize it.</p></div></body></html>