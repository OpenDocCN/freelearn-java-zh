- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: If you have picked up this book, you care about the architecture of the software
    you’re building. You want your software to not only fulfill the customer’s explicit
    requirements but also the hidden requirement of maintainability, and your own
    requirements concerning structure and aesthetics.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你拿起这本书，你关心你正在构建的软件架构。你希望你的软件不仅满足客户的明确要求，还要满足可维护性的隐性要求，以及你自己的关于结构和美学的需求。
- en: It’s hard to fulfill these requirements because software projects (or projects
    in general, for that matter) usually don’t go as planned. Managers draw deadlines
    all around the project team[1](#footnote-003), external partners build their APIs
    differently from what they had promised, and the software products we depend on
    don’t work as expected.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 满足这些要求很难，因为软件项目（或者更一般地说，项目）通常不会按计划进行。经理们在整个项目团队周围设定截止日期[1](#footnote-003)，外部合作伙伴构建的API与承诺的不同，而我们依赖的软件产品并不按预期工作。
- en: '[1](#footnote-003-backlink) The word “deadline” presumably originates from
    the 19th century and described a line drawn around a prison or a camp of prisoners.
    A prisoner that crossed that line was shot. Think about this definition the next
    time someone “draws a deadline” around you... it will certainly open up new perspectives.
    See [https://www.merriam-webster.com/words-at-play/your-deadline-wont-kill-you](https://www.merriam-webster.com/words-at-play/your-deadline-wont-kill-you).'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[1](#footnote-003-backlink) “截止日期”这个词可能起源于19世纪，描述的是围绕监狱或囚犯营地画的一条线。越过这条线的囚犯会被枪毙。下次有人在你周围“设定截止日期”时，想想这个定义……这肯定会打开新的视角。参见[https://www.merriam-webster.com/words-at-play/your-deadline-wont-kill-you](https://www.merriam-webster.com/words-at-play/your-deadline-wont-kill-you)。'
- en: And then there is our own software architecture. It was so nice in the beginning.
    Everything was clear and beautiful. Then the deadlines pressed us into taking
    shortcuts. Now, the shortcuts are all that’s left of the architecture, and it
    takes longer and longer to deliver new features.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 然后是我们的软件架构。一开始它非常美好。一切都很清晰和美丽。然后截止日期迫使我们走捷径。现在，架构中只剩下这些捷径，交付新功能所需的时间越来越长。
- en: Our shortcut-driven architecture makes it hard to react to an API that had to
    be changed because an external partner screwed up. It seems easier to just send
    our project manager into battle with that partner to tell them to deliver the
    API we had agreed upon.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们以捷径驱动的架构使得对必须更改的API做出反应变得困难，因为外部合作伙伴出了问题。似乎更容易让我们的项目经理与该合作伙伴战斗，告诉他们交付我们已同意的API。
- en: 'Now, we have given up all control over the situation. In all likelihood, one
    of the following things will happen:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经放弃了所有对局势的控制。很可能会发生以下事情之一：
- en: The project manager is not strong enough to win the battle against the external
    partner
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目经理不足以赢得与外部合作伙伴的战斗
- en: The external partner finds a loophole in the API specs, proving them right
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 外部合作伙伴在API规范中找到一个漏洞，证明他们是正确的
- en: The external partner needs another *<enter number here>* months to fix the API
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 外部合作伙伴需要再过*<在此处输入数字>*个月来修复API
- en: All of this leads to the same result – we have to change our code quickly because
    the deadline is looming.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些都导致同样的结果——我们必须快速更改代码，因为截止日期即将到来。
- en: We add another shortcut.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我们又添加了一个捷径。
- en: Instead of letting external factors govern the state of our software architecture,
    this book takes the stance of taking control ourselves. We gain this control by
    creating an architecture that makes the software soft, as in “flexible,” “extensible,”
    and “adaptable.” Such an architecture will make it easy to react to external factors
    and take a lot of pressure off our backs.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书采取的立场不是让外部因素控制我们的软件架构状态，而是我们自己掌握控制权。我们通过创建一个使软件变得“灵活”、“可扩展”和“可适应”的架构来实现这种控制。这样的架构将使我们对外部因素的反应变得容易，并减轻我们背上的压力。
- en: The goal of this book
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书的目标
- en: I wrote this book because I was disappointed with the practicality of the resources
    available on domain-centric architecture styles, such as Robert C. Martin’s *Clean
    Architecture* and Alistair Cockburn’s *Hexagonal Architecture*.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我写这本书是因为我对领域中心架构风格（如Robert C. Martin的《Clean Architecture》和Alistair Cockburn的《Hexagonal
    Architecture》）可用资源的实用性感到失望。
- en: Many books and online resources explain valuable concepts but not how we can
    actually implement them.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 许多书籍和在线资源解释了有价值的概念，但没有说明我们如何实际实现它们。
- en: That’s probably because there is more than one way to implement any architecture
    style.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能是因为实现任何架构风格都有不止一种方法。
- en: With this book, I am trying to fill this void by providing a hands-on-code discussion
    about creating a web application in the Hexagonal Architecture or “Ports and Adapters”
    style. In order to live up to that goal, the code examples and concepts discussed
    in this book provide my interpretation of how to implement a Hexagonal Architecture.
    There are certainly other interpretations out there, and I do not claim that mine
    is authoritative.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这本书，我试图通过提供关于以六边形架构或“端口和适配器”风格创建Web应用程序的动手代码讨论来填补这一空白。为了达到这个目标，本书中讨论的代码示例和概念提供了我对如何实现六边形架构的解释。当然，还有其他解释，我并不声称我的解释是权威的。
- en: I certainly hope, however, that you will get some inspiration from the concepts
    in this book so that you can create your own interpretation of Hexagonal/Clean
    Architecture.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我确实希望，你能从这本书中的概念中获得一些灵感，以便你可以创建自己对于六边形/整洁架构的解释。
- en: Who this book is for
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向对象
- en: This book is aimed at software developers of all experience levels involved
    in creating web applications. As a junior developer, you’ll learn about how to
    design software components and complete applications in a clean and maintainable
    manner. You will also learn some arguments for when to apply a certain technique.
    You should, however, have participated in building a web application in the past
    to get the most out of this book. If you’re an experienced developer, you’ll enjoy
    comparing the concepts from the book with your own way of doing things and, hopefully,
    incorporating bits and pieces into your own software development style. The code
    examples in this book are in Java and Kotlin, but all discussions are equally
    applicable to other object-oriented programming languages. If you’re not a Java
    programmer but can read object-oriented code in other languages, you’ll be fine.
    In the few places where we need some Java or framework specifics, I will explain
    them.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向所有层次的软件开发者，他们参与创建Web应用程序。作为一名初级开发者，你将学习如何以干净和可维护的方式设计软件组件和应用程序。你还将学习一些何时应用特定技术的论点。然而，你应该参与过构建Web应用程序，以便充分利用这本书。如果你是经验丰富的开发者，你将享受将书中的概念与自己的做事方式进行比较，并希望将一些片段融入自己的软件开发风格中。本书中的代码示例使用Java和Kotlin编写，但所有讨论都同样适用于其他面向对象编程语言。如果你不是Java程序员，但能阅读其他语言中的面向对象代码，你没问题。在需要一些Java或框架特定信息的地方，我会解释它们。
- en: The example application
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例应用
- en: To have a recurrent theme throughout the book, most of the code examples show
    code from an example web application for transferring money online. We’ll call
    it “BuckPal.”[2](#footnote-002)
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在整本书中保持一个反复出现的主题，大多数代码示例展示了用于在线转账的示例Web应用程序的代码。我们将称之为“BuckPal”。[2](#footnote-002)
- en: '[2](#footnote-002-backlink) BuckPal: a quick online search has revealed that
    a company named PayPal has stolen my idea and even copied part of the name. Joking
    aside: try to find a name similar to “PayPal” that is not the name of an existing
    company. It’s hilarious!'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[2](#footnote-002-backlink) BuckPal：快速在线搜索发现，一家名为PayPal的公司盗用了我的想法，甚至复制了部分名称。开玩笑地说：尝试找到一个与“PayPal”类似但不属于现有公司名称的名字。这真是太有趣了！'
- en: The BuckPal application allows a user to register an account, transfer money
    between accounts, and view the activities (deposits and withdrawals) on the account.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: BuckPal应用程序允许用户注册账户，在账户之间转账，并查看账户上的活动（存款和取款）。
- en: I’m not a finance specialist by any means, so please don’t judge the example
    code based on legal or functional correctness. Rather, judge it on structure and
    maintainability.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 我绝不是金融专家，所以请不要根据法律或功能正确性来判断示例代码。相反，请根据结构和可维护性来判断。
- en: The curse of example applications for software engineering books and online
    resources is that they’re too simple to highlight the real-world problems we struggle
    with every day. On the other hand, an example application must stay simple enough
    to effectively convey the discussed concepts.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 软件工程书籍和在线资源中示例应用的诅咒在于它们过于简单，无法突出我们每天努力解决的现实世界问题。另一方面，示例应用必须足够简单，才能有效地传达讨论的概念。
- en: I hope to have found a balance between “too simple” and “too complex” as we
    discuss the use cases of the BuckPal application throughout this book.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望在我们讨论BuckPal应用程序的用例时，在“过于简单”和“过于复杂”之间找到了一个平衡。
- en: The code of the example application can be found on GitHub.[3](#footnote-001)
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 示例应用的代码可以在GitHub上找到。[3](#footnote-001)
- en: '[3](#footnote-001-backlink) The BuckPal GitHub repository: [https://github.com/thombergs/buckpal](https://github.com/thombergs/buckpal).'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[3](#footnote-001-backlink) BuckPal GitHub仓库：[https://github.com/thombergs/buckpal](https://github.com/thombergs/buckpal)。'
- en: Download the color images
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: We also provide a PDF file that has color images of the screenshots and diagrams
    used in this book. Check the notes at the end of the book.[4](#footnote-000)
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供包含本书中使用的截图和图表的彩色图像的PDF文件。请查看本书末尾的注释。[4](#footnote-000)
- en: '[4](#footnote-000-backlink) PDF with color images used in this book: [https://packt.link/eBKMn](https://packt.link/eBKMn).'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '[4](#footnote-000-backlink) 本书使用的彩色图像的PDF版本：[https://packt.link/eBKMn](https://packt.link/eBKMn)。'
- en: Get in touch
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: If you have anything to say about this book, I’d love to hear it! Get in touch
    with me directly via email to [tom@reflectoring.io](mailto:tom@reflectoring.io)
    or on Twitter via `@TomHombergs`.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对本书有任何意见，我非常乐意听到！请通过电子邮件直接与我联系至[tom@reflectoring.io](mailto:tom@reflectoring.io)或在Twitter上通过`@TomHombergs`联系我。
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](B19916_Preface.xhtml) and mention the
    book title in the subject of your message.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**总体反馈**：如果您对本书的任何方面有任何疑问，请通过电子邮件发送至[customercare@packtpub.com](B19916_Preface.xhtml)，并在邮件主题中提及书名。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit www.packtpub.com/support/errata
    and fill in the form.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在本书中发现任何错误，我们将不胜感激，如果您能向我们报告，我们将不胜感激。请访问www.packtpub.com/support/errata并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](B19916_Preface.xhtml)
    with a link to the material.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，我们将不胜感激，如果您能提供位置地址或网站名称，我们将不胜感激。请通过[copyright@packt.com](B19916_Preface.xhtml)与我们联系，并提供材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit authors.packtpub.com.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为本书做出贡献，请访问authors.packtpub.com。'
- en: Share your thoughts
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享您的想法
- en: Once you’ve read *Get Your Hands Dirty on Clean Architecture–Second Edition*,
    we’d love to hear your thoughts! Please [click here to go straight to the Amazon
    review page](https://www.packtpub.com/) for this book and share your feedback.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您阅读了《Get Your Hands Dirty on Clean Architecture–Second Edition》，我们非常乐意听到您的想法！请[点击此处直接进入本书的亚马逊评论页面](https://www.packtpub.com/)并分享您的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。
- en: Download a free PDF copy of this book
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载本书的免费PDF副本
- en: Thanks for purchasing this book!
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢您购买本书！
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 您喜欢在路上阅读，但无法携带您的印刷书籍到处走？
- en: Is your eBook purchase not compatible with the device of your choice?
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 您的电子书购买是否与您选择的设备不兼容？
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 不要担心，现在，每购买一本Packt书籍，您都可以免费获得该书的DRM免费PDF版本。
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 优惠远不止这些，您还可以获得独家折扣、时事通讯和每日收件箱中的精彩免费内容。
- en: 'Follow these simple steps to get the benefits:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下简单步骤获取优惠：
- en: Scan the QR code or visit the link below
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扫描二维码或访问以下链接
- en: '![](img/B19916_QR_Free_PDF.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B19916_QR_Free_PDF.jpg)'
- en: '[https://packt.link/free-ebook/9781805128373](https://packt.link/free-ebook/9781805128373)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/free-ebook/9781805128373](https://packt.link/free-ebook/9781805128373)'
- en: 2. Submit your proof of purchase
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 2. 提交您的购买证明
- en: 3. That’s it! We’ll send your free PDF and other benefits to your email directly
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 3. 就这些了！我们将直接将您的免费PDF和其他优惠发送到您的电子邮件。
