<html><head></head><body><div class="preface" title="Preface"><div class="titlepage"><div><div><h1 class="title"><a id="pref05"/>Preface</h1></div></div></div><p>The overall goal of this book is to provide you with an extensive toolbox of hands-on development tips for jMonkeyEngine that will help you be well prepared for a wide range of projects.</p><p>The recipes are written from a practical point of view, and I strived to make sure that each recipe has an outcome that can be used directly in a game. An exception to this is <a class="link" href="ch07.html" title="Chapter 7. Networking with SpiderMonkey">Chapter 7</a>, <span class="emphasis"><em>Networking with SpiderMonkey</em></span>, where we will start from the absolute ground level and work ourselves upwards. <a class="link" href="ch01.html" title="Chapter 1. SDK Game Development Hub">Chapter 1</a>, <span class="emphasis"><em>SDK Game Development Hub</em></span>, also stands out as it contains a few more general tips applicable to development in general.</p><p>Due to the variation in game projects, another principle has been used to create recipes that have a wide usage potential. Some of the more advanced recipes are exceptions to this rule. They have a more narrow use but contain techniques that can be applied to other implementations. FPS, RTS, and RPG games will be explored in many of the recipes. Naturally, within these genres, games differ widely as well, but hopefully you will find that the examples can be used in your game project with a minimum amount of modification.</p><p>In general, I hope that this book will provide you with many tips on how to overcome common hurdles in game projects so that you can focus on the creative parts that make your game stand out.</p><div class="section" title="Common development concepts in jMonkeyEngine"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec02"/>Common development concepts in jMonkeyEngine</h1></div></div></div><p>Some common development concepts in jMonkeyEngine are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Spatial</strong></span>: Central to all things in the scene graph is the Spatial. In jMonkeyEngine, it's an abstract class, defining translation (location), rotation, and scale of an object. Imagine it as a purely logical object without a physical body. A Spatial is extended into either a Geometry or Node.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Geometry</strong></span>: This extends Spatial. This class is what gives a Spatial its physical presence in the world. It has a Mesh defining its form and shape, and a Material, telling us what the surface of the Mesh looks like.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Node</strong></span>: This extends Spatial. It can have several children attached, and can in turn be attached to a parent. Since it's a Spatial, it has a translation, rotation, and scale, which it will propagate to its children. Unlike a Geometry, it can't have a Mesh. It doesn't have a visible presence in itself.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Transforms</strong></span>: Translation, rotation, and scale are commonly referred to as a Spatial's transforms. A Spatial has both local and world transforms. The local transform is always in relation to its parent (if any). The world transform is the absolute transform with all possible parent transforms propagated together. As an example, imagine your own local translation being the position you have on Earth. Your world translation could be your local translation added to the Earth's local translation in its orbit around the Sun. Normally, you will only work with local transforms. World transforms are handled by the engine.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Mesh</strong></span>: This is made up of triangles. In a Mesh, you will find long lists called buffers detailing the points of these triangles (vertices), how the surfaces of these triangles are made (indices), their colors, normal, and other data. Normally, you will load a model from disk, not having to care about what it looks like on this level, but some recipes will create meshes from scratch, and I recommend having a basic understanding of meshes when you do 3D game development.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Material</strong></span>: This defines the surface of the Mesh. It's backed by a <span class="strong"><strong>Material Definition</strong></span> (<span class="strong"><strong>MatDef</strong></span>), usually containing a vertex shader and a fragment shader. The complexity stretches from simply setting a color or texture for a mesh, to ones that alter the shape of the Mesh. You will get far by using jMonkeyEngine's predefined MatDef.</li></ul></div><p>These are some of the basic <span class="emphasis"><em>must-know</em></span> concepts of the engine. The following concepts can be considered <span class="emphasis"><em>nice-to-know</em></span>. I know from experience that these are the ones you wish you had known when your applications were in the process of being developed. They will also be used quite frequently throughout the chapters of this book:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>AppState</strong></span>: This is an object that affects the behavior of the whole application, and you can, for example, use them to specify logic for different parts of the application. An example could be if you have a game that is played out both on a campaign map and on the ground, both player input and game logic would probably differ quite a lot. By using the AppState class, you can manage the code more easily and avoid monstrous classes.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Control</strong></span>: Like AppState, this is a good way to manage your code. The Control affects the Spatial it's attached to, and is commonly used to give Spatials special functionalities. You will see several examples of Control behavior in many of the chapters, so if you prefer learning-by-doing, you're in for a treat.</li></ul></div></div></div>
<div class="section" title="What this book covers"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec03"/>What this book covers</h1></div></div></div><p>
<a class="link" href="ch01.html" title="Chapter 1. SDK Game Development Hub">Chapter 1</a>, <span class="emphasis"><em>SDK Game Development Hub</em></span>, will take a tour around the SDK, always with the game in mind. Learn about built-in functions and plugins that make your life easier.</p><p>
<a class="link" href="ch02.html" title="Chapter 2. Cameras and Game Controls">Chapter 2</a>, <span class="emphasis"><em>Cameras and Game Controls</em></span>, contains a number of concrete ways to use cameras and control avatars for a variety of game types.</p><p>
<a class="link" href="ch03.html" title="Chapter 3. World Building">Chapter 3</a>, <span class="emphasis"><em>World Building</em></span>, explores different methods you can use to create and modify environments for games.</p><p>
<a class="link" href="ch04.html" title="Chapter 4. Mastering Character Animations">Chapter 4</a>, <span class="emphasis"><em>Mastering Character Animations</em></span>, enables you to learn all you need to know about controlling character animations.</p><p>
<a class="link" href="ch05.html" title="Chapter 5. Artificial Intelligence">Chapter 5</a>, <span class="emphasis"><em>Artificial Intelligence</em></span>, contains a look at the basics and common challenges of AI for games.</p><p>
<a class="link" href="ch06.html" title="Chapter 6. GUI with Nifty GUI">Chapter 6</a>, <span class="emphasis"><em>GUI with Nifty GUI</em></span>, contains techniques to develop a lot of the common user interfaces a game needs.</p><p>
<a class="link" href="ch07.html" title="Chapter 7. Networking with SpiderMonkey">Chapter 7</a>, <span class="emphasis"><em>Networking with SpiderMonkey</em></span>, is an introduction to UDP/TCP networking for games in jMonkeyEngine.</p><p>
<a class="link" href="ch08.html" title="Chapter 8. Physics with Bullet">Chapter 8</a>, <span class="emphasis"><em>Physics with Bullet</em></span>, will teach you the Bullet implementation and how to apply it to your games.</p><p>
<a class="link" href="ch09.html" title="Chapter 9. Taking Our Game to the Next Level">Chapter 9</a>, <span class="emphasis"><em>Taking Our Game to the Next Level</em></span>, will tell you what to do when your game mechanics are in and the game is playable. Still, you will feel the game lacks something. This chapter shows different methods to advance your game further in quality.</p><p>
<a class="link" href="apa.html" title="Appendix A. Information Fragments">Appendix</a>, <span class="emphasis"><em>Information Fragments</em></span>, contains some generic pieces of code and instructions that can be used across chapters. It also has some full-code segments for recipes that are too long to include in the chapters themselves.</p></div>
<div class="section" title="What you need for this book"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec04"/>What you need for this book</h1></div></div></div><p>This book will assume that you already have some experience with either jMonkeyEngine or similar scene-graph-based engines. If you're completely new to this, we'll go through some common concepts in the following pages to give you a basic introduction to 3D game development. If you'd like more in-depth descriptions of these (and other) concepts, I recommend reading and performing the tutorials found at <a class="ulink" href="http://hub.jmonkeyengine.org">hub.jmonkeyengine.org</a>.</p></div>
<div class="section" title="Who this book is for"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec05"/>Who this book is for</h1></div></div></div><p>This book is ideal for intermediate to advanced users of the jMonkeyEngine 3.0 game development engine.</p></div>
<div class="section" title="Conventions"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec06"/>Conventions</h1></div></div></div><p>In this book, you will find a number of styles of text that distinguish between different kinds of information. Here are some examples of these styles, and an explanation of their meaning.</p><p>Code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Start by creating a new class called <code class="literal">GameCharacterControl</code>, which extends <code class="literal">BetterCharacterControl</code>."</p><p>A block of code is set as follows:</p><div class="informalexample"><pre class="programlisting">public void update(float tpf) {
  super.update(tpf);
  Vector3f modelForwardDir = spatial.getWorldRotation().mult(Vector3f.UNIT_Z);
  Vector3f modelLeftDir = spatial.getWorldRotation().mult(Vector3f.UNIT_X);
  walkDirection.set(0, 0, 0);</pre></div><p>When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>camLocation.setY(checkHeight() + camDistance);</strong></span>
cam.setLocation(camLocation);</pre></div><p>
<span class="strong"><strong>New terms</strong></span> and <span class="strong"><strong>important words</strong></span> are shown in bold. Words that you see on the screen, in menus or dialog boxes for example, appear in the text like this: "Go to the <span class="strong"><strong>File</strong></span> menu and select <span class="strong"><strong>Import Model</strong></span>."</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note01"/>Note</h3><p>Warnings or important notes appear in a box like this.</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip01"/>Tip</h3><p>Tips and tricks appear like this.</p></div></div></div>
<div class="section" title="Reader feedback"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec07"/>Reader feedback</h1></div></div></div><p>Feedback from our readers is always welcome. Let us know what you think about this book—what you liked or may have disliked. Reader feedback is important for us to develop titles that you really get the most out of.</p><p>To send us general feedback, simply send an e-mail to <code class="email">&lt;<a class="email" href="mailto:feedback@packtpub.com">feedback@packtpub.com</a>&gt;</code>, and mention the book title through the subject of your message.</p><p>If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, see our author guide on <a class="ulink" href="http://www.packtpub.com/authors">www.packtpub.com/authors</a>.</p></div>
<div class="section" title="Customer support"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec08"/>Customer support</h1></div></div></div><p>Now that you are the proud owner of a Packt book, we have a number of things to help you to get the most from your purchase.</p><div class="section" title="Downloading the example code"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec03"/>Downloading the example code</h2></div></div></div><p>You can download the example code files for all Packt books you have purchased from your account at <a class="ulink" href="http://www.packtpub.com">http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div><div class="section" title="Downloading the color images of this book"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec04"/>Downloading the color images of this book</h2></div></div></div><p>We also provide you a PDF file that has color images of the screenshots/diagrams used in this book. The color images will help you better understand the changes in the output. You can download this file from <a class="ulink" href="https://www.packtpub.com/sites/default/files/downloads/6478OS_ColoredImages.pdf">https://www.packtpub.com/sites/default/files/downloads/6478OS_ColoredImages.pdf</a>.</p></div><div class="section" title="Errata"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec05"/>Errata</h2></div></div></div><p>Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you find a mistake in one of our books—maybe a mistake in the text or the code—we would be grateful if you would report this to us. By doing so, you can save other readers from frustration and help us improve subsequent versions of this book. If you find any errata, please report them by visiting <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a>, selecting your book, clicking on the <span class="strong"><strong>errata</strong></span> <span class="strong"><strong>submission</strong></span> <span class="strong"><strong>form</strong></span> link, and entering the details of your errata. Once your errata are verified, your submission will be accepted and the errata will be uploaded to our website, or added to any list of existing errata, under the Errata section of that title.</p></div><div class="section" title="Piracy"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec06"/>Piracy</h2></div></div></div><p>Piracy of copyright material on the Internet is an ongoing problem across all media. At Packt, we take the protection of our copyright and licenses very seriously. If you come across any illegal copies of our works, in any form, on the Internet, please provide us with the location address or website name immediately so that we can pursue a remedy.</p><p>Please contact us at <code class="email">&lt;<a class="email" href="mailto:copyright@packtpub.com">copyright@packtpub.com</a>&gt;</code> with a link to the suspected pirated material.</p><p>We appreciate your help in protecting our authors, and our ability to bring you valuable content.</p></div><div class="section" title="Questions"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec07"/>Questions</h2></div></div></div><p>You can contact us at <code class="email">&lt;<a class="email" href="mailto:questions@packtpub.com">questions@packtpub.com</a>&gt;</code> if you are having a problem with any aspect of the book, and we will do our best to address it.</p></div></div></body></html>