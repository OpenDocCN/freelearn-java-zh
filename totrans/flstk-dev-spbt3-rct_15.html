<html><head></head><body>
  <div id="_idContainer245" class="Basic-Text-Frame">
    <h1 class="chapterNumber">12</h1>
    <h1 id="_idParaDest-157" class="chapterTitle">Setting Up the Frontend for Our Spring Boot RESTful Web Service</h1>
    <p class="normal">This chapter explains the steps that are required to start the development of the frontend part of our car database application. We will first define the functionalities that we are developing. Then, we will do a mock-up of the UI. As a backend, we will use our Spring Boot application from <em class="chapterRef">Chapter 5</em>, <em class="italic">Securing Your Backend</em>. We will begin development using the unsecured version of the backend. Finally, we will create the React app that we will use in our frontend development.</p>
    <p class="normal">In this chapter, we will cover the following topics:</p>
    <ul>
      <li class="bulletList">Mocking up the UI</li>
      <li class="bulletList">Preparing the Spring Boot backend</li>
      <li class="bulletList">Creating the React project for the frontend</li>
    </ul>
    <h1 id="_idParaDest-158" class="heading-1">Technical requirements</h1>
    <p class="normal">The Spring Boot application that we created in <em class="chapterRef">Chapter 5</em>, <em class="italic">Securing Your Backend</em>, is required.</p>
    <p class="normal">Node.js also has to be installed, and the code available at the following GitHub link will be required to follow along with the examples in this chapter: <a href="https://github.com/PacktPublishing/Full-Stack-Development-with-Spring-Boot-3-and-React-Fourth-Edition/tree/main/Chapter12"><span class="url">https://github.com/PacktPublishing/Full-Stack-Development-with-Spring-Boot-3-and-React-Fourth-Edition/tree/main/Chapter12</span></a>.</p>
    <h1 id="_idParaDest-159" class="heading-1">Mocking up the UI</h1>
    <p class="normal">In the first few chapters<a id="_idIndexMarker630"/> of this book, we created a car database backend that provides the RESTful API. Now, it is time to start building the frontend for our application.</p>
    <p class="normal">We will create a frontend with the following specifications:</p>
    <ul>
      <li class="bulletList">It lists cars from the database in a table and provides <strong class="keyWord">paging</strong>, <strong class="keyWord">sorting</strong>, and <strong class="keyWord">filtering</strong>.</li>
      <li class="bulletList">There is a button that opens a <strong class="keyWord">modal form</strong> to add new cars to the database.</li>
      <li class="bulletList">In each row of the car table, there is a button to <strong class="keyWord">edit</strong> the car or <strong class="keyWord">delete</strong> it from the database.</li>
      <li class="bulletList">There is a link or button to <strong class="keyWord">export</strong> data from the table to a <strong class="keyWord">CSV</strong> file.</li>
    </ul>
    <p class="normal">UI mock-ups are often created at the beginning of frontend development to provide customers with a visual representation of what the user interface will look like. Mock-ups are quite often done by designers and then provided to developers. There are lots of different applications for creating mock-ups, such as Figma, Balsamiq, and Adobe XD, or you can even use a pencil and paper. You can also create interactive mock-ups to demonstrate a number of functionalities.</p>
    <p class="normal">If you have done a mock-up, it is much easier to discuss requirements with the client before you start to write any actual code. With the mock-up, it is also easier for the client to understand the idea of the frontend and suggest corrections for it. Changes to mock-ups are really easy and fast to implement, compared to modifications involving actual frontend source code.</p>
    <p class="normal">The following screenshot shows the example mock-up of our car list frontend:</p>
    <figure class="mediaobject"><img src="../Images/B19818_12_01.png" alt="Figure 10.1 – The frontend mock-up "/></figure>
    <p class="packt_figref">Figure 12.1: The frontend mock-up</p>
    <p class="normal">The modal form that is opened<a id="_idIndexMarker631"/> when the user presses the <strong class="screenText">+ CREATE</strong> button looks like the following:</p>
    <figure class="mediaobject"><img src="../Images/B19818_12_02.png" alt="Figure 10.2 – The frontend mock-up "/></figure>
    <p class="packt_figref">Figure 12.2: The modal form mock-up</p>
    <p class="normal">Now that we have a mock-up<a id="_idIndexMarker632"/> of our UI ready, let’s look at how we can prepare our Spring Boot backend.</p>
    <h1 id="_idParaDest-160" class="heading-1">Preparing the Spring Boot backend</h1>
    <p class="normal">We will begin frontend development<a id="_idIndexMarker633"/> in this chapter with the unsecured version of our backend. Then:</p>
    <ul>
      <li class="bulletList">In <em class="chapterRef">Chapter 13</em>, <em class="italic">Adding CRUD Functionalities</em>, we will implement all the CRUD functionalities.</li>
      <li class="bulletList">In <em class="chapterRef">Chapter 14</em>, <em class="italic">Styling the Frontend with MUI</em>, we will continue to polish our UI using Material UI components.</li>
      <li class="bulletList">Finally, in <em class="chapterRef">Chapter 16</em>, <em class="italic">Securing Your Application</em>, we will enable security in our backend, make some modifications that are required, and implement authentication.</li>
    </ul>
    <p class="normal">In Eclipse, open the Spring Boot application that we created in <em class="chapterRef">Chapter 5</em>, <em class="italic">Securing Your Backend</em>. Open the <code class="inlineCode">SecurityConfig.java</code> file that defines the Spring Security configuration. Temporarily comment out the current configuration and give everyone access to all endpoints. Refer to the following modifications:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> SecurityFilterChain <span class="hljs-title">filterChain</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception
  {
    <span class="code-highlight"><strong class="hljs-slc">// Add this one</strong></span>
    <span class="code-highlight"><strong class="hljs-slc">http.csrf((csrf) -&gt; csrf.disable()).cors(withDefaults())</strong></span>
        <span class="code-highlight"><strong class="hljs-slc">.authorizeHttpRequests((authorizeHttpRequests) -&gt;</strong></span> 
             <span class="code-highlight"><strong class="hljs-slc">authorizeHttpRequests.anyRequest().permitAll());</strong></span>
    <span class="code-highlight"><strong class="hljs-slc">/* COMMENT THIS OUT</strong></span>
<span class="hljs-comment">    http.csrf((csrf) -&gt; csrf.disable()) </span>
<span class="hljs-comment">        .cors(withDefaults())</span>
<span class="hljs-comment">        .sessionManagement((sessionManagement) -&gt;</span>
<span class="hljs-comment">            sessionManagement.sessionCreationPolicy(\</span>
<span class="hljs-comment">                SessionCreationPolicy.STATELESS))</span>
<span class="hljs-comment">        .authorizeHttpRequests( (authorizeHttpRequests) -&gt; </span>
<span class="hljs-comment">            authorizeHttpRequests</span>
<span class="hljs-comment">        .requestMatchers(HttpMethod.POST, "/login").permitAll()</span>
<span class="hljs-comment">        .anyRequest().authenticated())</span>
<span class="hljs-comment">        .addFilterBefore(authenticationFilter, </span>
<span class="hljs-comment">            UsernamePasswordAuthenticationFilter.class)</span>
<span class="hljs-comment">        .exceptionHandling((exceptionHandling) -&gt;</span>
<span class="hljs-comment">            exceptionHandling.authenticationEntryPoint(</span>
<span class="hljs-comment">                exceptionHandler));</span>
<span class="hljs-comment">    </span><span class="code-highlight"><strong class="hljs-slc">*/</strong></span>
    <span class="hljs-keyword">return</span> http.build();
}
</code></pre>
    <p class="normal">Now, if you start the MariaDB<a id="_idIndexMarker634"/> database, run the backend, and send the <code class="inlineCode">GET</code> request to the <code class="inlineCode">http:/localhost:8080/api/cars</code> endpoint, you should get all the cars in the response, as shown in the following screenshot:</p>
    <figure class="mediaobject"><img src="../Images/B19818_12_03.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 12.3: The GET request</p>
    <p class="normal">Now, we are ready<a id="_idIndexMarker635"/> to create our React project for the frontend.</p>
    <h1 id="_idParaDest-161" class="heading-1">Creating the React project for the frontend</h1>
    <p class="normal">Before we start coding<a id="_idIndexMarker636"/> the frontend, we have to create<a id="_idIndexMarker637"/> a new React app. We will use TypeScript in our React frontend:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open PowerShell, or any other suitable terminal. Create a new React app by typing the following command:
        <pre class="programlisting con"><code class="hljs-con">npm create vite@4 
</code></pre>
    <div class="note">
      <p class="normal">In this book, we are using Vite version 4.4. You can also use the latest version, but then you have to check for changes in the Vite documentation.</p>
    </div>
      </li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Name your project <code class="inlineCode">carfront</code>, and select the <strong class="screenText">React</strong> framework and <strong class="screenText">TypeScript</strong> variant:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B19818_12_04.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 12.4: Frontend project</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Move to the project folder and install dependencies by typing the following commands:
        <pre class="programlisting con"><code class="hljs-con">cd carfront
npm install
</code></pre>
      </li>
      <li class="numberedList">Install the MUI component library by typing the following command, which installs the Material UI core library<a id="_idIndexMarker638"/> and two Emotion libraries. <strong class="keyWord">Emotion</strong> is a library designed<a id="_idIndexMarker639"/> for writing CSS with JavaScript (<a href="https://emotion.sh/docs/introduction"><span class="url">https://emotion.sh/docs/introduction</span></a>):
        <pre class="programlisting con"><code class="hljs-con">npm install @mui/material @emotion/react @emotion/styled
</code></pre>
      </li>
      <li class="numberedList">Also, install React Query<a id="_idIndexMarker640"/> v4 and Axios, which we will use<a id="_idIndexMarker641"/> for networking in our frontend:
        <pre class="programlisting con"><code class="hljs-con">npm install @tanstack/react-query@4
npm install axios
</code></pre>
      </li>
      <li class="numberedList">Run the app by typing the following command in the project’s <code class="inlineCode">root</code> folder:
        <pre class="programlisting con"><code class="hljs-con">npm run dev
</code></pre>
      </li>
      <li class="numberedList">Open the <code class="inlineCode">src</code> folder with Visual Studio Code and remove any superfluous code from the <code class="inlineCode">App.tsx</code> file. The file extension is now <code class="inlineCode">.tsx</code> because we are using TypeScript. Also, remove the <code class="inlineCode">App.css</code> style sheet file import. We will use the MUI <code class="inlineCode">AppBar</code> component in the <code class="inlineCode">App.tsx</code> file to create the toolbar for our app.
    <div class="note">
      <p class="normal">We have already looked at the MUI <code class="inlineCode">AppBar</code> in <em class="chapterRef">Chapter 11</em>, <em class="italic">Useful Third-Party Components for React</em>, if you would like a reminder.</p>
    </div>
    <p class="normal">As shown in the code below, wrap the <code class="inlineCode">AppBar</code> component inside the MUI <code class="inlineCode">Container</code> component, which is a basic layout component that centers your app content horizontally. We can use the <code class="inlineCode">position</code> prop to define the positioning behavior of the app bar. The value <code class="inlineCode">static</code> means that the app bar is not fixed to the top when the user scrolls. If you use <code class="inlineCode">position= </code><code class="inlineCode">"</code><code class="inlineCode">fixed</code><code class="inlineCode">"</code>, it will fix the app bar at the top of the page. You also have to import all the MUI components that we are using:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">AppBar</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@mui/material/AppBar'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">Toolbar</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@mui/material/Toolbar'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">Typography</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@mui/material/Typography'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">Container</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@mui/material/Container'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title">CssBaseline</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@mui/material/CssBaseline'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title">App</span>() {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-tag">&lt;</span><span class="hljs-name">Container</span><span class="hljs-tag"> </span><span class="hljs-attr">maxWidth</span><span class="hljs-tag">=</span><span class="hljs-string">"xl"</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;</span><span class="hljs-name">CssBaseline</span><span class="hljs-tag"> /&gt;</span>
<span class="language-xml">      </span><span class="hljs-tag">&lt;</span><span class="hljs-name">AppBar</span><span class="hljs-tag"> </span><span class="hljs-attr">position</span><span class="hljs-tag">=</span><span class="hljs-string">"static"</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">        </span><span class="hljs-tag">&lt;</span><span class="hljs-name">Toolbar</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">          </span><span class="hljs-tag">&lt;</span><span class="hljs-name">Typography</span><span class="hljs-tag"> </span><span class="hljs-attr">variant</span><span class="hljs-tag">=</span><span class="hljs-string">"h6"</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">            Car Shop</span>
<span class="language-xml">          </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">Typography</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">        </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">Toolbar</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">      </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">AppBar</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">Container</span><span class="hljs-tag">&gt;</span>
  );
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">App</span>;
</code></pre>
    <p class="normal">The <code class="inlineCode">maxWidth</code> prop defines<a id="_idIndexMarker642"/> the maximum width of our app, and we have used <a id="_idIndexMarker643"/>the largest value. We have also used the MUI <code class="inlineCode">CssBaseline</code> component, which is used to fix inconsistencies across browsers, ensuring that the React app’s appearance is uniform across different browsers. It is typically included at the top level of your application to ensure that its styles are applied globally.</p></li>
    </ol>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="8">We will remove all predefined styling. Therefore, remove the <code class="inlineCode">index.css</code> style sheet import from the <code class="inlineCode">main.tsx</code> file. The code should look like the following:
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">import</span> <span class="hljs-title">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'</span><span class="hljs-string">react-dom/client'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.tsx'</span>
<span class="hljs-title">ReactDOM</span>.<span class="hljs-title">createRoot</span>(<span class="hljs-variable">document</span>.<span class="hljs-title">getElementById</span>(<span class="hljs-string">'root'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title">HTMLElement</span>).
  <span class="hljs-title">render</span>(
  <span class="hljs-tag">&lt;</span><span class="hljs-name">React.StrictMode</span><span class="hljs-tag">&gt;</span>
<span class="language-xml">    </span><span class="hljs-tag">&lt;</span><span class="hljs-name">App</span><span class="hljs-tag"> /&gt;</span>
<span class="language-xml">  </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">React.StrictMode</span><span class="hljs-tag">&gt;</span>,
)
</code></pre>
      </li>
    </ol>
    <p class="normal">Now, your frontend starting point should look like this:</p>
    <figure class="mediaobject"><img src="../Images/B19818_12_05.png" alt="" role="presentation"/></figure>
    <p class="packt_figref">Figure 12.5: Car Shop</p>
    <p class="normal">We have now created<a id="_idIndexMarker644"/> the React project for our frontend and can continue<a id="_idIndexMarker645"/> with further development.</p>
    <h1 id="_idParaDest-162" class="heading-1">Summary</h1>
    <p class="normal">In this chapter, we started the development of our frontend using the backend that we created in <em class="chapterRef">Chapter 5</em>, <em class="italic">Securing Your Backend</em>. We defined the functionalities of the frontend and created a mock-up of the UI. We started frontend development with an unsecured version of the backend and, therefore, made some modifications to our Spring Security configuration class. We also created the React app that we will use during development.</p>
    <p class="normal">In the next chapter, we will add <strong class="keyWord">create</strong>, <strong class="keyWord">read</strong>, <strong class="keyWord">update</strong>, and <strong class="keyWord">delete</strong> (<strong class="keyWord">CRUD</strong>) functionalities to our frontend.</p>
    <h1 id="_idParaDest-163" class="heading-1">Questions</h1>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Why should you do a mock-up of the UI?</li>
      <li class="numberedList">How do you disable Spring Security from the backend?</li>
    </ol>
    <h1 id="_idParaDest-164" class="heading-1">Further reading</h1>
    <p class="normal">There are many other good resources available for learning about UI design and MUI. A few are listed here:</p>
    <ul>
      <li class="bulletList"><em class="italic">Don’t Make Me Think, Revisited: A Common Sense Approach to Web Usability (3rd Edition)</em>, by Steve Krug (<a href="https://sensible.com/dont-make-me-think/"><span class="url">https://sensible.com/dont-make-me-think/</span></a>)</li>
      <li class="bulletList">MUI blog – the latest about MUI (<a href="https://mui.com/blog/"><span class="url">https://mui.com/blog/</span></a>)</li>
      <li class="bulletList">Material UI GitHub repository (<a href="https://github.com/mui/material-ui"><span class="url">https://github.com/mui/material-ui</span></a>)</li>
    </ul>
    <h1 class="heading-1">Learn more on Discord</h1>
    <p class="normal">To join the Discord community for this book – where you can share feedback, ask the author questions, and learn about new releases – follow the QR code below:</p>
    <p class="normal"><a href="https://packt.link/FullStackSpringBootReact4e"><span class="url">https://packt.link/FullStackSpringBootReact4e</span></a></p>
    <p class="normal"><img src="../Images/QR_Code10796108009382640.png" alt="" role="presentation"/></p>
  </div>
</body></html>