<html><head></head><body><div class="chapter" title="Chapter&#xA0;10.&#xA0;Contributing to OpenJDK"><div class="titlepage"><div><div><h1 class="title"><a id="ch10"/>Chapter 10. Contributing to OpenJDK</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Becoming a contributor</li><li class="listitem" style="list-style-type: disc">Generating a patch with webrev</li><li class="listitem" style="list-style-type: disc">Backporting OpenJDK v9 patches to OpenJDK v8</li><li class="listitem" style="list-style-type: disc">Understanding OpenJDK groups</li><li class="listitem" style="list-style-type: disc">Understanding OpenJDK projects</li><li class="listitem" style="list-style-type: disc">Suggesting new JSRs</li><li class="listitem" style="list-style-type: disc">Suggesting new JEPs</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec80"/>Introduction</h1></div></div></div><p>The OpenJDK community<a id="id507" class="indexterm"/> consists of lots of people who have different roles and responsibilities in a project. Such a structure evolved as a consequence of the scale of the project and its significance, otherwise it wouldn't be controllable and you wouldn't be able to progress further. The way in which OpenJDK is managed and structured can be described in two hierarchies: one is functional and the other is governance. These two hierarchies intercept, but not much. The only role which is present in both is <a id="id508" class="indexterm"/>
<span class="strong"><strong>JDK Lead</strong></span>, which is an OpenJDK member appointed by Oracle to manage the Java release project.</p><p>Functional hierarchy controls the change and development process. It defines the relationship between all the community members who are involved in proposing and making changes in OpenJDK. On the whole, it can be represented by the structure shown in the following figure:</p><div class="mediaobject"><img src="graphics/8405_10_01.jpg" alt="Introduction"/></div><p>A participant can be anyone who has participated in an OpenJDK project and this can be any type of participation. For example, it can be a discussion on the mailing list or creating a patch to fix a bug. Any participant can sign the <a id="id509" class="indexterm"/>
<span class="strong"><strong>Oracle Contributor Agreement</strong></span> (<span class="strong"><strong>OCA</strong></span>) and become a contributor.</p><p>A contributor can work on any of the OpenJDK projects and be the <span class="strong"><strong>project author</strong></span><a id="id510" class="indexterm"/> if the project lead approves it. The project author can't push code into the repository and has to ask one of the project committers to do that. After an author gains the trust of the committers, he or she can be elected to become one of them. All code changes have to be approved before they go into the repository. This task is done by the project reviewers who are experienced committers and have a lot of authority. Some projects might not have the project reviewer's role.</p><p>Also, a contributor can become an OpenJDK member and participate in the OpenJDK groups. To become an OpenJDK member, the contributor needs to demonstrate a history of significant contribution and should be elected by the votes of the existing OpenJDK members. Being a member allows one to become an OpenJDK group member by joining one or more groups. Group members are nominated by existing group members so, to join a group, a member must have some history of contribution to that group. It is worth adding that the order of membership can be reversed—a contributor can be elected to become a group member and this can then become the route to be an OpenJDK member.</p><p>Each OpenJDK group is responsible for the area of JDK. For example, there is a <span class="emphasis"><em>Swing Group</em></span>, <span class="emphasis"><em>Security Group</em></span>, and so on. Each group has a group lead and group members. A group can sponsor projects, for example, as already mentioned, the Swing Group is a sponsor for projects such as <span class="emphasis"><em>OpenJFX</em></span> and <span class="emphasis"><em>Swing Application Framework</em></span>. As we mentioned earlier, any contributor can work on a sponsored project. The contributor is not required to be an Open JDK member or a group member to do this.</p><p>The governance structure is represented by the <span class="emphasis"><em>Governing Board</em></span>, which consists of several roles, as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Chair</strong></span>: This <a id="id511" class="indexterm"/>role is appointed by Oracle. This person is the lead of the Governing Board.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Vice Chair</strong></span>: This<a id="id512" class="indexterm"/> role is appointed by IBM</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>OpenJDK Lead</strong></span>: This <a id="id513" class="indexterm"/>role is appointed by Oracle. This person also leads the Java Release project.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Two At-Large members</strong></span>: These<a id="id514" class="indexterm"/> two members are chosen by a vote of the OpenJDK members.</li></ul></div><p>The governing board's responsibility is to define new processes or refine existing ones, and update and support the Bylaws. The Governing Board is empowered to resolve procedural disputes within community, but it is not an executive body. The latter means that it has no direct authority over the technical or release decisions. Interestingly, the Governing Board and also the OpenJDK group can also sponsor projects.</p><p>For those who are interested in the details of the hierarchy of OpenJDK roles, groups, projects, and their relationships, it is worth taking a look at the<a id="id515" class="indexterm"/> <span class="emphasis"><em>bylaws</em></span> (<a class="ulink" href="http://openjdk.java.net/bylaws">http://openjdk.java.net/bylaws</a>), which cover all these things in detail.</p></div></div>
<div class="section" title="Becoming a contributor"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec81"/>Becoming a contributor</h1></div></div></div><p>Becoming a <a id="id516" class="indexterm"/>participant is very easy. The only thing that is required is to be interested in OpenJDK and, as a minimum, participate in <a id="id517" class="indexterm"/>discussions on mailing lists. Participants can ask OpenJDK members to add code into the code base, but they can't do it themselves. Contributors, however, have a more involved role, These people can submit patches and have more influence on the project.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec265"/>Getting ready</h2></div></div></div><p>To get ready to follow this recipe is easy; all that is required is a desire to become a participant. It is important to understand that it is not a quick process and can easily take several weeks or even months. So, be patient and do not give up.</p><p>As preparing a patch requires running the Kron shell script, a machine needs to have that shell installed. If a Windows machine is used, then Cygwin is required on the system.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec266"/>How to do it...</h2></div></div></div><p>The next steps will describe how to become a participant of OpenJDK. Keep in mind that this is not a deterministic process and, in practice, it might either need a few additional steps or some of the following steps might not be required:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The first step is to become visible to other members of the OpenJDK community. This can be achieved by participating in the discussions on mailing lists, and it would be good to suggest a couple of small fixes and ask one of the OpenJDK members or contributors to submit them. This will show that you are interested in OpenJDK and how to contribute to it.</li><li class="listitem">Then, create an account in <a class="ulink" href="http://Java.net">Java.net</a> by filling the form at <a class="ulink" href="https://java.net/people/new">https://java.net/people/new</a>. This account is needed for <a class="ulink" href="http://Java.net">Java.net</a>, OpenJDK bug tracking, and the source repository.</li><li class="listitem">The next step is to sign the <span class="strong"><strong>Oracle Contribution Agreement</strong></span> (<span class="strong"><strong>OCA</strong></span>). It needs to be downloaded<a id="id518" class="indexterm"/> from <a class="ulink" href="http://www.oracle.com/technetwork/oca-405177.pdf">http://www.oracle.com/technetwork/oca-405177.pdf</a>. Read the agreement carefully and understand it, before signing it. Luckily, it is just one page long. Then, sign it and e-mail the scan to <code class="email">&lt;<a class="email" href="mailto:oracle-ca_us@oracle.com">oracle-ca_us@oracle.com</a>&gt;</code>. It might take a couple of weeks to receive a response. So, if the stipulated time has passed and you still haven't heard back, then it is worth sending a reminder.</li><li class="listitem">Once you get back the OCA response from Oracle, it's time to find out what your contribution is going to be. Probably, the easiest thing is to find a bug and work on a fix for it. Bugs can be found on the OpenJDK JIRA at <a class="ulink" href="https://bugs.openjdk.java.net/">https://bugs.openjdk.java.net/</a>. Pick something that is not assigned to anyone. Be sure to choose something that will not require interface changes or any significant development.</li><li class="listitem">Before doing the actual work, it would be a good idea to discuss the bug and the proposed fix on the mailing list for the appropriate project. It is recommended to use the format, <code class="literal">&lt;bugid&gt;: &lt;bug_description&gt;</code> as the subject, for example, <code class="literal">JDK-8042253: StressRedefine tests timeout</code>.</li><li class="listitem">Carry out a fix. It is good idea to do the jtreg regression test for any work that was done in the scope of the fix.</li><li class="listitem">Generate a <a id="id519" class="indexterm"/>patch for review using <code class="literal">webrev:[user@localhost hotspot]$ ksh ../make/scripts/webrev.ksh</code>. Make sure that the generated <code class="literal">webrev.zip</code> file is available for the relevant community. For example, it can be put on a file hosting with public access. Regular contributors prefer to use <code class="literal">cr.openjdk.java.net</code> for this purpose. For more details about webrev, see the <span class="emphasis"><em>Generating a patch with webrev</em></span> recipe.</li><li class="listitem">To post a patch, use the format <code class="literal">RFR &lt;bugid&gt;: &lt;bug_description&gt;</code>, as the subject for the mailing list. For example, <code class="literal">RFR JDK-8042253 StressRedefine tests timeout</code>, where <span class="strong"><strong>RFR</strong></span> refers to <span class="strong"><strong>Request for Review</strong></span>. Give the description of the patch and provide a link to the <code class="literal">webrev</code> file generated in the previous step.</li><li class="listitem">A review always means that there will be some cleanup, code changes, more tests, and so on. Carry out the updates, update <code class="literal">webrev</code>, and notify other members that changes have been made. Be ready since the process might need several iterations.</li><li class="listitem">Once everyone agrees<a id="id520" class="indexterm"/> that the fix is of a good quality, the sponsor will push the fix into the repository. At this stage, you might be asked to produce a changeset. Note that this step can take several weeks to execute.</li></ol></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec267"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Some additional information on the code review process is available at <a class="ulink" href="http://openjdk.java.net/guide/codeReview.html">http://openjdk.java.net/guide/codeReview.html</a>. There is also documentation available on the change process as a whole. It is worth having a look at it at <a class="ulink" href="http://openjdk.java.net/guide/changePlanning.html">http://openjdk.java.net/guide/changePlanning.html</a>.</li></ul></div></div></div>
<div class="section" title="Generating a patch with webrev"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec82"/>Generating a patch with webrev</h1></div></div></div><p>Doing any update<a id="id521" class="indexterm"/> in a<a id="id522" class="indexterm"/> software product normally requires some kind of review process. The code should not be submitted into a repository unless someone else has already looked at it. In OpenJDK, the tool for this purpose is webrev, which allows you to create code reviews that can be shared with other members of the community.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec268"/>Getting ready</h2></div></div></div><p>Webrev is a Korn shell script, which means that Korn shell must be installed on the machine before you can use it. On a Linux machine, run <code class="literal">yum install ksh</code> or an equivalent command. On a Windows machine, ensure that <code class="literal">ksh</code> in included in the Cygwin installation.</p><p>Apart from the environment set up to create the patch review, some changes must be made in the source code as well. As an easy example, we can just modify some comments in a file, as discussed next. Open the file, <code class="literal">hotspot/src/os/linux/vm/jvm_linux.cpp</code> and update the header or just add a comment.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec269"/>How to do it...</h2></div></div></div><p>As webdev is a shell script, start by launching your shell and follow the given steps. It is assumed that the current folder is <code class="literal">jdk</code> source root and the amended file is <code class="literal">hotspot/src/os/linux/vm/jvm_linux.cpp</code>:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">First, change the current folder to <code class="literal">hostpot</code>; it's not strictly required, but it will make the webrev script do less work:<div class="informalexample"><pre class="programlisting">cd ./hostpot</pre></div></li><li class="listitem">Run the webrev script:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[user@localhost hotspot]$ ksh ../make/scripts/webrev.ksh</strong></span>
<span class="strong"><strong>   SCM detected: mercurial</strong></span>
<span class="strong"><strong>   No outgoing, perhaps you haven't commited.</strong></span>
<span class="strong"><strong>      Workspace: /home/user/openjdk/jdk7u/hotspot</strong></span>
<span class="strong"><strong>   Compare against: http://hg.openjdk.java.net/jdk7u/jdk7u/hotspot</strong></span>
<span class="strong"><strong>      Output to: /home/user/openjdk/jdk7u_clean/hotspot/webrev</strong></span>
<span class="strong"><strong>   Output Files:</strong></span>
<span class="strong"><strong>   src/os/linux/vm/jvm_linux.cpp</strong></span>
<span class="strong"><strong>      patch cdiffs udiffs sdiffs frames old new</strong></span>
<span class="strong"><strong>     index.html: grep: /home/user/.hgrc: No such file or directory</strong></span>
<span class="strong"><strong>Done.</strong></span>
<span class="strong"><strong>Output to: /home/user/openjdk/jdk7u/hotspot/webrev</strong></span>
</pre></div><p>As can be seen from the output, it detected that <code class="literal">jvm_linux.cpp</code> was changed and generated review files which were put in the <code class="literal">hotspot/webrev</code> folder.</p></li><li class="listitem">Now, in the <code class="literal">hotspot</code> folder, locate the <code class="literal">webrev.zip</code> file and make it available to anyone who is interested in the changes that you have just made. This file will have the same content as the <code class="literal">webrev</code> folder.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec270"/>How it works…</h2></div></div></div><p>As you <a id="id523" class="indexterm"/>have <a id="id524" class="indexterm"/>already noticed, webrev is just a shell script and, if you need to see how it works, then it should be relatively easy to do so. All it does is scan your disk for changes and compare them with the parent Mercurial forest. Then, based on the comparison, it generates various reports and a patch file. Finally, all the files are packed into a ZIP file, which is easy to share with other community members or with anyone who just wants to have a look at the change.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec271"/>There's more...</h2></div></div></div><p>Webrev has some command options which are displayed if you enter a command, which it doesn't understand. For example, try to run this:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[stas@localhost hotspot]$ ksh ../make/scripts/webrev.ksh ?</strong></span>
</pre></div><p>This will print all the available command-line options and environment variables that can affect the execution of the script.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec272"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">More information and several examples are available on the <a class="ulink" href="http://openjdk.java.net">openjdk.java.net</a> website at <a class="ulink" href="http://openjdk.java.net/guide/webrevHelp.html">http://openjdk.java.net/guide/webrevHelp.html</a></li><li class="listitem" style="list-style-type: disc">The overall OpenJDK code review process is described at <a class="ulink" href="http://openjdk.java.net/guide/codeReview.html">http://openjdk.java.net/guide/codeReview.html</a></li></ul></div></div></div>
<div class="section" title="Backporting OpenJDK v9 patches to OpenJDK v8"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec83"/>Backporting OpenJDK v9 patches to OpenJDK v8</h1></div></div></div><p>In the scope of<a id="id525" class="indexterm"/> one of the initiatives for the improvement of the source code structure (<a class="ulink" href="https://bugs.openjdk.java.net/browse/JDK-8051619">https://bugs.openjdk.java.net/browse/JDK-8051619</a>) there are some significant changes in the way how the source files are located in OpenJDK v9.  It means that if someone is making a patch for OpenJDK v9 and wants these changes to be applied to OpenJDK v8, he/she has to follow a special procedure. That procedure will do the required transformation in the path of changed files.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec273"/>Getting ready</h2></div></div></div><p>We need a computer <a id="id526" class="indexterm"/>which can run bash shell, that is, a Linux or Windows computer with Cygwin and the source code of OpenJDK v9 and OpenJDK v8.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec274"/>How to do it…</h2></div></div></div><p>Following these steps, a developer can learn how to port changes from OpenJDK v9 to OpenJDK v8:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">There is a special script that was created to help to port patches from OpenJDK v9 to OpenJDK v8. This script is located in <code class="literal">common/bin/unshuffle_patch.sh</code>. Run this script with the <code class="literal">--help</code> argument to see its usage:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[user@localhost jdk9]$ common/bin/unshuffle_patch.sh --help</strong></span>
<span class="strong"><strong>Usage: common/bin/unshuffle_patch.sh [-h|--help] [-v|--verbose] &lt;repo&gt; &lt;input_patch&gt; &lt;output_patch&gt;</strong></span>
<span class="strong"><strong>where:</strong></span>
<span class="strong"><strong>&lt;repo&gt;            is one of: corba, jaxp, jaxws, jdk, langtools, nashorn</strong></span>
<span class="strong"><strong>                  [Note: patches from other repos do not need updating]</strong></span>
<span class="strong"><strong>&lt;input_patch&gt;     is the input patch file, that needs shuffling/unshuffling</strong></span>
<span class="strong"><strong>&lt;output_patch&gt;    is the updated patch file</strong></span>
</pre></div><p>If you can see the help output, it means that the script is available and should just work fine.</p></li><li class="listitem">Now. just make the required change in the source tree, commit the code, and generate a patch. For our example, we will edit the <code class="literal">Sockets.java</code> file. Just add a new line with a few comments in it as shown:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[user@localhost jdk9]$ vi ./jdk/src/java.base/share/classes/jdk/net/Sockets.java</strong></span>
<span class="strong"><strong>now commit the change:</strong></span>
<span class="strong"><strong>[user@localhost jdk9]$ cd jdk</strong></span>
<span class="strong"><strong>[user@localhost jdk]$ hg commit</strong></span>
</pre></div></li><li class="listitem">Next, get the revision number of the changeset:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[user@localhost jdk]$ hg log -l 1</strong></span>
<span class="strong"><strong>changeset:    11063:9742f66b011</strong></span>
<span class="strong"><strong>tag:          tip</strong></span>
<span class="strong"><strong>user:         User &lt;user@user.org&gt;</strong></span>
<span class="strong"><strong>date:         Sun Dec 14 21:16:27 2014 +0000</strong></span>
<span class="strong"><strong>summary:      test commit</strong></span>
</pre></div></li><li class="listitem">Now, export the changeset that we just created to a patch file in an extended GIT format:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[user@localhost jdk]$ hg export -r 11063 --git &gt; 11064.patch</strong></span>
</pre></div></li><li class="listitem">Then, run the script to make the patch compatible with the OpenJDK 8 source code tree:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[user@localhost jdk]$ ../common/bin/unshuffled_patch.sh jdk 11063.patch 11063_updated.patch</strong></span>
</pre></div></li><li class="listitem">Finally, change the current folder to the <code class="literal">jdk</code> directory in the <code class="literal">jdk8u</code> source root, copy the updated patch to it, and apply it:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>[user@localhost jdk]$ cp ../../jdk9/jdk9/11063_updated.patch ./</strong></span>
<span class="strong"><strong>[user@localhost jdk]$ hg import 11063_updated.patch</strong></span>
</pre></div></li></ol></div><p>And that's it. Now <a id="id527" class="indexterm"/>all that is required is to commit the changes and then follow the normal process of making the changes in OpenJDK.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec275"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">To get some more information and to be up-to-date with the changes in the utilities, it is recommended that you visit its home page at <a class="ulink" href="http://cr.openjdk.java.net/~chegar/docs/portingScript.html">http://cr.openjdk.java.net/~chegar/docs/portingScript.html</a></li></ul></div></div></div>
<div class="section" title="Understanding OpenJDK groups"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec84"/>Understanding OpenJDK groups</h1></div></div></div><p>OpenJDK groups <a id="id528" class="indexterm"/>look at wide areas of OpenJDK and define what projects are required to support these areas. For example, the Compiler Group's sponsored project Coin added new language features in JDK7, and the HotSpot Group's sponsored project Graal makes VM functionality available via a set of APIs. The groups usually have a much longer life than the projects and do not appear and disappear very often.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec276"/>Getting ready</h2></div></div></div><p>All that is required is a computer with access to the Internet, a web browser, and some patience.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec277"/>How to do it…</h2></div></div></div><p>The following steps demonstrate documentation and some examples of groups on OpenJDK. They'll also show what groups are, how they are managed, created, and what they do:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">To become <a id="id529" class="indexterm"/>familiar with the definition of groups in OpenJDK, go to <a class="ulink" href="http://openjdk.java.net/groups/">http://openjdk.java.net/groups/</a>. There is information about various processes and procedures required to support groups and to make them function well. These procedures include the following topics:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Proposing a new group.</li><li class="listitem" style="list-style-type: disc">Nominating a contributor to become a group member.</li><li class="listitem" style="list-style-type: disc">Nominating a group member to become an OpenJDK member</li><li class="listitem" style="list-style-type: disc">Nominating a group lead</li></ul></div></li><li class="listitem">Each group <a id="id530" class="indexterm"/>has some web content that is available publically. It can be found on the left-hand side of <a class="ulink" href="http://openjdk.java.net/">http://openjdk.java.net/</a>, under <span class="strong"><strong>Groups</strong></span>. Usually the content on a group's page has a relatively standard structure and contains information such as the introduction, a list of specifications supported by the group, documentation, some guidelines on how to contribute, where to find the source code, and so on. Also, there are links to the mailing lists, blogs, and contact details. As an example, take a look at the JMX Group webpage<a id="id531" class="indexterm"/> at <a class="ulink" href="http://openjdk.java.net/groups/jmx/">http://openjdk.java.net/groups/jmx/</a>.</li><li class="listitem">We also recommended that you have a look at the list of projects and see which groups they belong to. This will give some idea about the relationship between groups and projects. The list of projects can be found on the left-hand side of <a class="ulink" href="http://openjdk.java.net/">http://openjdk.java.net/</a> under <span class="strong"><strong>Groups</strong></span>.</li></ol></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec278"/>See also</h2></div></div></div><p>It is worth spending some time exploring <a class="ulink" href="http://openjdk.java.net/">http://openjdk.java.net/</a> to see what is available and which groups exist. As we have already mentioned, group creation doesn't happen very often and no new groups have been created since 2007. The last one was the Conformance Group, which was proposed in September 2007. You can find the proposal e-mail in the mailing list archive at <a class="ulink" href="http://mail.openjdk.java.net/pipermail/announce/2007-September.txt">http://mail.openjdk.java.net/pipermail/announce/2007-September.txt</a>. See the last message in that file.</p></div></div>
<div class="section" title="Understanding OpenJDK projects"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec85"/>Understanding OpenJDK projects</h1></div></div></div><p>OpenJDK projects <a id="id532" class="indexterm"/>aim to deliver some kind of an artefact, which can be a source code, documentation, or something else. Projects are sponsored by one or more OpenJDK groups. By their nature, projects are much more short-lived than groups and often can cover the implementation of JEPs or JSRs.</p><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec279"/>How to do it…</h2></div></div></div><p>This recipe takes you through some sources of information that are available about OpenJDK projects and gives some high-level information about them:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Similar to OpenJDK Groups, there is a web page that gives some definitions about the projects and defines how they function. This page is available at <a class="ulink" href="http://openjdk.java.net/projects/">http://openjdk.java.net/projects/</a>. Among the list of procedures, you will find the following:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Becoming an Author</li><li class="listitem" style="list-style-type: disc">Appointing a Contributor to be an Author</li><li class="listitem" style="list-style-type: disc">Nominating a Contributor or Author to be a Committer</li><li class="listitem" style="list-style-type: disc">Nominating a Committer to be a Reviewer</li><li class="listitem" style="list-style-type: disc">Proposing a New Project</li></ul></div></li><li class="listitem">Very similar to groups, each project also has its own page on <a class="ulink" href="http://openjdk.java.net/">http://openjdk.java.net/</a>. The list of projects and the links to their pages can be found on the left-hand side of the website under <span class="strong"><strong>Projects</strong></span>. The project page is not very informative, but might have a link to a wiki, which usually contains lots of information.</li><li class="listitem">As an example of how projects are created, we can look at the proposal for the project <span class="emphasis"><em>Sumatra</em></span>, which can be found at <a class="ulink" href="http://mail.openjdk.java.net/pipermail/announce/2012-September/000135.html">http://mail.openjdk.java.net/pipermail/announce/2012-September/000135.html</a>. This thread also contains the voting results and, therefore, the decision to create that project.</li></ol></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec280"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">As usual, it is recommended that you spend some time exploring <a class="ulink" href="http://openjdk.java.net/">http://openjdk.java.net/</a> to see which projects are available.</li></ul></div></div></div>
<div class="section" title="Suggesting new JSRs"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec86"/>Suggesting new JSRs</h1></div></div></div><p>A <span class="strong"><strong>Java Specification Request</strong></span> (<span class="strong"><strong>JSR</strong></span>) is <a id="id533" class="indexterm"/>the request for a change to the specifications of the Java language, APS, JVM, and so on. Such changes are governed by the <a id="id534" class="indexterm"/>
<span class="strong"><strong>Java Community Process</strong></span> (<span class="strong"><strong>JCP</strong></span>), where every member of the community can register and participate in the review.</p><p>This recipe is written as if you were submitting a JSR, but keep in mind that JSRs are not usually submitted by a single individual, but by a group of experts who come out with a proposal. The group has a Spec Lead who submits the JSR. So, this recipe is more about giving you a high-level understanding of the process, helping you to see how JSRs work, and what it is all about. To get some deeper insight, see the resources provided in the <span class="emphasis"><em>See also</em></span> section.</p><p>In the following recipe, it can be seen that being a spec lead for JSR is not only a technical position, but it also involves doing lots of work with people and requires one to possess a good amount of soft and leadership skills. The leader has to push the project forward and has to be capable of handling difficult situations. There can be cases when some members of group of experts, for some reason, can't participate any more, or there is clash of personalities. The other possible situation is when the JSR itself faces complicated questions and is challenged by the other community members. Such questions have to be answered clearly and with enough knowledge and passion for people to believe that it's worth going forward and including that JSR into the JDK.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec281"/>Getting ready</h2></div></div></div><p>As this is a more procedural recipe, all that is required is a computer with access to the Internet and a web browser.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec282"/>How to do it...</h2></div></div></div><p>The following steps, on a high-level, go through the stages of a JSR lifecycle, starting from the idea and finishing with the actual implemented change:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">As a start, it would be good to create a JCP account. This is required to submit a JSR proposal and to participate in any part of a JCP. The process is very simple. Just go to <a class="ulink" href="https://jcp.org/en/home/index">https://jcp.org/en/home/index</a> and follow the steps in the registration link.</li><li class="listitem">It is good idea to explore the site and see what's already available there. The list of all JSRs is available at <a class="ulink" href="https://www.jcp.org/en/jsr/all">https://www.jcp.org/en/jsr/all</a>. Since the whole list can have too much information, there are options to filter JSRs by their stage in the approval process (<a class="ulink" href="https://www.jcp.org/en/jsr/stage">https://www.jcp.org/en/jsr/stage</a>), by technology (<a class="ulink" href="https://www.jcp.org/en/jsr/tech">https://www.jcp.org/en/jsr/tech</a>), by committee (<a class="ulink" href="https://www.jcp.org/en/jsr/ec">https://www.jcp.org/en/jsr/ec</a>), or by the platform (<a class="ulink" href="https://www.jcp.org/en/jsr/platform">https://www.jcp.org/en/jsr/platform</a>). There is also a list of JSRs by the ballot results, where you can find the results of voting for each year at <a class="ulink" href="https://www.jcp.org/en/jsr/vote_summary">https://www.jcp.org/en/jsr/vote_summary</a>.</li><li class="listitem">If your proposal is something worth doing, then, similar to all OpenJDK change processes, describe the proposal on the relevant mailing list. This will ensure that the whole thing makes sense and helps to improve the quality of the material. As a spec lead, you need to have followers, that is, a group of experts who will participate in the JCR and push it forward. Such people can be found on mailing lists, relevant forums, or can be anyone who has the right mindset to participate and feels that your idea is worth doing.</li><li class="listitem">To make an actual submission, fill the <span class="strong"><strong>Java Specification Request Proposal</strong></span>, which is available at <a class="ulink" href="https://jcp.org/en/jsr/proposal">https://jcp.org/en/jsr/proposal</a>. After submission, the JSR has to go through the <span class="strong"><strong>JSR Approval Ballot</strong></span>, which will determine whether the initial JSR submission should be approved.</li><li class="listitem">In the next<a id="id535" class="indexterm"/> stage, the group has to start working as a team, push the proposal forward, discuss it, and answer questions from other members of the community. It would be a good idea to have regular team calls, and regular face-to-face discussions can also be beneficial. This stage is probably the most important one, as it forms the precise shape of the JSR.</li><li class="listitem">All discussions have to be publically available and the expert group that has proposed the JSR has to publically answer all the raised questions. This also means that there has to be a publically available archive of all the communication on the matter.</li><li class="listitem">When all the responses for all the comments and questions have been received and the JSR is updated accordingly, it is ready for the final submission. The spec lead is responsible for completion and submitting the <span class="strong"><strong>Technology Compatibly Kit</strong></span> (<span class="strong"><strong>TCK</strong></span>)<a id="id536" class="indexterm"/> and the <a id="id537" class="indexterm"/><span class="strong"><strong>Reference Implementation</strong></span> (<span class="strong"><strong>RI</strong></span>). If a JSR is targeted to several environments, then it might be required to submit a TCK and RI for each platform. The submission has to follow the process described in the <span class="emphasis"><em>Final Release</em></span> section of the JCP 2 process at <a class="ulink" href="https://jcp.org/en/procedures/jcp2#4">https://jcp.org/en/procedures/jcp2#4</a>.</li><li class="listitem">After the final successful approval ballot, the spec lead will become the maintenance lead and the JSR will move to the maintenance stage. For details, see the <span class="emphasis"><em>Maintenance</em></span> section of JCP 2 process at <a class="ulink" href="https://jcp.org/en/procedures/jcp2#5">https://jcp.org/en/procedures/jcp2#5</a>.</li></ol></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec283"/>See also</h2></div></div></div><p>As the whole process is governed by JCP, it would be a good idea for you to go through the document at <a class="ulink" href="https://jcp.org/en/procedures/jcp2">https://jcp.org/en/procedures/jcp2</a>, which describes the latest version of the process. At the time of writing, the latest version was 2.9.</p><p>On the JCP website at <a class="ulink" href="https://jcp.org/en/resources/speclead_life">https://jcp.org/en/resources/speclead_life</a>, there is a good article about being a spec lead that has some good insights and advice. It covers almost all the aspects of the role, starting from the submission of a JSR, and ending with building a team and communicating with people. It is definitely worth reading.</p><p>As part of the JSR <a id="id538" class="indexterm"/>process, one is required to submit the <a id="id539" class="indexterm"/>
<span class="strong"><strong>Technology Compatibility Kit</strong></span> (<span class="strong"><strong>TCK</strong></span>).This is the suite of tests that are designed to ensure that a particular implementation is compliant with the JSR. This piece can be considered as one of the most complicated parts of the JSR application. The most common tool to implement the set of tests is JT Harness, but there are also some cases where the TCK might be implemented based on JUnit or TestNG.</p><p>The next revision of JCP is going to update some of the current process. This revision is covered by JSR 358. To get more information about it, visit its home page at <a class="ulink" href="https://java.net/projects/jsr358/pages/Home">https://java.net/projects/jsr358/pages/Home</a> and the JRS page at <a class="ulink" href="https://jcp.org/en/jsr/detail?id=358">https://jcp.org/en/jsr/detail?id=358</a>.</p></div></div>
<div class="section" title="Suggesting new JEPs"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec87"/>Suggesting new JEPs</h1></div></div></div><p>JEP is <a id="id540" class="indexterm"/>the abbreviation for JDK Enhancement Proposal. It means a relatively big change in OpenJDK that requires significant implementation effort, but it doesn't imply changes in the Java specification. The definition of<a id="id541" class="indexterm"/> JEP is covered in <span class="emphasis"><em>JEP 1 JDK Enhancement-Proposal &amp; Roadmap Process</em></span> which explains the details of definition of JEP, the process and the required documentation. As defined in JEP 1 (<a class="ulink" href="http://openjdk.java.net/jeps/1">http://openjdk.java.net/jeps/1</a>), JEP has to meet at least one of the following criteria:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">It requires two or more weeks of engineering effort</li><li class="listitem" style="list-style-type: disc">It makes a significant change to the JDK, or to the processes and the infrastructure by which it is developed</li><li class="listitem" style="list-style-type: disc">It is in high demand by the developers or the customers</li></ul></div><p>This recipe will cover the definition of JEPs, their lifecycle, and how to find the latest information about them. It will also go through steps that are required for the creation of a JEP. Such an approach will allow you to get a good understanding of the process and see what JEPs are.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec284"/>Getting ready</h2></div></div></div><p>This recipe doesn't require any special tools. All you need is this book and, preferably, a computer with a web browser.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec285"/>How to do it...</h2></div></div></div><p>To start with, it is a good idea to have a look at what has already been submitted as JEPs. To get the<a id="id542" class="indexterm"/> full list of JEPs, just go to <a class="ulink" href="http://openjdk.java.net/jeps/">http://openjdk.java.net/jeps/</a>. There, you can find the complete list of JEPs with their status, name, and some more information about them. Here is an example of what you can see there:</p><div class="mediaobject"><img src="graphics/8405_10_02.jpg" alt="How to do it..."/></div><p>As you can see from the list, the table of JEPs has several columns, which give a brief overview and some additional information. For example, the first column is the type of the JEP, <code class="literal">P</code> stands for <code class="literal">Process</code>, <code class="literal">F</code> for <code class="literal">Feature</code>, and so on. It is not that hard to find out the meaning of specific values if you click on <span class="strong"><strong>JEP</strong></span> and have a look at its header:</p><div class="mediaobject"><img src="graphics/8405_10_03.jpg" alt="How to do it..."/></div><p>Assuming that <a id="id543" class="indexterm"/>we have something completely new that is not in the list, and which definitely has to become a part of OpenJDK:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The next step is to read through <span class="emphasis"><em>JEP 1: JDK Enhancement-Proposal &amp; Roadmap Process</em></span>, which is available at <a class="ulink" href="http://openjdk.java.net/jeps/1">http://openjdk.java.net/jeps/1</a>. This covers the process and some mechanics of the process.</li><li class="listitem">The next step is to do some more reading. <span class="emphasis"><em>JEP 2: JEP Template</em></span> contains the template of the JEP. This template has to be filled in with the proposal details. The details will cover the overview, testing, dependencies, and so on. It is worthwhile looking at other JEP examples to fill the template. There is also a sample draft, available at <a class="ulink" href="http://cr.openjdk.java.net/~mr/jep/draft-mcimadamore-inference-01.md">http://cr.openjdk.java.net/~mr/jep/draft-mcimadamore-inference-01.md</a>.</li><li class="listitem">Before attempting to publish a JEP, it would be a good idea to submit the proposal to the appropriate OpenJDK mailing lists for discussion. This will help you to produce a high quality proposal.</li><li class="listitem">When the proposal is ready for submission, send it to <code class="email">&lt;<a class="email" href="mailto:jep-submit@openjdk.java.net">jep-submit@openjdk.java.net</a>&gt;</code>. After this, assuming that the proposal has adequate quality, it will be available in the repository (<a class="ulink" href="http://hg.openjdk.java.net/jep/jeps">http://hg.openjdk.java.net/jep/jeps</a>) and the webpage which was mentioned in step 1 of this recipe.</li><li class="listitem">After this, there will be several rounds of updates and discussions, which might eventually result in the JEP being approved and having its status changed to <code class="literal">Candidate</code>. This means that it is accepted for inclusion and has a good chance of being funded for one of the next versions. It would be worth mentioning that a JEP can also be rejected, which means that it was decided that it was not worth implementing at all.</li><li class="listitem">When a<a id="id544" class="indexterm"/> JEP is transferred to the status <code class="literal">Funded</code>, it means that the group or area lead is happy to fund it. This means that the actual implementation can now be initiated and will be included in one of the future versions.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec286"/>How it works…</h2></div></div></div><p>As was already mentioned earlier, the detailed process is described in <span class="emphasis"><em>JEP 1: JDK Enhancement-Proposal &amp; Roadmap Process</em></span>. Similar to all OpenJDK changes, this process requires lots of involvement from the community and OpenJDK members.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec287"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>JEP 1: JDK Enhancement-Proposal &amp; Roadmap Process</em></span> at <a class="ulink" href="http://openjdk.java.net/jeps/1">http://openjdk.java.net/jeps/1</a></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>JEP 2: JEP Template</em></span> at <a class="ulink" href="http://openjdk.java.net/jeps/2">http://openjdk.java.net/jeps/2</a></li><li class="listitem" style="list-style-type: disc"> It would be good for you to take a look at some exciting discussions of JEP on mailing lists at <a class="ulink" href="http://mail.openjdk.java.net/pipermail/jdk9-dev/2014-May/000781.html">http://mail.openjdk.java.net/pipermail/jdk9-dev/2014-May/000781.html</a>.</li><li class="listitem" style="list-style-type: disc">There is a JEP at <a class="ulink" href="http://cr.openjdk.java.net/~mr/jep/jep-2.0-02.html">http://cr.openjdk.java.net/~mr/jep/jep-2.0-02.html</a> that suggests some changes in the existing process. The current state is <span class="emphasis"><em>Draft</em></span>, but eventually most of the proposals will be applied to the current process.</li></ul></div></div></div></body></html>