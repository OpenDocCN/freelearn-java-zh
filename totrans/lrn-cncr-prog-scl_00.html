<html><head></head><body><div id="book-columns"><div id="book-inner"><div class="preface" title="Preface"><div class="titlepage"><div><div><h1 class="title"><a id="pref10"/><span class="koboSpan" id="kobo.1.1">Preface</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">Concurrency is everywhere. </span><span class="koboSpan" id="kobo.2.2">With the rise of multicore processors in the consumer market, the need for concurrent programming has overwhelmed the developer world. </span><span class="koboSpan" id="kobo.2.3">Where it once served to express asynchronously in programs and computer systems and was largely an academic discipline, concurrent programming is now a pervasive methodology in software development. </span><span class="koboSpan" id="kobo.2.4">As a result, advanced concurrency frameworks and libraries are sprouting at an amazing rate. </span><span class="koboSpan" id="kobo.2.5">Recent years have witnessed a renaissance in the field of concurrent computing.</span></p><p><span class="koboSpan" id="kobo.3.1">As the level of abstraction grows in modern languages and concurrency frameworks, it is becoming crucial to know how and when to use them. </span><span class="koboSpan" id="kobo.3.2">Having a good grasp of the classical concurrency and synchronization primitives, such as threads, locks, and monitors, is no longer sufficient. </span><span class="koboSpan" id="kobo.3.3">High-level concurrency frameworks, which solve many issues of traditional concurrency and are tailored towards specific tasks, are gradually overtaking the world of concurrent programming.</span></p><p><span class="koboSpan" id="kobo.4.1">This book describes high-level concurrent programming in Scala. </span><span class="koboSpan" id="kobo.4.2">It presents detailed explanations of various concurrency topics and covers the basic theory of concurrent programming. </span><span class="koboSpan" id="kobo.4.3">Simultaneously, it describes modern concurrency frameworks, shows their detailed semantics, and teaches you how to use them. </span><span class="koboSpan" id="kobo.4.4">Its goal is to introduce important concurrency abstractions and, at the same time, show how they work in real code.</span></p><p><span class="koboSpan" id="kobo.5.1">We are convinced that, by reading this book, you will gain both a solid theoretical understanding of concurrent programming and develop a set of useful practical skills that are required to write correct and efficient concurrent programs. </span><span class="koboSpan" id="kobo.5.2">These skills are the first steps toward becoming a modern concurrency expert.</span></p><p><span class="koboSpan" id="kobo.6.1">We hope that you will have as much fun reading this book as we did writing it.</span></p><div class="section" title="What this book covers"><div class="titlepage"><div><div><h1 class="title"><a id="pf10lvl1sec1"/><span class="koboSpan" id="kobo.7.1">What this book covers</span></h1></div></div></div><p><span class="koboSpan" id="kobo.8.1">This book is organized into a sequence of chapters with various topics on concurrent programming. </span><span class="koboSpan" id="kobo.8.2">The book covers the fundamental concurrent APIs that are a part of the Scala runtime, introduces more complex concurrency primitives, and gives an extensive overview of high-level concurrency abstractions.</span></p><p><a class="link" href="ch01.html" title="Chapter 1. Introduction"><span class="koboSpan" id="kobo.9.1">Chapter 1</span></a><span class="koboSpan" id="kobo.10.1">,</span><span class="emphasis"><em><span class="koboSpan" id="kobo.11.1"> Introduction</span></em></span><span class="koboSpan" id="kobo.12.1">, explains the need for concurrent programming and gives some philosophical background. </span><span class="koboSpan" id="kobo.12.2">At the same time, it covers the basics of the Scala programming language that are required for understanding the rest of this book.</span></p><p><a class="link" href="ch02.html" title="Chapter 2. Concurrency on the JVM and the Java Memory Model"><span class="koboSpan" id="kobo.13.1">Chapter 2</span></a><span class="koboSpan" id="kobo.14.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.15.1">Concurrency on the JVM and the Java Memory Model</span></em></span><span class="koboSpan" id="kobo.16.1">, teaches you the basics of concurrent programming. </span><span class="koboSpan" id="kobo.16.2">This chapter will teach you how to use threads and how to protect access to shared memory and introduce the Java Memory Model.</span></p><p><a class="link" href="ch03.html" title="Chapter 3. Traditional Building Blocks of Concurrency"><span class="koboSpan" id="kobo.17.1">Chapter 3</span></a><span class="koboSpan" id="kobo.18.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.19.1">Traditional Building Blocks of Concurrency</span></em></span><span class="koboSpan" id="kobo.20.1">, presents classic concurrency utilities, such as thread pools, atomic variables, and concurrent collections, with a particular focus on the interaction with the features of the Scala language. </span><span class="koboSpan" id="kobo.20.2">The emphasis in this book is on the modern, high-level concurrent programming frameworks. </span><span class="koboSpan" id="kobo.20.3">Consequently, this chapter presents an overview of traditional concurrent programming techniques, but it does not aim to be extensive.</span></p><p><a class="link" href="ch04.html" title="Chapter 4.  Asynchronous Programming with Futures and Promises"><span class="koboSpan" id="kobo.21.1">Chapter 4</span></a><span class="koboSpan" id="kobo.22.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.23.1">Asynchronous Programming with Futures and Promises</span></em></span><span class="koboSpan" id="kobo.24.1">, is the first chapter that deals with a Scala-specific concurrency framework. </span><span class="koboSpan" id="kobo.24.2">This chapter presents the futures and promises API and shows how to correctly use them when implementing asynchronous programs.</span></p><p><a class="link" href="ch05.html" title="Chapter 5. Data-Parallel Collections"><span class="koboSpan" id="kobo.25.1">Chapter 5</span></a><span class="koboSpan" id="kobo.26.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.27.1">Data-Parallel Collections</span></em></span><span class="koboSpan" id="kobo.28.1">, describes the Scala parallel collections framework. </span><span class="koboSpan" id="kobo.28.2">In this chapter, you will learn how to parallelize collection operations, when it is allowed to parallelize them, and how to assess the performance benefits of doing so.</span></p><p><a class="link" href="ch06.html" title="Chapter 6. Concurrent Programming with Reactive Extensions"><span class="koboSpan" id="kobo.29.1">Chapter 6</span></a><span class="koboSpan" id="kobo.30.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.31.1">Concurrent Programming with Reactive Extensions</span></em></span><span class="koboSpan" id="kobo.32.1">, teaches you how to use the Reactive Extensions framework for event-based and asynchronous programming. </span><span class="koboSpan" id="kobo.32.2">You will see how the operations on event streams correspond to collection operations, how to pass events from one thread to another, and how to design a reactive user interface using event streams.</span></p><p><a class="link" href="ch07.html" title="Chapter 7. Software Transactional Memory"><span class="koboSpan" id="kobo.33.1">Chapter 7</span></a><span class="koboSpan" id="kobo.34.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.35.1">Software Transactional Memory</span></em></span><span class="koboSpan" id="kobo.36.1">, introduces the ScalaSTM library for transactional programming, which aims to provide a safer, more intuitive, shared-memory programming model. </span><span class="koboSpan" id="kobo.36.2">In this chapter, you will learn how to protect access to shared data using scalable memory transactions and, at the same time, reduce the risk of deadlocks and race conditions.</span></p><p><a class="link" href="ch08.html" title="Chapter 8.  Actors"><span class="koboSpan" id="kobo.37.1">Chapter 8</span></a><span class="koboSpan" id="kobo.38.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.39.1">Actors</span></em></span><span class="koboSpan" id="kobo.40.1">, presents the actor programming model and the Akka framework. </span><span class="koboSpan" id="kobo.40.2">In this chapter, you will learn how to transparently build message-passing distributed programs that run on multiple machines.</span></p><p><a class="link" href="ch09.html" title="Chapter 9. Concurrency in Practice"><span class="koboSpan" id="kobo.41.1">Chapter 9</span></a><span class="koboSpan" id="kobo.42.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.43.1">Concurrency in Practice</span></em></span><span class="koboSpan" id="kobo.44.1">, summarizes the different concurrency libraries introduced in the earlier chapters. </span><span class="koboSpan" id="kobo.44.2">In this chapter, you will learn how to choose the correct concurrency abstraction to solve a given problem, and how to combine different concurrency abstractions together when designing larger concurrent applications.</span></p><p><a class="link" href="ch10.html" title="Chapter 10.  Reactors"><span class="koboSpan" id="kobo.45.1">Chapter 10</span></a><span class="koboSpan" id="kobo.46.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.47.1">Reactors</span></em></span><span class="koboSpan" id="kobo.48.1">, presents the reactor programming model, whose focus is improved composition in concurrent and distributed programs. </span><span class="koboSpan" id="kobo.48.2">This emerging model enables separation of concurrent and distributed programming patterns into modular components called protocols.</span></p><p><span class="koboSpan" id="kobo.49.1">While we recommend that you read the chapters in the order in which they appear, this is not strictly necessary. </span><span class="koboSpan" id="kobo.49.2">If you are well acquainted with the content in </span><a class="link" href="ch02.html" title="Chapter 2. Concurrency on the JVM and the Java Memory Model"><span class="koboSpan" id="kobo.50.1">Chapter 2</span></a><span class="koboSpan" id="kobo.51.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.52.1">Concurrency on the JVM and the Java Memory Model</span></em></span><span class="koboSpan" id="kobo.53.1">, you can study most of the other chapters directly. </span><span class="koboSpan" id="kobo.53.2">The only chapters that rely on the content from all the preceding chapters are </span><a class="link" href="ch09.html" title="Chapter 9. Concurrency in Practice"><span class="koboSpan" id="kobo.54.1">Chapter 9</span></a><span class="koboSpan" id="kobo.55.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.56.1">Concurrency in Practice</span></em></span><span class="koboSpan" id="kobo.57.1">, where we present a practical overview of the topics in this book, and </span><a class="link" href="ch10.html" title="Chapter 10.  Reactors"><span class="koboSpan" id="kobo.58.1">Chapter 10</span></a><span class="koboSpan" id="kobo.59.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.60.1">Reactors</span></em></span><span class="koboSpan" id="kobo.61.1">, for which it is helpful to understand how actors and event streams work.</span></p></div></div></div></div>
<div id="book-columns"><div id="book-inner"><div class="section" title="What you need for this book"><div class="titlepage"><div><div><h1 class="title"><a id="pf10lvl1sec2"/><span class="koboSpan" id="kobo.1.1">What you need for this book</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">In this section, we describe some of the requirements that are necessary to read and understand this book. </span><span class="koboSpan" id="kobo.2.2">We explain how to install the Java Development Kit, which is required to run Scala programs and show how to use Simple Build Tool to run various examples.</span></p><p><span class="koboSpan" id="kobo.3.1">We will not require an IDE in this book. </span><span class="koboSpan" id="kobo.3.2">The program that you use to write code is entirely up to you, and you can choose anything, such as Vim, Emacs, Sublime Text, Eclipse, IntelliJ IDEA, Notepad++, or some other text editor.</span></p><div class="section" title="Installing the JDK"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec3"/><span class="koboSpan" id="kobo.4.1">Installing the JDK</span></h2></div></div></div><p><span class="koboSpan" id="kobo.5.1">Scala programs are not compiled directly to the native machine code, so they cannot be run as executables on various hardware platforms. </span><span class="koboSpan" id="kobo.5.2">Instead, the Scala compiler produces an intermediate code format called the Java bytecode. </span><span class="koboSpan" id="kobo.5.3">To run this intermediate code, your computer must have the Java Virtual Machine software installed. </span><span class="koboSpan" id="kobo.5.4">In this section, we explain how to download and install the Java Development Kit, which includes the Java Virtual Machine and other useful tools.</span></p><p><span class="koboSpan" id="kobo.6.1">There are multiple implementations of the JDK that are available from different software vendors. </span><span class="koboSpan" id="kobo.6.2">We recommend that you use the Oracle JDK distribution. </span><span class="koboSpan" id="kobo.6.3">To download and install the Java Development Kit, follow these steps:</span></p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><span class="koboSpan" id="kobo.7.1">Open the following URL in your web browser: </span><a class="ulink" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html"><span class="koboSpan" id="kobo.8.1">www.oracle.com/technetwork/java/javase/downloads/index.html</span></a><span class="koboSpan" id="kobo.9.1">.</span></li><li class="listitem"><span class="koboSpan" id="kobo.10.1">If you cannot open the specified URL, go to your search engine and enter the keywords </span><span class="strong"><strong><span class="koboSpan" id="kobo.11.1">JDK Download</span></strong></span><span class="koboSpan" id="kobo.12.1">.</span></li><li class="listitem"><span class="koboSpan" id="kobo.13.1">Once you find the link for the Java SE, download on the Oracle website, download the appropriate version of JDK 7 for your operating system: Windows, Linux, or Mac OS X; 32-bit or 64-bit.</span></li><li class="listitem"><span class="koboSpan" id="kobo.14.1">If you are using the Windows operating system, simply run the installer program. </span><span class="koboSpan" id="kobo.14.2">If you are using the Mac OS X, open the dmg archive to install JDK. </span><span class="koboSpan" id="kobo.14.3">Finally, if you are using Linux, decompress the archive to a XYZ directory, and add the bin subdirectory to the PATH variable:</span><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.15.1">      export PATH=XYZ/bin:$PATH</span></strong></span>
</pre></li><li class="listitem"><span class="koboSpan" id="kobo.16.1">You should now be able to run the java and javac commands in the terminal. </span><span class="koboSpan" id="kobo.16.2">Enter the </span><span class="strong"><strong>
<code class="literal"><span class="koboSpan" id="kobo.17.1">javac</span></code>
</strong></span><span class="koboSpan" id="kobo.18.1"> command to see if it is available (you will never invoke this command directly in this book, but running it verifies that it is available).</span></li></ol></div><p><span class="koboSpan" id="kobo.19.1">It is possible that your operating system already has JDK installed. </span><span class="koboSpan" id="kobo.19.2">To verify this, simply run the </span><span class="strong"><strong><code class="literal"><span class="koboSpan" id="kobo.20.1">javac</span></code></strong></span><span class="koboSpan" id="kobo.21.1"> command, as we did in the last step in the preceding description.</span></p></div><div class="section" title="Installing and using SBT"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec4"/><span class="koboSpan" id="kobo.22.1">Installing and using SBT</span></h2></div></div></div><p><span class="strong"><strong><span class="koboSpan" id="kobo.23.1">Simple Build Tool</span></strong></span><span class="koboSpan" id="kobo.24.1"> (</span><span class="strong"><strong><span class="koboSpan" id="kobo.25.1">SBT</span></strong></span><span class="koboSpan" id="kobo.26.1">) is a command-line build tool used for Scala projects. </span><span class="koboSpan" id="kobo.26.2">Its purpose is to compile Scala code, manage dependencies, continuous compilation and testing, deployment, and many other uses. </span><span class="koboSpan" id="kobo.26.3">Throughout this book, we will use SBT to manage our project dependencies and run example code.</span></p><p><span class="koboSpan" id="kobo.27.1">To install SBT, follow these instructions:</span></p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><span class="koboSpan" id="kobo.28.1">Go  to the </span><a class="ulink" href="http://www.scala-sbt.org/"><span class="koboSpan" id="kobo.29.1">http://www.scala-sbt.org/</span></a><span class="koboSpan" id="kobo.30.1"> URL.</span></li><li class="listitem"><span class="koboSpan" id="kobo.31.1">Download the installation file for your platform. </span><span class="koboSpan" id="kobo.31.2">If you are running on Windows, this is the </span><code class="literal"><span class="koboSpan" id="kobo.32.1">msi</span></code><span class="koboSpan" id="kobo.33.1"> installer file. </span><span class="koboSpan" id="kobo.33.2">If you are running on Linux or OS X, this is the </span><code class="literal"><span class="koboSpan" id="kobo.34.1">zip</span></code><span class="koboSpan" id="kobo.35.1"> or </span><code class="literal"><span class="koboSpan" id="kobo.36.1">tgz</span></code><span class="koboSpan" id="kobo.37.1"> archive file.</span></li><li class="listitem"><span class="koboSpan" id="kobo.38.1">Install SBT. </span><span class="koboSpan" id="kobo.38.2">If you are running on Windows, simply run the installer file. </span><span class="koboSpan" id="kobo.38.3">If you are running on Linux or OS X, unzip the contents of the archive in your home directory.</span></li></ol></div><p><span class="koboSpan" id="kobo.39.1">You are now ready to use SBT. </span><span class="koboSpan" id="kobo.39.2">In the following steps, we will create a new SBT project:</span></p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><span class="koboSpan" id="kobo.40.1">Open a Command Prompt if you are running on Windows, or a terminal window if you are running on Linux or OS X.</span></li><li class="listitem"><span class="koboSpan" id="kobo.41.1">Create an empty directory called scala-concurrency-examples:</span><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.42.1">      $ mkdir scala-concurrency-examples</span></strong></span>
</pre></li><li class="listitem"><span class="koboSpan" id="kobo.43.1">Change your path to the scala-concurrency-examples directory:</span><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.44.1">      $ cd scala-concurrency-examples</span></strong></span>
</pre></li><li class="listitem"><span class="koboSpan" id="kobo.45.1">Create a single source code directory for our examples:</span><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.46.1">      $ mkdir src/main/scala/org/learningconcurrency/</span></strong></span>
</pre></li><li class="listitem"><span class="koboSpan" id="kobo.47.1">Now, use your editor to create a build definition file named build.sbt. </span><span class="koboSpan" id="kobo.47.2">This file defines various project properties. </span><span class="koboSpan" id="kobo.47.3">Create it in the root directory of the project (scala-concurrency-examples). </span><span class="koboSpan" id="kobo.47.4">Add the following contents to the build definition file (note that the empty lines are mandatory):</span><pre class="programlisting"><span class="koboSpan" id="kobo.48.1">        name := "concurrency-examples"

        version := "1.0"

        scalaVersion := "2.11.1"</span></pre></li><li class="listitem"><span class="koboSpan" id="kobo.49.1">Finally, go back to the terminal and run SBT from the root directory of the project:</span><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.50.1">      $ sbt</span></strong></span>
</pre></li><li class="listitem"><span class="koboSpan" id="kobo.51.1">SBT will start an interactive shell, which we will use to give SBT various build commands.</span></li></ol></div><p><span class="koboSpan" id="kobo.52.1">Now, you can start writing Scala programs. </span><span class="koboSpan" id="kobo.52.2">Open your editor, and create a source code file named </span><code class="literal"><span class="koboSpan" id="kobo.53.1">HelloWorld.scala</span></code><span class="koboSpan" id="kobo.54.1"> in the </span><code class="literal"><span class="koboSpan" id="kobo.55.1">src/main/scala/org/learningconcurrency</span></code><span class="koboSpan" id="kobo.56.1"> directory. </span><span class="koboSpan" id="kobo.56.2">Add the following contents to the </span><code class="literal"><span class="koboSpan" id="kobo.57.1">HelloWorld.scala</span></code><span class="koboSpan" id="kobo.58.1"> file:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.59.1">    package org.learningconcurrency

    object HelloWorld extends App {
      println("Hello, world!")
    }</span></pre><p><span class="koboSpan" id="kobo.60.1">Now, go back to the terminal window with the SBT interactive shell and run the program with the following command:</span></p><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.61.1">&gt; run</span></strong></span>
</pre><p><span class="koboSpan" id="kobo.62.1">Running this program should give the following output:</span></p><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.63.1">Hello, world!</span></strong></span>
</pre><p><span class="koboSpan" id="kobo.64.1">These steps are sufficient to run most of the examples in this book. </span><span class="koboSpan" id="kobo.64.2">Occasionally, we will rely on external libraries when running the examples. </span><span class="koboSpan" id="kobo.64.3">These libraries are resolved automatically by SBT from standard software repositories. </span><span class="koboSpan" id="kobo.64.4">For some libraries, we will need to specify additional software repositories, so we add the following lines to our </span><code class="literal"><span class="koboSpan" id="kobo.65.1">build.sbt</span></code><span class="koboSpan" id="kobo.66.1"> file:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.67.1">    resolvers ++= Seq(
      "Sonatype OSS Snapshots" at
        "https://oss.sonatype.org/content/repositories/snapshots",
      "Sonatype OSS Releases" at
        "https://oss.sonatype.org/content/repositories/releases",
      "Typesafe Repository" at
        "http://repo.typesafe.com/typesafe/releases/"
    )</span></pre><p><span class="koboSpan" id="kobo.68.1">Now that we have added all the necessary software repositories, we can add some concrete libraries. </span><span class="koboSpan" id="kobo.68.2">By adding the following line to the </span><code class="literal"><span class="koboSpan" id="kobo.69.1">build.sbt</span></code><span class="koboSpan" id="kobo.70.1"> file, we obtain access to the Apache Commons IO library:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.71.1">    libraryDependencies += "commons-io" % "commons-io" % "2.4"</span></pre><p><span class="koboSpan" id="kobo.72.1">After changing the </span><code class="literal"><span class="koboSpan" id="kobo.73.1">build.sbt</span></code><span class="koboSpan" id="kobo.74.1"> file, it is necessary to reload any running SBT instances. </span><span class="koboSpan" id="kobo.74.2">In the SBT interactive shell, we need to enter the following command:</span></p><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.75.1">&gt; reload</span></strong></span>
</pre><p><span class="koboSpan" id="kobo.76.1">This enables SBT to detect any changes in the build definition file and download additional software packages when necessary.</span></p><p><span class="koboSpan" id="kobo.77.1">Different Scala libraries live in different namespaces called packages. </span><span class="koboSpan" id="kobo.77.2">To obtain access to the contents of a specific package, we use the </span><code class="literal"><span class="koboSpan" id="kobo.78.1">import</span></code><span class="koboSpan" id="kobo.79.1"> statement. </span><span class="koboSpan" id="kobo.79.2">When we use a specific concurrency library in an example for the first time, we will always show the necessary set of </span><code class="literal"><span class="koboSpan" id="kobo.80.1">import</span></code><span class="koboSpan" id="kobo.81.1"> statements. </span><span class="koboSpan" id="kobo.81.2">On subsequent uses of the same library, we will not repeat the same </span><code class="literal"><span class="koboSpan" id="kobo.82.1">import</span></code><span class="koboSpan" id="kobo.83.1"> statements.</span></p><p><span class="koboSpan" id="kobo.84.1">Similarly, we avoid adding package declarations in the code examples to keep them short. </span><span class="koboSpan" id="kobo.84.2">Instead, we assume that the code in a specific chapter is in the similarly named package. </span><span class="koboSpan" id="kobo.84.3">For example, all the code belonging to </span><a class="link" href="ch02.html" title="Chapter 2. Concurrency on the JVM and the Java Memory Model"><span class="koboSpan" id="kobo.85.1">Chapter 2</span></a><span class="koboSpan" id="kobo.86.1">, </span><span class="emphasis"><em><span class="koboSpan" id="kobo.87.1">Concurrency on the JVM and the Java Memory Model</span></em></span><span class="koboSpan" id="kobo.88.1">, resides in the </span><code class="literal"><span class="koboSpan" id="kobo.89.1">org.learningconcurrency.ch2</span></code><span class="koboSpan" id="kobo.90.1"> package. </span><span class="koboSpan" id="kobo.90.2">Source code files for the examples presented in that chapter begin with the following code:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.91.1">    package org.learningconcurrency
    package ch2</span></pre><p><span class="koboSpan" id="kobo.92.1">Finally, this book deals with concurrency and asynchronous execution. </span><span class="koboSpan" id="kobo.92.2">Many of the examples start a concurrent computation that continues executing after the main execution stops. </span><span class="koboSpan" id="kobo.92.3">To make sure that these concurrent computations always complete, we will run most of the examples in the same JVM instance as SBT itself. </span><span class="koboSpan" id="kobo.92.4">We add the following line to our </span><code class="literal"><span class="koboSpan" id="kobo.93.1">build.sbt</span></code><span class="koboSpan" id="kobo.94.1"> file:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.95.1">    fork := false</span></pre><p><span class="koboSpan" id="kobo.96.1">In the examples, where running in a separate JVM process is required, we will point this out and give clear instructions.</span></p></div><div class="section" title="Using Eclipse, IntelliJ IDEA, or another IDE"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec5"/><span class="koboSpan" id="kobo.97.1">Using Eclipse, IntelliJ IDEA, or another IDE</span></h2></div></div></div><p><span class="koboSpan" id="kobo.98.1">An advantage of using an </span><span class="strong"><strong><span class="koboSpan" id="kobo.99.1">Integrated Development Environment</span></strong></span><span class="koboSpan" id="kobo.100.1"> (</span><span class="strong"><strong><span class="koboSpan" id="kobo.101.1">IDE</span></strong></span><span class="koboSpan" id="kobo.102.1">) such as Eclipse or IntelliJ IDEA is that you can write, compile, and run your Scala programs automatically. </span><span class="koboSpan" id="kobo.102.2">In this case, there is no need to install SBT, as described in the previous section. </span><span class="koboSpan" id="kobo.102.3">While we advise that you run the examples using SBT, you can alternatively use an IDE.</span></p><p><span class="koboSpan" id="kobo.103.1">There is an important caveat when running the examples in this book using an IDE: editors such as Eclipse and IntelliJ IDEA run the program inside a separate JVM process. </span><span class="koboSpan" id="kobo.103.2">As mentioned in the previous section, certain concurrent computations continue executing after the main execution stops. </span><span class="koboSpan" id="kobo.103.3">To make sure that they always complete, you will sometimes need to add the </span><code class="literal"><span class="koboSpan" id="kobo.104.1">sleep</span></code><span class="koboSpan" id="kobo.105.1"> statements at the end of the main execution, which slow down the main execution. </span><span class="koboSpan" id="kobo.105.2">In most of the examples in this book, the </span><code class="literal"><span class="koboSpan" id="kobo.106.1">sleep</span></code><span class="koboSpan" id="kobo.107.1"> statements are already added for you, but in some programs, you might have to add them yourself.</span></p></div></div></div></div>
<div id="book-columns"><div id="book-inner"><div class="section" title="Who this book is for"><div class="titlepage"><div><div><h1 class="title"><a id="pf10lvl1sec3"/><span class="koboSpan" id="kobo.1.1">Who this book is for</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">This book is primarily intended for developers who have learned how to write sequential Scala programs, and wish to learn how to write correct concurrent programs. </span><span class="koboSpan" id="kobo.2.2">The book assumes that you have a basic knowledge of the Scala programming language. </span><span class="koboSpan" id="kobo.2.3">Throughout this book, we strive to use the simple features of Scala in order to demonstrate how to write concurrent programs. </span><span class="koboSpan" id="kobo.2.4">Even with an elementary knowledge of Scala, you should have no problem understanding various concurrency topics.</span></p><p><span class="koboSpan" id="kobo.3.1">This is not to say that the book is limited to Scala developers. </span><span class="koboSpan" id="kobo.3.2">Whether you have experience with Java, come from a .NET background, or are generally a programming language aficionado, chances are that you will find the content in this book insightful. </span><span class="koboSpan" id="kobo.3.3">A basic understanding of object-oriented or functional programming should be a sufficient prerequisite.</span></p><p><span class="koboSpan" id="kobo.4.1">Finally, this book is a good introduction to modern concurrent programming in the broader sense. </span><span class="koboSpan" id="kobo.4.2">Even if you have the basic knowledge about multithreaded computing, or the JVM concurrency model, you will learn a lot about modern, high-level concurrency utilities. </span><span class="koboSpan" id="kobo.4.3">Many of the concurrency libraries in this book are only starting to find their way into mainstream programming languages, and some of them are truly cutting-edge technologies.</span></p></div></div></div>
<div id="book-columns"><div id="book-inner"><div class="section" title="Conventions"><div class="titlepage"><div><div><h1 class="title"><a id="pf10lvl1sec4"/><span class="koboSpan" id="kobo.1.1">Conventions</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">In this book, you will find a number of text styles that distinguish between different kinds of information. </span><span class="koboSpan" id="kobo.2.2">Here are some examples of these styles and an explanation of their meaning.</span></p><p><span class="koboSpan" id="kobo.3.1">Code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "The next lines of code read the link and assign it to the to the </span><code class="literal"><span class="koboSpan" id="kobo.4.1">BeautifulSoup</span></code><span class="koboSpan" id="kobo.5.1"> function."</span></p><p><span class="koboSpan" id="kobo.6.1">A block of code is set as follows:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.7.1">    package org
    package object learningconcurrency {
      def log(msg: String): Unit =   
        println(s"${Thread.currentThread.getName}: $msg")
    }</span></pre><p><span class="koboSpan" id="kobo.8.1">When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.9.1">    object ThreadsMain extends App {
      </span><span class="strong"><strong><span class="koboSpan" id="kobo.10.1">val t: Thread = Thread.currentThread      val name = t.getName</span></strong></span><span class="koboSpan" id="kobo.11.1">
      println(s"I am the thread $name")
    }</span></pre><p><span class="koboSpan" id="kobo.12.1">Any command-line input or output is written as follows:</span></p><pre class="programlisting">
<span class="strong"><strong><span class="koboSpan" id="kobo.13.1">$ mkdir scala-concurrency-examples</span></strong></span>
</pre><p><span class="strong"><strong><span class="koboSpan" id="kobo.14.1">New terms </span></strong></span><span class="koboSpan" id="kobo.15.1">and </span><span class="strong"><strong><span class="koboSpan" id="kobo.16.1">important words </span></strong></span><span class="koboSpan" id="kobo.17.1">are shown in bold. </span><span class="koboSpan" id="kobo.17.2">Words that you see on the screen, for example, in menus or dialog boxes, appear in the text like this: "In order to download new modules, we will go to </span><span class="strong"><strong><span class="koboSpan" id="kobo.18.1">Files</span></strong></span><span class="koboSpan" id="kobo.19.1"> | </span><span class="strong"><strong><span class="koboSpan" id="kobo.20.1">Settings</span></strong></span><span class="koboSpan" id="kobo.21.1"> | </span><span class="strong"><strong><span class="koboSpan" id="kobo.22.1">Project Name</span></strong></span><span class="koboSpan" id="kobo.23.1"> | </span><span class="strong"><strong><span class="koboSpan" id="kobo.24.1">Project Interpreter</span></strong></span><span class="koboSpan" id="kobo.25.1">."</span></p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note1"/><span class="koboSpan" id="kobo.26.1">Note</span></h3><p><span class="koboSpan" id="kobo.27.1">Warnings or important notes appear in a box like this.</span></p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip2"/><span class="koboSpan" id="kobo.28.1">Tip</span></h3><p><span class="koboSpan" id="kobo.29.1">Tips and tricks appear like this.</span></p></div></div></div></div></div>
<div id="book-columns"><div id="book-inner"><div class="section" title="Reader feedback"><div class="titlepage"><div><div><h1 class="title"><a id="pf10lvl1sec5"/><span class="koboSpan" id="kobo.1.1">Reader feedback</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">Feedback from our readers is always welcome. </span><span class="koboSpan" id="kobo.2.2">Let us know what you think about this book-what you liked or disliked. </span><span class="koboSpan" id="kobo.2.3">Reader feedback is important for us as it helps us develop titles that you will really get the most out of. </span><span class="koboSpan" id="kobo.2.4">To send us general feedback, simply e-mail feedback@packtpub.com, and mention the book's title in the subject of your message. </span><span class="koboSpan" id="kobo.2.5">If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, see our author guide at </span><a class="ulink" href="http://www.packtpub.com/authors"><span class="koboSpan" id="kobo.3.1">www.packtpub.com/authors</span></a><span class="koboSpan" id="kobo.4.1">.</span></p></div></div></div>
<div id="book-columns"><div id="book-inner"><div class="section" title="Customer support"><div class="titlepage"><div><div><h1 class="title"><a id="pf10lvl1sec6"/><span class="koboSpan" id="kobo.1.1">Customer support</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">Now that you are the proud owner of a Packt book, we have a number of things to help you to get the most from your purchase.</span></p><div class="section" title="Downloading the example code"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec6"/><span class="koboSpan" id="kobo.3.1">Downloading the example code</span></h2></div></div></div><p><span class="koboSpan" id="kobo.4.1">You can download the example code files for this book from your account at </span><a class="ulink" href="http://www.packtpub.com"><span class="koboSpan" id="kobo.5.1">http://www.packtpub.com</span></a><span class="koboSpan" id="kobo.6.1">. </span><span class="koboSpan" id="kobo.6.2">If you purchased this book elsewhere, you can visit </span><a class="ulink" href="http://www.packtpub.com/support"><span class="koboSpan" id="kobo.7.1">http://www.packtpub.com/support</span></a><span class="koboSpan" id="kobo.8.1"> and register to have the files e-mailed directly to you.</span></p><p><span class="koboSpan" id="kobo.9.1">You can download the code files by following these steps:</span></p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><span class="koboSpan" id="kobo.10.1">Log in or register to our website using your e-mail address and password.</span></li><li class="listitem"><span class="koboSpan" id="kobo.11.1">Hover the mouse pointer on the </span><span class="strong"><strong><span class="koboSpan" id="kobo.12.1">SUPPORT</span></strong></span><span class="koboSpan" id="kobo.13.1"> tab at the top.</span></li><li class="listitem"><span class="koboSpan" id="kobo.14.1">Click on </span><span class="strong"><strong><span class="koboSpan" id="kobo.15.1">Code Downloads &amp; Errata</span></strong></span><span class="koboSpan" id="kobo.16.1">.</span></li><li class="listitem"><span class="koboSpan" id="kobo.17.1">Enter the name of the book in the </span><span class="strong"><strong><span class="koboSpan" id="kobo.18.1">Search</span></strong></span><span class="koboSpan" id="kobo.19.1"> box.</span></li><li class="listitem"><span class="koboSpan" id="kobo.20.1">Select the book for which you're looking to download the code files.</span></li><li class="listitem"><span class="koboSpan" id="kobo.21.1">Choose from the drop-down menu where you purchased this book from.</span></li><li class="listitem"><span class="koboSpan" id="kobo.22.1">Click on </span><span class="strong"><strong><span class="koboSpan" id="kobo.23.1">Code Download</span></strong></span><span class="koboSpan" id="kobo.24.1">.</span></li></ol></div><p><span class="koboSpan" id="kobo.25.1">Once the file is downloaded, please make sure that you unzip or extract the folder using the latest version of:</span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.26.1">WinRAR / 7-Zip for Windows</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.27.1">Zipeg / iZip / UnRarX for Mac</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.28.1">7-Zip / PeaZip for Linux</span></li></ul></div><p><span class="koboSpan" id="kobo.29.1">The code bundle for the book is also hosted on GitHub at </span><a class="ulink" href="https://github.com/PacktPublishing/LearningConcurrentProgrammingInScalaSecondEdition"><span class="koboSpan" id="kobo.30.1">https://github.com/PacktPublishing/LearningConcurrentProgrammingInScalaSecondEdition</span></a><span class="koboSpan" id="kobo.31.1">. </span><span class="koboSpan" id="kobo.31.2">We also have other code bundles from our rich catalog of books and videos available at </span><a class="ulink" href="https://github.com/PacktPublishing/"><span class="koboSpan" id="kobo.32.1">https://github.com/PacktPublishing/</span></a><span class="koboSpan" id="kobo.33.1">. </span><span class="koboSpan" id="kobo.33.2">Check them out!</span></p></div><div class="section" title="Downloading the color images of this book"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec7"/><span class="koboSpan" id="kobo.34.1">Downloading the color images of this book</span></h2></div></div></div><p><span class="koboSpan" id="kobo.35.1">We also provide you with a PDF file that has color images of the screenshots/diagrams used in this book. </span><span class="koboSpan" id="kobo.35.2">The color images will help you better understand the changes in the output. </span><span class="koboSpan" id="kobo.35.3">You can download this file from </span><a class="ulink" href="https://www.packtpub.com/sites/default/files/downloads/LearningConcurrentProgrammingInScalaSecondEdition_ColorImages.pdf"><span class="koboSpan" id="kobo.36.1">https://www.packtpub.com/sites/default/files/downloads/LearningConcurrentProgrammingInScalaSecondEdition_ColorImages.pdf</span></a><span class="koboSpan" id="kobo.37.1">.</span></p></div><div class="section" title="Errata"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec8"/><span class="koboSpan" id="kobo.38.1">Errata</span></h2></div></div></div><p><span class="koboSpan" id="kobo.39.1">Although we have taken every care to ensure the accuracy of our content, mistakes do happen. </span><span class="koboSpan" id="kobo.39.2">If you find a mistake in one of our books-maybe a mistake in the text or the code-we would be grateful if you could report this to us. </span><span class="koboSpan" id="kobo.39.3">By doing so, you can save other readers from frustration and help us improve subsequent versions of this book. </span><span class="koboSpan" id="kobo.39.4">If you find any errata, please report them by visiting </span><a class="ulink" href="http://www.packtpub.com/submit-errata"><span class="koboSpan" id="kobo.40.1">http://www.packtpub.com/submit-errata</span></a><span class="koboSpan" id="kobo.41.1">, selecting your book, clicking on the </span><span class="strong"><strong><span class="koboSpan" id="kobo.42.1">Errata Submission Form</span></strong></span><span class="koboSpan" id="kobo.43.1"> link, and entering the details of your errata. </span><span class="koboSpan" id="kobo.43.2">Once your errata are verified, your submission will be accepted and the errata will be uploaded to our website or added to any list of existing errata under the Errata section of that title.</span></p><p><span class="koboSpan" id="kobo.44.1">To view the previously submitted errata, go to </span><a class="ulink" href="https://www.packtpub.com/books/content/support"><span class="koboSpan" id="kobo.45.1">https://www.packtpub.com/books/content/support</span></a><span class="koboSpan" id="kobo.46.1"> and enter the name of the book in the search field. </span><span class="koboSpan" id="kobo.46.2">The required information will appear under the </span><span class="strong"><strong><span class="koboSpan" id="kobo.47.1">Errata</span></strong></span><span class="koboSpan" id="kobo.48.1"> section.</span></p></div><div class="section" title="Piracy"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec9"/><span class="koboSpan" id="kobo.49.1">Piracy</span></h2></div></div></div><p><span class="koboSpan" id="kobo.50.1">Piracy of copyrighted material on the Internet is an ongoing problem across all media. </span><span class="koboSpan" id="kobo.50.2">At Packt, we take the protection of our copyright and licenses very seriously. </span><span class="koboSpan" id="kobo.50.3">If you come across any illegal copies of our works in any form on the Internet, please provide us with the location address or website name immediately so that we can pursue a remedy.</span></p><p><span class="koboSpan" id="kobo.51.1">Please contact us at copyright@packtpub.com with a link to the suspected pirated material.</span></p><p><span class="koboSpan" id="kobo.52.1">We appreciate your help in protecting our authors and our ability to bring you valuable content.</span></p></div><div class="section" title="Questions"><div class="titlepage"><div><div><h2 class="title"><a id="pf10lvl2sec10"/><span class="koboSpan" id="kobo.53.1">Questions</span></h2></div></div></div><p><span class="koboSpan" id="kobo.54.1">If you have a problem with any aspect of this book, you can contact us at questions@packtpub.com, and we will do our best to address the problem.</span></p></div></div></div></div></body></html>