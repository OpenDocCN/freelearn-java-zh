- en: Chapter 11. WildFly, OpenShift, and Cloud Computing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第11章。WildFly、OpenShift和云计算
- en: Since the terminology used within the realm of cloud computing can be a source
    of confusion, the first section of this chapter will provide an overview of the
    basic concepts of cloud computing. We will then discuss the OpenShift project
    and the benefits it will bring to your organization.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 由于云计算领域使用的术语可能引起混淆，本章的第一节将概述云计算的基本概念。然后我们将讨论OpenShift项目及其将为您组织带来的好处。
- en: Introduction to cloud computing
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云计算简介
- en: What is cloud computing? We hear this term everywhere, but what does it really
    mean? We have all used the cloud knowingly or unknowingly. If you use Gmail, Hotmail,
    or any other popular e-mail service, you have used the cloud. Simply put, cloud
    computing is a set of pooled computing resources and services delivered over the
    Web.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 什么是云计算？我们无处不在都能听到这个术语，但它究竟是什么意思呢？我们都有意或无意地使用过云。如果你使用Gmail、Hotmail或任何其他流行的电子邮件服务，你就已经使用过云了。简单来说，云计算是通过互联网提供的一组池化计算资源和服务的集合。
- en: Client computing is not a new concept in the computer industry. Those of you
    who have been in the IT business for a decade or two will remember that the first
    type of client-server applications were the mainframe and terminal applications.
    At that time, storage and CPU was very expensive, and the mainframe pooled both
    types of resources and served them to thin-client terminals.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端计算在计算机行业中不是一个新概念。那些在IT行业工作了一二十年的人会记得，第一种客户端-服务器应用程序是主机和终端应用程序。当时，存储和CPU非常昂贵，主机将这两种资源集中起来，为瘦客户端终端提供服务。
- en: With the advent of the PC revolution, which brought mass storage and cheap CPUs
    to the average corporate desktop, the file server gained popularity as a way to
    enable document sharing and archiving. True to its name, the file server served
    storage resources to the clients in an enterprise, while the CPU cycles needed
    to do productive work were all produced and consumed within the confines of the
    PC client.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 随着个人电脑革命的到来，它为普通企业桌面带来了大量存储和廉价的CPU，文件服务器因此成为实现文档共享和归档的一种流行方式。正如其名，文件服务器为企业客户端提供了存储资源，而进行生产性工作所需的CPU周期则全部在PC客户端内部产生和消耗。
- en: In the early 1990s, the budding Internet finally had enough computers attached
    to it that academic institutions began seriously thinking about how to connect
    those machines together to create massive, shared pools of storage and computational
    power that would be much larger than what any individual institution could ever
    afford to build. This is when the idea of *the grid* began to take shape.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在20世纪90年代初，新兴的互联网终于连接了足够的计算机，学术机构开始认真思考如何将这些机器连接起来，以创建比任何单个机构都能负担得起的更大的共享存储和计算能力。这就是“网格”这一想法开始成形的时候。
- en: Cloud computing versus grid computing
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 云计算与网格计算
- en: 'In general, the terms "grid" and "cloud" seem to be converging due to some
    similarities; however, there are a list of important differences between them
    that are often not understood, generating confusion and clutter within the marketplace.
    Grid computing requires the resources of many computers to solve a single problem,
    at the same time. Hence, it may or may not be in the cloud, depending on the type
    of use you make of it. One concern about the grid is that if one piece of the
    software on a node fails, other pieces of the software on other nodes may fail,
    too. This is alleviated if that component has a failover component on another
    node, but problems can still arise if the components rely on other pieces of software
    to accomplish one or more grid computing tasks. Have a look at the following screenshot:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，由于一些相似之处，“网格”和“云”这两个术语似乎正在趋同；然而，它们之间的重要差异往往不被理解，这在市场上造成了混淆和混乱。网格计算需要多台计算机的资源来解决单个问题，同时进行。因此，它可能位于云中，也可能不在云中，这取决于你对其的使用类型。关于网格的一个担忧是，如果一个节点上的软件部分出现故障，其他节点上的软件部分也可能出现故障。如果该组件在另一个节点上有一个故障转移组件，这可以缓解问题，但如果组件依赖于其他软件来完成一个或多个网格计算任务，问题仍然可能发生。请看以下截图：
- en: '![Cloud computing versus grid computing](img/6232OS_11_01.jpg)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![云计算与网格计算](img/6232OS_11_01.jpg)'
- en: Cloud computing evolves from grid computing and allows on-demand provisioning
    of resources. With cloud computing, companies can scale up to massive capacities
    in an instant, without having to invest in a new infrastructure, train new personnel,
    or license new software.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算是从网格计算演变而来的，允许按需提供资源。使用云计算，公司可以瞬间扩展到巨大的容量，而无需投资新的基础设施、培训新人员或购买新的软件。
- en: Note
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意事项
- en: '**Grid and cloud – similarities and differences**'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**网格和云 - 相似之处与不同之处**'
- en: The difference between the grid and the cloud lies in the way the tasks are
    computed. In a computational grid, one large job is divided into many small portions
    and executed on multiple machines. This characteristic is fundamental to a grid.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 网格和云之间的区别在于任务计算的方式。在计算网格中，一个大任务被分成许多小部分，并在多台机器上执行。这种特性是网格的基本特征。
- en: Cloud computing is intended to allow the user to avail of various services without
    investing in the underlying architecture. Cloud services include the delivery
    of software, infrastructure, and storage over the Internet either as separate
    components or as a complete platform.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算旨在让用户能够使用各种服务，而无需投资底层架构。云服务包括通过互联网提供软件、基础设施和存储，可以是单独的组件，也可以是一个完整的平台。
- en: Advantages of cloud computing
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 云计算的优势
- en: 'We just went through the basics of cloud computing, and now we will outline
    some of the benefits you may get if you move over to using the cloud services:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚介绍了云计算的基础知识，现在我们将概述如果您迁移到使用云服务可能会获得的一些好处：
- en: '**On-demand service provisioning**: Using self-service provisioning, customers
    can have access to cloud services quickly and easily with no hassle. The customer
    simply requests a number of computing, storage, software, processes, or other
    resources from the service provider.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**按需服务提供**：使用自助服务提供，客户可以快速轻松地访问云服务，无需麻烦。客户只需向服务提供商请求一定数量的计算、存储、软件、流程或其他资源。'
- en: '**Elasticity**: This means that customers no longer need to predict traffic
    but can promote their sites aggressively and spontaneously. Engineering for peak
    traffic becomes a thing of the past.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**弹性**：这意味着客户不再需要预测流量，但可以积极且自发地推广他们的网站。为高峰流量进行工程已成为过去式。'
- en: '**Cost reduction**: By purchasing just the right amount of IT resources on
    demand, an organization can avoid purchasing unnecessary equipment. For SMEs,
    using the cloud may also reduce the need for in-house IT administrators.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**成本降低**：通过按需购买适量的IT资源，组织可以避免购买不必要的设备。对于中小企业来说，使用云计算也可能减少对内部IT管理员的需求。'
- en: '**Application programming interfaces (APIs)**: APIs make it possible for an
    organization''s software to interact with cloud services. This means system administrators
    can interact with their cloud model. Cloud computing systems typically use REST-based
    APIs.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应用程序编程接口（API）**：API使得组织的软件能够与云服务交互。这意味着系统管理员可以与其云模型交互。云计算系统通常使用基于REST的API。'
- en: Although cloud computing brings many advantages, there are some disadvantages
    or potential risks that you must account for. The most compelling threat is that
    sensitive data processed outside the enterprise brings with it an inherent level
    of risk. This is because outsourced services bypass the physical, logical, and
    personnel controls a software house exerts over in-house programs. In addition,
    when you use the cloud, you probably won't know exactly where your data is hosted.
    In fact, you might not even know what country it will be stored in, leading to
    potential issues with local jurisdiction.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管云计算带来了许多优势，但也有一些不利因素或潜在风险需要考虑。最引人注目的是，在企业外部处理敏感数据会带来固有的风险。这是因为外包服务绕过了软件公司对其内部程序施加的物理、逻辑和人员控制。此外，当您使用云时，您可能不知道您的数据托管在哪里。实际上，您甚至可能不知道它将存储在哪个国家，这可能导致与当地司法管辖权的问题。
- en: As Gartner Group ([http://www.gartner.com](http://www.gartner.com)) suggests,
    you should always ask providers to supply specific information on the hiring and
    oversight of privileged administrators. Besides this, the cloud provider should
    provide evidence that encryption schemes are designed and tested by experienced
    specialists. It is also important to understand whether the providers will make
    a contractual commitment to obey local privacy requirements on behalf of their
    customers.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如Gartner集团（[http://www.gartner.com](http://www.gartner.com)）建议，您应始终要求提供商提供有关聘请和监督特权管理员的特定信息。此外，云提供商应提供证据，证明加密方案是由经验丰富的专家设计和测试的。了解提供商是否会代表其客户做出合同承诺，遵守当地隐私要求，也很重要。
- en: Cloud computing options
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 云计算选项
- en: 'Cloud computing can be divided into the following three possible forms, depending
    on where the cloud is hosted, each option bringing a different level of security
    and management overhead:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算可以根据云托管的位置分为以下三种可能的形式，每种选项都带来不同级别的安全性和管理开销：
- en: '**Public** **cloud**: This option is used when services and infrastructure
    are provided off-site and often shared across multiple organizations. Public clouds
    are generally managed by an external service provider.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**公有** **云**：当服务和基础设施在异地提供并且通常在多个组织之间共享时使用此选项。公有云通常由外部服务提供商管理。'
- en: '**Private** **cloud**: This option provides IT cloud resources that are dedicated
    to a single organization and offered on demand. A private cloud infrastructure
    is maintained on a private network.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**私有** **云**：此选项提供针对单一组织的IT云资源，并按需提供。私有云基础设施在私有网络上维护。'
- en: '**Hybrid** **cloud**: This option is a mix of private and public clouds managed
    as a single entity, allowing you to keep aspects of your business in the most
    efficient environment.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**混合** **云**：这种选项是将私有云和公有云作为一个单一实体来管理，允许您将业务的部分方面保持在最有效率的环境中。'
- en: The decision to adopt one among the different kinds of cloud computing options
    is a matter of discussion between experts, and it generally depends on several
    key factors. For example, as far as security is concerned, although public clouds
    offer a secure environment, private clouds offer an inherent level of security
    that meets even the highest of standards. In addition, you can add security services,
    such an **Intrusion Detection System** (**IDS**) and dedicated firewalls. A private
    cloud might be the right choice for a large organization carrying a well-run data-center
    with a lot of spare capacity. It is more expensive to use a public cloud even
    if you have to add new software to transform that data center into a cloud.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 采用不同云计算选项中的任何一个的决定是专家之间讨论的问题，并且通常取决于几个关键因素。例如，就安全性而言，尽管公有云提供了一个安全的环境，但私有云提供了一种固有的安全级别，甚至满足最高标准。此外，您可以添加安全服务，例如**入侵检测系统**（**IDS**）和专用防火墙。对于拥有大量备用容量的良好运行的数据中心的大型组织来说，私有云可能是一个合适的选择。即使您必须添加新软件将数据中心转变为云，使用公有云的成本也更高。
- en: On the other hand, as far as scalability is concerned, one negative aspect of
    private clouds is that their performance is limited to the number of machines
    in your cloud cluster. Should you max out your computing power, another physical
    server will need to be added. Besides this, public clouds typically deliver a
    *pay-as-you-go* model, where you pay by the hour for the computing resources you
    use. This kind of utility pricing is economical if you're spinning up and tearing
    down development servers on a regular basis.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，就可扩展性而言，私有云的一个负面因素是它们的性能仅限于您的云集群中的机器数量。如果您达到计算能力的极限，则需要添加另一个物理服务器。此外，公有云通常提供一种*按使用付费*的模式，您按小时支付使用的计算资源。如果您定期启动和关闭开发服务器，这种类型的公用事业定价是经济的。
- en: 'So, the majority of public cloud deployments are generally used for web servers
    or development systems where security and compliance requirements of larger organizations
    and their customers are not an issue. Private clouds are generally preferred by
    mid-size and large enterprises because they meet the stricter security and compliance
    requirements. The downside of private clouds is that the organizations implementing
    them need dedicated, high-performance hardware. Have a look at the following diagram:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，大多数公共云部署通常用于Web服务器或开发系统，在这些系统中，大型组织及其客户的安全和合规性要求不是问题。中型和大型企业通常更倾向于使用私有云，因为它们满足更严格的安全和合规性要求。私有云的缺点是，实施这些云的组织需要专用的高性能硬件。请查看以下图表：
- en: '![Cloud computing options](img/6232OS_11_02.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![云计算选项](img/6232OS_11_02.jpg)'
- en: Types of cloud services
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 云服务类型
- en: Cloud computing services can be broadly classified into the following three
    types. These types are also known as cloud service models or SPI service models.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算服务可以广泛地分为以下三种类型。这些类型也被称为云服务模型或SPI服务模型。
- en: '**Infrastructure as a Service (IaaS)**: This service allows you to spin up
    computers on demand. For each server, you will be able to select the amount of
    RAM, the number of processors, the amount of hard disk space, and the operating
    system. It allows you to do all this in a matter of minutes, making the acquisition
    of hardware easier, cheaper, and quicker. Well-known providers of this service
    include Amazon EC2, Google Compute Engine, Rackspace, and DigitalOcean.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基础设施即服务 (IaaS)**: 此服务允许您按需启动计算机。对于每台服务器，您可以选择所需的内存大小、处理器数量、硬盘空间大小以及操作系统。它允许您在几分钟内完成所有这些操作，使硬件的获取更加容易、便宜和快速。此服务的知名提供商包括亚马逊EC2、谷歌计算引擎、Rackspace和DigitalOcean。'
- en: Note
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: DigitalOcean is relatively new to the market. You can spin up a server instance
    in less than 60 seconds! The major selling point of DigitalOcean is the simplicity
    of the interface, which means there will be no more crawling through pages and
    pages of documentation. In addition to this, it is very reasonably priced. If
    you are considering an IaaS provider, DigitalOcean should definitely be added
    to your list.
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: DigitalOcean在市场上相对较新。您可以在不到60秒内启动一个服务器实例！DigitalOcean的主要卖点是其界面的简单性，这意味着您将不再需要翻阅一页又一页的文档。除此之外，它的价格也非常合理。如果您正在考虑IaaS提供商，DigitalOcean绝对应该被列入您的清单。
- en: '**Platform** **as** **a** **Service** **(PaaS)**: This service offers a development
    platform for developers. The end users write their own code, and the PaaS provider
    uploads that code and presents it on the Web.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**平台即服务 (PaaS)**: 此服务为开发者提供开发平台。最终用户编写自己的代码，PaaS提供商将代码上传并在网络上展示。'
- en: By using PaaS, you don't need to invest money to get that project environment
    ready for your developers. The PaaS provider will deliver the platform on the
    Web, and in most cases, you can consume the platform using your browser. There
    is no need to download any software. This combination of simplicity and cost-efficiency
    empowers small and medium-sized companies, and even individual developers, to
    launch their own cloud SaaS.
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通过使用平台即服务 (PaaS)，您无需投资资金来为开发人员准备项目环境。PaaS提供商将在网络上提供平台，在大多数情况下，您可以使用浏览器来使用该平台。无需下载任何软件。这种简单性和成本效益的结合赋予了小型和中型企业，甚至个人开发者，启动他们自己的云SaaS的能力。
- en: Note
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Examples of PaaS providers are Facebook and OpenShift. Facebook is a social
    application platform where third parties can write new applications that are made
    available to end users. OpenShift allows developers to deploy their WildFly web
    or enterprise applications to the cloud as simply as issuing a `git push` command.
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: PaaS提供商的例子包括Facebook和OpenShift。Facebook是一个社交应用平台，第三方可以编写新的应用程序，这些应用程序可供最终用户使用。OpenShift允许开发者像执行`git
    push`命令一样简单地将他们的WildFly Web或企业应用程序部署到云中。
- en: '**Software** **as** **a** **Service** **(SaaS)**: This service is based on
    the concept of renting software from a service provider instead of buying it.
    The software is usually accessed via the browser. Also known as *software on demand*,
    it is currently the most popular type of cloud computing because of its high flexibility,
    great services, enhanced scalability, and low maintenance. Examples of SaaS are
    Zoho, Google Docs, and the SalesForce CRM application. Have a look at the following
    screenshot:![Types of cloud services](img/6232OS_11_03.jpg)'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You might wonder whether it is possible for some providers to be defined both
    as a *platform* and as *software*. The answer is yes! For example, Facebook can
    be defined as both a platform (because services and applications can be can be
    delivered via the Facebook API) and as software (as it is used by millions of
    end users).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: Red Hat originally developed the OpenShift platform to deploy and manage Java
    EE applications on JBoss/WildFly servers running on the cloud.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: 'OpenShift offers three versions of the software, which are as follows:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: '**Online**: This version is a free, cloud-based platform used to deploy new
    and existing Java EE, Ruby, PHP, Node.js, Perl, and Python applications on the
    cloud in a matter of minutes.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Origin**: This version is a free and open source version of the software.
    It only comes with community support. To run this, you need your own infrastructure.
    This version is beyond the scope of this book, so it will not be covered.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Enterprise**: This version can be downloaded and run anywhere you want, including
    Amazon, Rackspace, or your own infrastructure. It is packaged with Red Hat Enterprise
    Linux, is stable, and comes with full support from Red Hat.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Getting started with OpenShift Online
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: OpenShift allows you to create, deploy, and manage applications within the cloud.
    It provides disk space, CPU resources, memory, and network connectivity. You can
    choose from a range of web cartridges, including Tomcat, WildFly, Jenkins, and
    many more. You can also plug in database cartridges, such as MySQL. Depending
    on the type of application you are building, you also have access to a template
    filesystem layout for that type (for example, PHP, WSGI, and Rack/Rails). OpenShift
    also generates a limited DNS for you.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: To get started with OpenShift Online, the first thing you need to do is create
    an account. Go to OpenShift's home page at [https://www.openshift.com/](https://www.openshift.com/),
    and select **SIGN UP**. Complete the online registration and verify your e-mail
    address.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: Before you can create an application, you need to create a **domain**. OpenShift
    uses non-strict domains (that is, there is no preceding period).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: 'Log in to your OpenShift account and navigate to the **Settings** tab. Enter
    your domain name and click on **Save**. Have a look at the following screenshot:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: '![Getting started with OpenShift Online](img/6232OS_11_04.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
- en: Note
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Each account can only support a single domain. Should you wish to use more than
    one domain, you need to create a separate account with a different username.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: Installing OpenShift client tools
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Installing OpenShift client tools is a simple process. The following guide shows
    you how to install the tools in Ubuntu 14.04\. If you want to install them in
    a different flavor of Linux or in a different operating system, refer to the Red
    Hat documentation at [https://access.redhat.com/documentation/en-US/OpenShift_Online/2.0/html/Client_Tools_Installation_Guide/chap-OpenShift_Client_Tools.html](https://access.redhat.com/documentation/en-US/OpenShift_Online/2.0/html/Client_Tools_Installation_Guide/chap-OpenShift_Client_Tools.html).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: 'First, ensure that you have the latest package list by executing the following
    command:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You will then need to install the required dependencies, `ruby`, `rubygems`,
    and `git`, by running the following command:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'We can now install the client tools by running the following command:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'After running this command, you should see something like the following:'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Note
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: It is important that you run the setup wizard before using the client tools.
    Failing to do so might cause problems later on.
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'To run the setup, type the following command:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The setup will require you to enter data for the following queries in the order
    they appear onscreen:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: For **Enter the server hostname**, just press *Enter* to use the default value,
    which is the server used for OpenShift Online.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For **Enter username and password**, enter your account username and password.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If there are no SSH keys on your system, one will be generated. You will be
    asked if you want to upload the key to the server. Type `yes`.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you did not create a domain earlier, you will be prompted to add a domain
    now.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Accessing your OpenShift account from a different computer
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Communication between your computer and OpenShift happens over SSH using secure
    keys. In order to use your domain from a different machine, simply download and
    install the OpenShift client tools to your other computer. When you run the tools
    setup, the key for your computer will be added to your keys on the server.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: To revoke access, you will need to delete the key for that computer. You can
    do this by logging in to OpenShift, navigating to **Settings**, and scrolling
    down until you reach **Public Keys**. Now, delete the key that relates to the
    computer you want to revoke access from.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: Creating our first OpenShift application
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Before we develop an application to run on OpenShift, we should first define
    some OpenShift terms:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: '**Application**: This is obviously the application you will deploy to OpenShift.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Gear**: This is the container that contains your server, along with the various
    resources required to run your application, such as RAM, the processor, and hard
    disk space.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cartridge**: A cartridge is a plugin that provides a specific functionality.
    For example, you can select a WildFly cartridge and a database cartridge to be
    added to your gear.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**卡式盒**：卡式盒是一个提供特定功能的插件。例如，您可以选择添加到您的齿轮中的WildFly卡式盒和数据库卡式盒。'
- en: Installing your first cartridge
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装您的第一个卡式盒
- en: 'To view all available cartridges, run the following command:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看所有可用的卡式盒，请运行以下命令：
- en: '[PRE5]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The syntax to create an application is as follows:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 创建应用程序的语法如下：
- en: '[PRE6]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'At the time of writing, there is no WildFly cartridge available in the cartridge
    list. For this example, I am going to use a cartridge that is available on GitHub
    ([https://github.com/openshift-cartridges/openshift-wildfly-cartridge](https://github.com/openshift-cartridges/openshift-wildfly-cartridge)).
    Navigate to the folder where you want your code to be located. If you are using
    Eclipse, you may want to `cd` into your workspace folder. Using the preceding
    syntax, but replacing the cartridge name with the cartridge URL, we will create
    the application, as follows:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，在卡式盒列表中尚无WildFly卡式盒可用。为此示例，我将使用GitHub上可用的卡式盒（[https://github.com/openshift-cartridges/openshift-wildfly-cartridge](https://github.com/openshift-cartridges/openshift-wildfly-cartridge)）。导航到您希望代码所在的位置的文件夹。如果您使用的是Eclipse，您可能想将当前目录切换到您的项目工作区文件夹。使用前面的语法，但将卡式盒名称替换为卡式盒URL，我们将创建应用程序，如下所示：
- en: '[PRE7]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'After running this command, a significant amount of information will be printed
    to the console. We will deal with this output one piece at a time. The first piece
    of information is the detail related to the cartridge and gear. We can see the
    URL from where the cartridge was cloned from, the gear size, and the domain:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 运行此命令后，控制台将打印出大量信息。我们将逐个处理这些输出。第一条信息是与卡式盒和齿轮相关的详细信息。我们可以看到卡式盒是从哪个URL克隆的，齿轮大小和域名：
- en: '[PRE8]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The next part shows that the application is being created, and that an artifact
    is being deployed on the gear:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个部分显示了应用程序正在创建，并且正在齿轮上部署一个工件：
- en: '[PRE9]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Printed out next are the details for the management console, which are as follows:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来打印出管理控制台的相关详细信息，如下所示：
- en: '[PRE10]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'The following part shows the remote Git repository being cloned to your local
    hard drive. The SSH key for the gear will be added to your `known_hosts` file
    once you allow it:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的部分显示了远程Git仓库正在克隆到您的本地硬盘。一旦您允许，齿轮的SSH密钥将被添加到您的`known_hosts`文件中：
- en: '[PRE11]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Lastly, your application URL, remote GIT repository, and SSH location are all
    printed out, as follows:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您的应用程序URL、远程Git仓库和SSH位置都会打印出来，如下所示：
- en: '[PRE12]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Now, you can verify that your server is up and running, and that you can access
    the deployed application by pointing your browser to the URL specified in the
    preceding output ([http://wildfly-chrisritchie.rhcloud.com/](http://wildfly-chrisritchie.rhcloud.com/)).
    Have a look at the following screenshot:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以验证服务器是否正在运行，并且可以通过将浏览器指向前面输出中指定的URL来访问已部署的应用程序。请查看以下屏幕截图：
- en: '![Installing your first cartridge](img/6232OS_11_05.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![安装您的第一个卡式盒](img/6232OS_11_05.jpg)'
- en: Now, let's turn our attention to the local repository on your computer.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们将注意力转向您计算机上的本地仓库。
- en: Tip
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: You can import the repository into Eclipse by selecting **File** | **Import**
    | **Projects** from **GIT** | **Existing local repository** | **Add**. Then, browse
    to the location of your `git` repository and import it as a new Maven project
    so that Eclipse can automatically generate the project configuration files for
    you.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过选择**文件** | **导入** | **项目**从**GIT** | **现有本地仓库** | **添加**将仓库导入Eclipse。然后，浏览到您的`git`仓库位置，将其作为新的Maven项目导入，以便Eclipse可以自动为您生成项目配置文件。
- en: 'If you look at the structure of the `git` repository, as shown in the following
    screenshot, you will see that the `src` folder follows a typical Maven project
    structure for a web application:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您查看以下屏幕截图所示的`git`仓库结构，您将看到`src`文件夹遵循典型的Maven项目结构，适用于Web应用程序：
- en: '![Installing your first cartridge](img/6232OS_11_06.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![安装您的第一个卡式盒](img/6232OS_11_06.jpg)'
- en: 'If you inspect the root folder via the command line, you will also notice the
    hidden folders. There are two important hidden folders. The `.git` folder contains
    all your versioning information and Git configuration. The `.openshift` folder
    contains various configurations for OpenShift. Have a look at the following screenshot:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: '![Installing your first cartridge](img/6232OS_11_07.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
- en: The `deployments` folder performs the same task as the `JBOSS_HOME/standalone/deployments`
    directory. Applications placed here will be automatically deployed when the repository
    is pushed to the remote Git repository.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: Understanding the workflow
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Just before we start to code the actual application, we need to understand
    the workflow and how the code is deployed to the server. Here are the basic steps:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: Modify the source code in the local Git repository.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add any deployments, such as JDBC connectors, to the `deployments` folder. This
    step is optional.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Stage all files to the local repository, ready for committing.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Commit the files to the local repository.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Push the changes to the remote repository. This will trigger deployment on your
    gear. You don't need to add your application WAR to the `deployments` folder.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Building the application
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'So, now we need to create our own application. For the first example, we will
    deploy a simple service that downloads the text within a text area as a PDF file.
    This application consists of a servlet that translates the request into a PDF
    response using the **iText** library (available at [http://itextpdf.com/download.php](http://itextpdf.com/download.php)).
    Here is the servlet:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'We also need to add the `itextpdf` library to the project''s `pom.xml` file
    so that the code can compile. Have a look at the following code:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'In addition, we need an HTML/JSP page that contains a text area. This code
    is inside the `createpdf.html` file:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'We have now finished the application. We need to add and commit our application
    to our local Git repository using the following `git add` command:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Then, enter the following `git` `commit` command:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Lastly, you need to push your local changes to the remote repository sitting
    on your gear, as follows:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: This will push up your code and trigger various Git hooks that cause your code
    to be compiled, packaged, and deployed, as you can see from the following output.
    The build output has been omitted for brevity.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'We can now finally access our application using [http://wildfly-chrisritchie.rhcloud.com/createpdf.html](http://wildfly-chrisritchie.rhcloud.com/createpdf.html).
    Have a look at the following screenshot:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
- en: '![Building the application](img/6232OS_11_08.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
- en: 'After entering some text and clicking on the **Convert to PDF** button, a PDF
    file is downloaded containing the text, as follows:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: '![Building the application](img/6232OS_11_09.jpg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
- en: Launching our application generates a PDF file as the result—your first cloud
    application! Now that we have deployed a simple application to your OpenShift
    gear, in the next section, we will show you how to manage your OpenShift applications
    and introduce some advanced features.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: Viewing the OpenShift server logfiles
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'At some point, you will need to see what is happening on the server side. Maybe
    your application is failing to deploy, or you need to see the logs after you encounter
    an error. There are a few ways you can view the OpenShift server logs:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: Tail the logfile using client tools
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Run SSH into the gear
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tailing the logfile
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Tailing the application server log is simple. You just need to run the `rhc
    tail` command. For example, to view the log for the example application that we
    called `wildfly`, you need to execute the following:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'This will print out the latest entries from the logfile, as follows:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: To exit the log, simply press *Ctrl* + *C*.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
- en: Viewing logs via SSH
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Using the `rhc tail` command is only useful part of the time. Most likely, you
    will want to view the entire log or search the log. For this, you need to SSH
    into the gear. We use the `-a` switch to specify the application name, as follows.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'By typing `ls app_name`, you can see that the directory structure is similar
    to that of a WildFly install. You can now view your file using the `less` command,
    which means you have full control over navigation and search within the file:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Tip
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Using the `less` command gives you much more control than using `tail`. Pressing
    *Shift* + *F* starts the tailing of the file, and *Ctrl* + *C* stops the tailing
    of the file. A backslash allows you to search backwards, and a question mark allows
    you to search forward in the file. It becomes easy to find occurrences of exceptions
    and errors.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
- en: Managing applications in OpenShift
  id: totrans-154
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: At first, it might appear difficult to manage your application on a remote server.
    Once you have learned the commands to manage your application, this concern should
    be greatly reduced.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to control your applications, you can use the `rhc app` command, which
    takes the action to be performed and the `-a` command that specifies the application
    name. For example:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The following table shows the list of commands available to manage your applications.
    You can view the list of available options via the command line, using the `--help`
    flag:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
- en: '| Option | Description |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
- en: '| `start` | Starts an application |'
  id: totrans-161
  prefs: []
  type: TYPE_TB
- en: '| `stop` | Stops an application that is currently running |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
- en: '| `force-stop` | Kills the application''s processes |'
  id: totrans-163
  prefs: []
  type: TYPE_TB
- en: '| `restart` | Restarts an application |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
- en: '| `reload` | Reloads an application |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
- en: '| `delete` | Deletes an application |'
  id: totrans-166
  prefs: []
  type: TYPE_TB
- en: '| `configure` | Configures properties for an application |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
- en: '| `create` | Creates an application |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
- en: '| `deploy` | Deploys an application |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
- en: '| `scale-up` | Scales up the application cartridge |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
- en: '| `scale-down` | Scales down the application cartridge |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
- en: '| `show` | Shows an application''s information |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
- en: '| `tidy` | Deletes an application''s logfiles and temporary files |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
- en: 'If you want to delete the application we created earlier, you will use the
    following command:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Configuring your applications
  id: totrans-176
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'When you create an application, you will have a local copy of the repository,
    which contains your application code and the WildFly server''s `deployments` folder.
    Besides this, there are a couple of hidden folders in your Git repository. The
    first one is the `.git` folder, which contains all your Git-related configuration.
    The second folder is `.openshift`. The following is the content of the `.openshift`
    folder:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: The `action_hooks` folder is where developers can put action hook scripts that
    will be executed during the OpenShift build life cycle.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
- en: Note
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can create a build script to perform application initialization, such as
    creating tables or setting variables. For full details on supported action hooks,
    see the documentation at [http://openshift.github.io/documentation/oo_user_guide.html#build-action-hooks](http://openshift.github.io/documentation/oo_user_guide.html#build-action-hooks).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
- en: The `cron` folder allows the developer to add cron jobs on the gear. The scripts
    added will be scheduled according to whether they are put in the `minutely`, `hourly`,
    `daily`, `weekly`, or `monthly` folders.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
- en: 'The `markers` folder can be used to set various settings. For example, the
    `skip_maven_build` marker file will instruct the Maven compiler to skip the build
    process. Lastly and importantly, the `config` folder has the following structure:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: As you expected, the `standalone.xml` file is the WildFly configuration file
    for your applications. The `modules` folder is where you can add your own modules,
    as you would in a native install of WildFly.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
- en: We have only touched upon the basics of what OpenShift can do. For a more in-depth
    look, see the OpenShift user guide at [http://openshift.github.io/documentation/oo_user_guide.html](http://openshift.github.io/documentation/oo_user_guide.html).
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
- en: Adding a database cartridge
  id: totrans-187
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Every enterprise application needs some kind of storage for its data. OpenShift
    allows you to add database cartridges after creating your application. To view
    the list of possible cartridges, you can issue the following command:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Within the list that outputs, you will see various database vendor cartridge
    options. In this example, we are going to add the MySQL database cartridge to
    our application. To do this, run the following command:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Note
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you configure your application to be scalable, the database cartridge will
    be installed into a new gear. If your application is not configured to be scalable,
    it will be added to the same gear as your application. This is to ensure that
    your database is not affected when you scale up or scale down your gears.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
- en: 'The output will print the information we need related to our new database,
    such as the root password, connection URL, and so on:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The beauty of this is that you do not need to further configure your `standalone.xml`
    file, as all the environment variables are set for you when you add the MySQL
    cartridge. You can access the datasource immediately using the JNDI namespace
    of `java:jboss/datasources/MysqlDS`. Take a look at the datasource configuration
    in the `standalone.xml` file. You will see all properties are external environment
    variables, as follows:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'To remove the database cartridge, and thus disable it, you can simply run the
    following command:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Using OpenShift Tools and Eclipse
  id: totrans-200
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Alongside the client tools, there is also a plugin for Eclipse that allows you
    to integrate with OpenShift. If you prefer graphical interfaces over the command
    line, you should consider this plugin.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
- en: 'Installing OpenShift Tools requires the same steps as when we installed the
    WildFly plugin in [Chapter 2](ch02.html "Chapter 2. Configuring the Core WildFly
    Subsystems"), *Configuring the Core WildFly Subsystems*. Perform the following
    steps to install OpenShift Tools:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
- en: In Eclipse, go to the marketplace by clicking on **Help** | **Eclipse Marketplace**.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Search for the version of JBoss Tools that matches your Eclipse version.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Install**. You will be presented with the full list of features available.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You can now select **JBoss OpenShift Tools** along with any other features you
    want, as shown in the following screenshot:![Using OpenShift Tools and Eclipse](img/6232OS_11_10.jpg)
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Confirm**, accept the license terms, and click on **Finish**.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'When Eclipse restarts, you will be able to create new applications or import
    existing applications. Creating a new application is straightforward. Perform
    the following steps:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
- en: Navigate to **File** | **New** | **OpenShift Application**. Have a look at the
    following screenshot:![Using OpenShift Tools and Eclipse](img/6232OS_11_11.jpg)
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You will be presented with a pop up allowing you to enter your OpenShift account's
    username and password. Enter your details and click on **OK**.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The next screen will allow you to either download an existing application from
    the OpenShift cloud or create a new one. We will create a new one here and leave
    you to investigate the option of downloading an existing application if that is
    what you require. Look for WildFly 8 in the list of possible quickstart cartridges.
    Have a look at the following screenshot:![Using OpenShift Tools and Eclipse](img/6232OS_11_12.jpg)
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on Next, enter the name of your application, and select your gear profile.
    Have a look at the following screenshot:![Using OpenShift Tools and Eclipse](img/6232OS_11_13.jpg)
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Next**, and **Next** again. Your new application is now complete
    and the gear is configured.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This tutorial is meant to be a brief introduction to the OpenShift Tools plugin.
    If you are interested in using OpenShift Tools, please refer to the online documentation
    at [http://docs.jboss.org/tools/4.1.0.Final/en/User_Guide/html_single/index.html#chap-OpenShift_Tools](http://docs.jboss.org/tools/4.1.0.Final/en/User_Guide/html_single/index.html#chap-OpenShift_Tools).
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
- en: Scaling your application
  id: totrans-215
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Until now, we have mentioned some of the most essential features of the OpenShift
    platform. Although all the available options cannot be covered within a single
    chapter, there is one more feature that needs to be covered, which is application
    scaling.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: 'For an application to be scalable, you must pass the `-s` switch as you create
    the application with the following command:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Note
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: It is not possible to make a non-scalable application scalable. To do this,
    you need to take a snapshot of the application, spin up a new scalable application,
    and then push your code to it.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
- en: Once you have created a scalable application, it will automatically add nodes
    to the cluster when the number of concurrent requests exceed 90 percent of the
    maximum concurrent requests over one period. It will automatically scale down
    when the number of concurrent requests fall below 49.9 percent of the maximum
    concurrent requests over three consecutive periods.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
- en: 'You can also scale your application manually via the command line. To manually
    scale up your application, run the following command:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'To manually scale down your application, run the following command:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Lastly, you may want to disable or enable automatic scaling. This can also
    be achieved via the command line. To stop automatic scaling, run the following
    command:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'To start automatic scaling, run the following command:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Summary
  id: totrans-230
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we looked at an alternative to the traditional approach of
    hosting applications on a company's own infrastructure. The OpenShift platform
    offers free and paid versions of a PaaS that enables developers to deploy to the
    cloud without having to worry about downloading and managing the stack, writing
    scripts, or installing agents.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
- en: The OpenShift platform bears some similarities to other cloud solutions, such
    as MS Azure. Just like Azure, OpenShift is a service managed and run by the vendor.
    OpenShift provides the ability to quickly choose from multiple cartridges, each
    of which plugs in a resource required to run your application. With a single Git
    command, your source code is pushed to the gear, and your application is built
    and then deployed to the server.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
- en: There are several ways to manage your OpenShift gears. First, you can manage
    them via the command line. This is the best option as you have full control over
    your gears. Secondly, there is the web interface, which has limited functionality
    but is fine to quickly create a new application. Lastly, there is OpenShift Tools,
    which is part of JBoss Tools, a suite of plugins for Eclipse.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
- en: There are three options available when using OpenShift. OpenShift Online is
    a product that offers free and subscription-based services. All the gears are
    hosted on the public cloud. OpenShift Enterprise allows you to download a stable
    and supported version of OpenShift to be run on your own hardware. Finally, if
    you want the latest features (with only community support) or want to contribute
    to the development of OpenShift, there is OpenShift Origin.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
