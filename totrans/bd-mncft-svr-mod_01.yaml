- en: Chapter 1. Deploying a Spigot Server
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章 部署Spigot服务器
- en: 'The first step to modifying Minecraft with the Bukkit API is to install a **multiplayer
    server** on your Windows PC. A **multiplayer server** is essentially the same
    as the single-player Minecraft server, but it allows for more customization and
    is not limited to the people in your home network. **Spigot** is a modified version
    of a Minecraft server, which will be used to load the **plugins** that you create.
    A **plugin** is a piece of software that hooks or plugs into another piece of
    software. The code that you will develop in this book will be in the form of plugins.
    These plugins will hook into the Minecraft code and change how Minecraft operates.
    We will set up a Spigot server and use it to test the plugins that you will write.
    By the end of this chapter, all of your friends will be able to log on to your
    modified Minecraft server and play together. By working through the following
    segments of this chapter, we will deploy a Spigot server, which will be modified
    in the later chapters:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Bukkit API修改Minecraft的第一步是在你的Windows PC上安装一个**多人服务器**。一个**多人服务器**本质上与单人Minecraft服务器相同，但它允许更多的定制，并且不受限于你家里的网络。**Spigot**是Minecraft服务器的修改版本，它将用于加载你创建的**插件**。一个**插件**是一段软件，它可以连接或插入到另一段软件中。这本书中你将开发的代码将以插件的形式存在。这些插件将连接到Minecraft代码并改变Minecraft的操作方式。我们将设置一个Spigot服务器并使用它来测试你将编写的插件。到本章结束时，你的所有朋友都将能够登录到你的修改后的Minecraft服务器并一起玩耍。通过完成本章的以下部分，我们将部署一个Spigot服务器，它将在后面的章节中进行修改：
- en: An introduction to Spigot
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Spigot简介
- en: Installing a Spigot server
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Spigot服务器
- en: Understanding and modifying the server's settings
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解和修改服务器的设置
- en: Using the console and in-game Minecraft and Bukkit server commands
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用控制台和在游戏中的Minecraft和Bukkit服务器命令
- en: Port forwarding
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 端口转发
- en: Introduction to Spigot
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Spigot简介
- en: As you set up your own server and begin to create plugins, you will encounter
    a few terms that may be new to you. The terms are **Vanilla**, **Bukkit**, **CraftBukkit**,
    and **Spigot**.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 当你设置自己的服务器并开始创建插件时，你可能会遇到一些对你来说可能全新的术语。这些术语是**Vanilla**、**Bukkit**、**CraftBukkit**和**Spigot**。
- en: '**Vanilla** refers to the normal Minecraft game developed by Mojang/Microsoft.
    The Vanilla Server is the official version of the game. It can be downloaded from
    [minecraft.net](http://minecraft.net) and is typically named `minecraft_server.jar`
    or `minecraft_server.exe`. The vanilla server currently does not support any sort
    of mods or plugins. This is where Bukkit comes in.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**Vanilla**指的是由Mojang/Microsoft开发的正常Minecraft游戏。Vanilla服务器是游戏的官方版本。可以从[minecraft.net](http://minecraft.net)下载，通常命名为`minecraft_server.jar`或`minecraft_server.exe`。当前的vanilla服务器不支持任何类型的mod或插件。这就是Bukkit发挥作用的地方。'
- en: '**Bukkit** is an API that helps us to develop plugins. We will discuss this
    in detail in [Chapter 2](part0020_split_000.html#J2B81-b66e70deee6e4ed481db4b113e303f23
    "Chapter 2. Learning the Bukkit API"), *Learning the Bukkit API*. Until then,
    it is sufficient to know that when you hear the phrase *bukkit plugins*, it is
    referring to the plugins that are built against the Bukkit API.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**Bukkit**是一个帮助我们开发插件的API。我们将在[第2章](part0020_split_000.html#J2B81-b66e70deee6e4ed481db4b113e303f23
    "第2章 学习Bukkit API")《学习Bukkit API》中详细讨论。在此之前，只需知道当你听到*bukkit plugins*这个短语时，它指的是针对Bukkit
    API构建的插件。'
- en: The Bukkit API was originally developed by the **CraftBukkit** team. This brings
    us to the next term. **CraftBukkit** is a modified Minecraft server that replaces
    the vanilla server. CraftBukkit and vanilla Minecraft provide us with essentially
    the same game. The difference is that CraftBukkit has the ability to load Bukkit
    plugins and execute the code within the game. CraftBukkit translates the Bukkit
    methods and variables into Minecraft code, which was developed by Mojang. CraftBukkit
    also includes additional code to aid plugin developers with completing certain
    tasks, such as saving/loading data, listening for server events, and scheduling
    the code that needs to be executed. We will not mention CraftBukkit much in this
    book, because it has been replaced with a project named **Spigot**.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Bukkit API最初是由**CraftBukkit**团队开发的。这引出了下一个术语。**CraftBukkit**是一个修改版的Minecraft服务器，它取代了vanilla服务器。CraftBukkit和vanilla
    Minecraft为我们提供了几乎相同的游戏。区别在于CraftBukkit具有加载Bukkit插件和执行游戏内代码的能力。CraftBukkit将Bukkit方法和变量转换为Mojang开发的Minecraft代码。CraftBukkit还包括额外的代码，以帮助插件开发者完成某些任务，例如保存/加载数据、监听服务器事件和安排需要执行的代码。在这本书中，我们将不会过多提及CraftBukkit，因为它已被一个名为**Spigot**的项目所取代。
- en: '**Spigot** completely replaces the vanilla Minecraft server, just as CraftBukkit
    does. Spigot was built on top of the CraftBukkit project. Therefore, they share
    a lot of the same code. However, Spigot is more configurable via its settings;
    in many ways, it is much faster. The Spigot team now maintains all three of the
    projects, namely Bukkit, CraftBukkit, and Spigot. You will be able to use either
    CraftBukkit or Spigot to run a server, since the Spigot team has been kind enough
    to provide us with both. I recommend running the Spigot server for the reasons
    mentioned earlier.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**Spigot** 完全替代了原版的 Minecraft 服务器，就像 CraftBukkit 一样。Spigot 是建立在 CraftBukkit
    项目之上的。因此，它们共享了很多相同的代码。然而，Spigot 通过其设置提供了更多的可配置性；在许多方面，它运行得更快。Spigot 团队现在维护了所有三个项目，即
    Bukkit、CraftBukkit 和 Spigot。你可以使用 CraftBukkit 或 Spigot 来运行服务器，因为 Spigot 团队已经足够友好地提供了这两个选项。我建议运行
    Spigot 服务器，原因如前所述。'
- en: Installing a new Spigot server
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装新的 Spigot 服务器
- en: We will start from scratch to set up this new server. If you wish to use a preexisting
    world, you will be able to do so after creating a new Spigot server. To start,
    let's create a new empty folder named `Bukkit Server`. We will run the Spigot
    server from this newly created folder.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从零开始设置这个新的服务器。如果你希望使用现有的世界，你将在创建新的 Spigot 服务器后能够这样做。首先，让我们创建一个名为 `Bukkit
    Server` 的新空文件夹。我们将从这个新创建的文件夹中运行 Spigot 服务器。
- en: 'The main file that you will need to start a new server is `spigot.jar`. A **JAR**
    file is an executable Java file. Minecraft, Spigot, and every plugin that we will
    create are all written in Java and therefore are run from a `JAR` file. The Spigot
    team updates the `spigot.jar` file as Mojang releases new versions of Minecraft.
    Typically, when connecting to a Minecraft server, you must be playing on the same
    version. In case you are unsure of your Minecraft version, it is displayed in
    the bottom-left corner of the Minecraft **client**. A **client** is the program
    that you use to play Minecraft, as shown in the following screenshot:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要启动新服务器的主体文件是 `spigot.jar`。一个 **JAR** 文件是一个可执行的 Java 文件。Minecraft、Spigot 以及我们将创建的每一个插件都是用
    Java 编写的，因此它们都是从 `JAR` 文件中运行的。Spigot 团队会随着 Mojang 发布新的 Minecraft 版本来更新 `spigot.jar`
    文件。通常情况下，当你连接到 Minecraft 服务器时，你必须玩的是同一个版本。如果你不确定你的 Minecraft 版本，它会在 Minecraft
    **客户端**的左下角显示。一个 **客户端** 是你用来玩 Minecraft 的程序，如下面的截图所示：
- en: '![Installing a new Spigot server](img/00002.jpeg)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![安装新的 Spigot 服务器](img/00002.jpeg)'
- en: 'You can choose the version of Minecraft that you want to play by creating a
    new profile in the Minecraft launcher, as shown in the following screenshot:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在 Minecraft 启动器中创建一个新的配置文件来选择你想要玩的 Minecraft 版本，如下面的截图所示：
- en: '![Installing a new Spigot server](img/00003.jpeg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![安装新的 Spigot 服务器](img/00003.jpeg)'
- en: For legal reasons, the Spigot team is not allowed to let you download `spigot.jar`.
    However, it does provide you with tools and instructions so that you can build
    the `JAR` file yourself. The Spigot team continues to improve this process by
    providing the latest instructions as well as a troubleshooting guide at [https://www.spigotmc.org/threads/buildtools-updates-information.42865/](https://www.spigotmc.org/threads/buildtools-updates-information.42865/).
    This chapter includes simplified instructions on how to obtain the needed `JAR`
    file. However, in case you run into problems while building these `jar` files,
    refer to the instructions provided on [spigotmc.org](http://spigotmc.org).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 由于法律原因，Spigot 团队不允许你下载 `spigot.jar`。然而，它确实提供了工具和说明，以便你可以自己构建 `JAR` 文件。Spigot
    团队通过提供最新的说明以及故障排除指南来不断改进这一过程，指南可以在 [https://www.spigotmc.org/threads/buildtools-updates-information.42865/](https://www.spigotmc.org/threads/buildtools-updates-information.42865/)
    找到。本章包括如何获取所需 `JAR` 文件的简化说明。然而，如果你在构建这些 `jar` 文件时遇到问题，请参考 [spigotmc.org](http://spigotmc.org)
    上提供的说明。
- en: 'You will need Git for Windows in order to run the build tools. You can download
    it from [http://msysgit.github.io/](http://msysgit.github.io/). When installing
    Git for Windows, the default installation settings will be fine. You will also
    need to download the build tools `JAR` file, which can be found at [https://hub.spigotmc.org/jenkins/job/BuildTools/lastSuccessfulBuild/artifact/target/BuildTools.jar](https://hub.spigotmc.org/jenkins/job/BuildTools/lastSuccessfulBuild/artifact/target/BuildTools.jar).
    Create a new folder to place `BuildTools.jar` in. Name this folder `Spigot Build
    Tools`. Also create a new text file within the same folder. Name this text file
    `update.txt`. Open the `text` file and write the following line of code in it:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 为了运行构建工具，你需要Git for Windows。你可以在[http://msysgit.github.io/](http://msysgit.github.io/)下载它。在安装Git
    for Windows时，默认的安装设置将足够。你还需要下载构建工具`JAR`文件，可以在[https://hub.spigotmc.org/jenkins/job/BuildTools/lastSuccessfulBuild/artifact/target/BuildTools.jar](https://hub.spigotmc.org/jenkins/job/BuildTools/lastSuccessfulBuild/artifact/target/BuildTools.jar)找到。创建一个新的文件夹来放置`BuildTools.jar`。将这个文件夹命名为`Spigot
    Build Tools`。在同一文件夹内创建一个新的文本文件。将这个文本文件命名为`update.txt`。打开这个`text`文件，并写入以下代码行：
- en: '[PRE0]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '`<java bin path>` should be replaced with the location of the Java installation.
    The java path depends on the version of Java that you have on your computer. Look
    for the `Java` folder inside the `Program Files` or `Program Files (x86)` directory.
    The `Program Files` directory can be found at the root of the main hard drive,
    which is typically `C:\`. If you do not see the Java folder, then you will have
    to install Java. You can download it at [https://java.com/download/](https://java.com/download/).'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '`<java bin path>` 应替换为Java安装的位置。Java路径取决于你电脑上安装的Java版本。在`Program Files`或`Program
    Files (x86)`目录中查找`Java`文件夹。`Program Files`目录通常位于主硬盘的根目录，通常是`C:\`。如果你看不到Java文件夹，那么你可能需要安装Java。你可以在[https://java.com/download/](https://java.com/download/)下载它。'
- en: 'Once you are in the `Java` folder, you will see one or more java installation
    folders, such as `jre7` or `jre8`. Open the installation folder. In case you see
    more than one, open the one with the higher version number. Within the java installation
    folder, open the `bin` directory. Here you should see `java.exe`, though it may
    be displayed as simply **java**. Copy the path from the top of the explorer window;
    this is the java bin path, as shown in the following screenshot:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你进入`Java`文件夹，你会看到一个或多个java安装文件夹，例如`jre7`或`jre8`。打开安装文件夹。如果有多个，请打开版本号较高的一个。在java安装文件夹中，打开`bin`目录。在这里你应该能看到`java.exe`，尽管它可能只显示为**java**。从资源管理器窗口的顶部复制路径；这就是java
    bin路径，如下面的截图所示：
- en: '![Installing a new Spigot server](img/00004.jpeg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![安装新的Spigot服务器](img/00004.jpeg)'
- en: 'If you have Java 8, then the line of code in the update file will be similar
    to the following code:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你安装了Java 8，那么更新文件中的代码行将类似于以下代码：
- en: '[PRE1]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Tip
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'On most PCs, you can reference the java variable in place of the java.exe path.
    Therefore the line of code in the update file will be as follows: `java -jar BuildTools.jar`'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数PC上，你可以用java变量代替java.exe路径。因此，更新文件中的代码行将如下所示：`java -jar BuildTools.jar`
- en: 'Save the file and then rename it from `update.txt` to `update.sh`. If you don''t
    see the `.txt` extension on the file, then you will have to adjust your folder
    options by performing the following steps:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 保存文件，并将其重命名为`update.txt`到`update.sh`。如果你看不到文件的`.txt`扩展名，那么你可能需要通过执行以下步骤来调整文件夹选项：
- en: Open the **View** tab to the upper left
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开上左角的**视图**选项卡
- en: Select **Folder and search options**
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**文件夹和搜索选项**
- en: Uncheck **Hide extensions for known file types**
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取消选中**隐藏已知文件类型的扩展名**
- en: Click on **OK**
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**
- en: Now, you can rename `update.txt` to `update.sh`. Run `update.sh` by double-clicking
    on it. This will execute the build tools, downloading all the code and applying
    changes until it is up to date. It will take several minutes to complete. Once
    it's complete, you will have `spigot.jar`, `craftbukkit.jar`, and `bukkit.jar`.
    The two server jars, namely spigot and craftbukkit, will be found in the `Spigot
    Build Tools` directory, where you placed `BuildTools.jar`. The `bukkit.jar file`
    is located in the `Bukkit/target` directory in the same folder. Each file will
    have a version number appended to it, such as `spigot-1.8.8.jar` and `bukkit-1.8.8-R0.1-SNAPSHOT.jar`.
    Note the location of these files, as you will need them within this chapter as
    well as throughout the book.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以将 `update.txt` 重命名为 `update.sh`。通过双击 `update.sh` 来运行它。这将执行构建工具，下载所有代码并应用更改，直到更新完成。这可能需要几分钟的时间。一旦完成，您将拥有
    `spigot.jar`、`craftbukkit.jar` 和 `bukkit.jar`。两个服务器 JAR 文件，即 spigot 和 craftbukkit，将位于您放置
    `BuildTools.jar` 的 `Spigot Build Tools` 目录中。`bukkit.jar` 文件位于同一文件夹中的 `Bukkit/target`
    目录。每个文件都将附加一个版本号，例如 `spigot-1.8.8.jar` 和 `bukkit-1.8.8-R0.1-SNAPSHOT.jar`。请注意这些文件的位置，因为您在本章以及整本书中都需要它们。
- en: Note
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: It is recommended to run update.sh once a week so that you have the latest version
    of Spigot.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 建议每周运行一次 update.sh 脚本，以确保您拥有 Spigot 的最新版本。
- en: Copy the `spigot.jar` file and place it in the `Bukkit Server` folder that was
    created by you at the beginning of this segment. For simplicity, we will remove
    the version number and rename the file `spigot.jar`.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 复制 `spigot.jar` 文件并将其放置在您在本段开始时创建的 `Bukkit Server` 文件夹中。为了简化，我们将移除版本号并将文件重命名为
    `spigot.jar`。
- en: 'Now, we will create a batch file that we can double-click on every time we
    wish to start the server. In a new text document, type the following two lines:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将创建一个批处理文件，每次我们想要启动服务器时都可以双击它。在一个新的文本文档中，输入以下两行：
- en: '[PRE2]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '`1024` tells how much of the computer''s RAM the server will be allowed to
    use. You can change this number if you want the server to use more or less RAM.
    `spigot.jar` is the name of the `spigot.jar` file. This must match the name of
    your file. We renamed the file to exclude the version number so that we will not
    need to edit this batch file every time we update the Spigot server to the latest
    version. `java` indicates that we are using Java to run the server. In case the
    server does not start during the following step, you may need to replace `java`
    with the full java path that you copied earlier. The rest of the code in the batch
    file should not concern you, and it should remain unchanged.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '`1024` 表示服务器将被允许使用的计算机 RAM 量。如果您想调整服务器使用的 RAM 量，可以更改此数字。`spigot.jar` 是 `spigot.jar`
    文件的名字。这个名字必须与您的文件名匹配。我们将文件重命名以排除版本号，这样我们就不需要在每次更新 Spigot 服务器到最新版本时编辑此批处理文件。`java`
    表示我们正在使用 Java 运行服务器。如果在接下来的步骤中服务器没有启动，您可能需要将 `java` 替换为之前复制的完整 Java 路径。批处理文件中的其余代码不应让您担心，并且应保持不变。'
- en: 'Save the text document as `Start Server.bat` and ensure that it is in the same
    folder as that of `spigot.jar`. Now, you will be able to run the server. Double-click
    on the batch file that you just created. It will open the command prompt and start
    creating server files. It will look like the following screenshot and should display
    the Minecraft server version that you are using:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 将文本文档保存为 `Start Server.bat` 并确保它与 `spigot.jar` 在同一文件夹中。现在，您将能够运行服务器。双击您刚刚创建的批处理文件。它将打开命令提示符并开始创建服务器文件。它看起来应该像下面的截图，并应显示您正在使用的
    Minecraft 服务器版本：
- en: '![Installing a new Spigot server](img/00005.jpeg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![安装新的 Spigot 服务器](img/00005.jpeg)'
- en: If you do not see the **Starting minecraft server** message, then there may
    be something wrong with the batch file. If a window similar to what's shown in
    the previous screenshot does not appear, then make sure that the batch file is
    named `Start Server.bat` and not `Start Server.bat.txt`. When you first start
    the server, you will see a few warnings. Most of them shouldn't worry you as they
    are expected. However, you may see a message that explains that **you need to
    agree to the EULA in order to run the server**. If you look in the `Bukkit Server`
    folder, you will now see a new file named `eula.txt`. Open this file, set `eula=true`,
    and save it to agree to the terms, which are outlined by Mojang at [https://account.mojang.com/documents/minecraft_eula](https://account.mojang.com/documents/minecraft_eula).
    Once you do so, you can start the server again. This time, you will see the server
    loading and generating a new world.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有看到**Starting minecraft server**的消息，那么批处理文件可能存在问题。如果之前截图所示的窗口没有出现，请确保批处理文件名为`Start
    Server.bat`而不是`Start Server.bat.txt`。当您第一次启动服务器时，您将看到一些警告。其中大多数不必担心，因为它们是预期的。然而，您可能会看到一个解释您需要同意EULA才能运行服务器的消息。如果您查看`Bukkit
    Server`文件夹，您现在将看到一个名为`eula.txt`的新文件。打开此文件，将`eula=true`设置为同意条款，这些条款由Mojang在[https://account.mojang.com/documents/minecraft_eula](https://account.mojang.com/documents/minecraft_eula)中概述。一旦这样做，您就可以再次启动服务器。这次，您将看到服务器正在加载并生成一个新的世界。
- en: Setting up a new server
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置新服务器
- en: 'You will see the server folder populated with several files and folders. The
    purpose of some of these are explained in this section, but most of the files
    should not concern you at present:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到服务器文件夹中填充了几个文件和文件夹。其中一些文件的作用在本节中解释，但大多数文件目前不应引起您的关注：
- en: '`plugins`: This folder is where you will place all the Bukkit plugins that
    you wish to use on the server.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`plugins`: 此文件夹是您将放置所有希望用于服务器的Bukkit插件的文件夹。'
- en: '`world`: The folders that begin with `world`, such as `world`, `world_nether`,
    and so on, include all the information for the new world of the server. If you
    already have a Minecraft world that you wish to use, then replace these new folders
    with the old world folders. Do not attempt to do this while the server is running
    as it will cause problems.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`world`: 以`world`开头的文件夹，例如`world`、`world_nether`等，包含服务器新世界的所有信息。如果您已经有一个希望使用的Minecraft世界，那么请用旧世界文件夹替换这些新文件夹。不要在服务器运行时尝试这样做，因为这会导致问题。'
- en: '`server.properties`: This file holds several options that allow you to change
    how a Minecraft server operates. You can open it with a text editor. There are
    many settings, and most of them are pretty self-explanatory. I will go over a
    few settings in the following list that you may want to modify. For a full list
    of property explanations, you can visit [www.minecraftwiki.net/wiki/Server.properties](http://www.minecraftwiki.net/wiki/Server.properties).
    Changing any of these settings will require you to restart the server.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`server.properties`: 此文件包含多个选项，允许您更改Minecraft服务器的运行方式。您可以使用文本编辑器打开它。有许多设置，其中大多数都很直观。以下列表中我将介绍一些您可能想要修改的设置。要查看属性解释的完整列表，您可以访问[www.minecraftwiki.net/wiki/Server.properties](http://www.minecraftwiki.net/wiki/Server.properties)。更改这些设置将需要您重新启动服务器。'
- en: '`pvp=true`: The `pvp` property can be set to a `boolean` value. **PvP** (short
    for **Player versus Player**) determines whether players can attack and harm each
    other. You will want to set this to `true` or `false`, depending on whether you
    want PvP to be on or offrespectively.'
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pvp=true`: `pvp` 属性可以被设置为布尔值。**PvP**（即**玩家对玩家**）决定玩家是否可以攻击并伤害彼此。您可以根据是否希望开启或关闭PvP功能，将其设置为`true`或`false`。'
- en: '`difficulty=1`: The difficulty property can be set to a number from `0` to
    `3`, where `0` means *Peaceful*, `1` means *Easy*, `2` means *Normal*, and `3`
    means *Hard*. Everyone on the server will play at this difficulty level.'
  id: totrans-50
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`difficulty=1`: 难度属性可以被设置为从`0`到`3`的数字，其中`0`表示*和平*，`1`表示*简单*，`2`表示*普通*，`3`表示*困难*。服务器上的每个人都将在这个难度级别上玩游戏。'
- en: '`gamemode=0`: This property determines which game mode players will start in,
    where `0` means *Survival*, `1` means *Creative*, and `2` means *Adventure*.'
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`gamemode=0`: 此属性确定玩家将开始哪种游戏模式，其中`0`表示*生存*，`1`表示*创造*，`2`表示*冒险*。'
- en: '`motd=A Minecraft Server`: **MOTD** (short for **Message Of The Day**. This
    message will be displayed when viewing your server in the Minecraft multiplayer
    server list, as shown in the following screenshot. It is a good idea to set this
    to a short description of your server. An example of this is `Bukkit plugin testing`.![Setting
    up a new server](img/00006.jpeg)'
  id: totrans-52
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`motd=A Minecraft Server`: **MOTD**（即**每日消息**。当你在Minecraft多人服务器列表中查看服务器时，将显示此消息，如下面的截图所示。将此设置为对服务器简短描述是个好主意。例如，可以是`Bukkit插件测试`。[设置新服务器](img/00006.jpeg)'
- en: '`online-mode=true`: This can be set to `false` to allow players to connect
    to the server when in the offline mode. This is useful in case [http://minecraft.net/](http://minecraft.net/)
    is unavailable or your computer is not connected to the Internet. Running your
    server in the offline mode can cause security issues, such as other players logging
    in to your account.'
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`online-mode=true`: 可以将此设置为`false`，以允许玩家在离线模式下连接到服务器。如果[http://minecraft.net/](http://minecraft.net/)不可用或你的电脑未连接到互联网，这很有用。在离线模式下运行你的服务器可能会引起安全问题，例如其他玩家登录到你的账户。'
- en: '`bukkit.yml`: This file contains many server options. These are the options
    that a vanilla server does not offer and are only available when you run a modified
    server. Note that this file is a YMAL (`.yml`) file and not a PROPERTIES (`.properties`)
    file. When you open it, you will see how the two file types are formatted differently.
    The first difference that you will see is that certain lines are indented. You
    do not need to fully understand the YMAL formatting, as it will be explained further
    as we progress through creating Bukkit plugins. There are a few settings in this
    file that I will bring to your attention, as shown in the following list. For
    a full list of these Bukkit settings, you can visit [wiki.bukkit.org/Bukkit.yml](http://wiki.bukkit.org/Bukkit.yml).
    Like `server.properties`, changing any of these settings will require you to restart
    the server.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`bukkit.yml`: 此文件包含许多服务器选项。这些是原版服务器不提供的选项，并且仅在运行修改后的服务器时可用。请注意，此文件是YMAL（`.yml`）文件，而不是属性文件（`.properties`）。当你打开它时，你会看到两种文件类型格式不同。你首先会看到的是某些行有缩进。你不需要完全理解YMAL格式，因为随着我们创建Bukkit插件的过程，它将会进一步解释。此文件中有一些设置我将引起你的注意，如下面的列表所示。要查看这些Bukkit设置的完整列表，你可以访问[wiki.bukkit.org/Bukkit.yml](http://wiki.bukkit.org/Bukkit.yml)。与`server.properties`一样，更改这些设置将需要你重新启动服务器。'
- en: '`allow-end: true`: A vanilla Minecraft server allows you to disable the nether
    world from functioning. A Bukkit server allows you to disable the end world as
    well. Set this to `false` to prevent players from traveling to the end.'
  id: totrans-55
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`allow-end: true`: 原版Minecraft服务器允许你禁用下界世界的功能。Bukkit服务器也允许你禁用末地世界。将此设置为`false`以防止玩家前往末地。'
- en: '`use-exact-login-location: false`: Vanilla Minecraft contains a feature that
    will prevent players from spawning inside a block. The player will instead be
    spawned above the block so that they will not be stuck when they join the server.
    This can be easily exploited to climb onto blocks that a player could normally
    not reach. Bukkit can prevent this from occurring by spawning the player exactly
    where they logged out. Set this property to `true` if you wish to prevent this.'
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use-exact-login-location: false`: 原版Minecraft包含一个功能，该功能将阻止玩家在方块内生成。玩家将生成在方块上方，这样他们在加入服务器时就不会卡住。这可以很容易地被用来爬上玩家通常无法触及的方块。Bukkit可以通过在玩家注销的确切位置生成玩家来防止这种情况发生。如果你希望防止这种情况，请将此属性设置为`true`。'
- en: '`spawn-limits`: Bukkit allows a server admin to modify the number of monsters
    and animals that are allowed to spawn within a given **chunk**. If you are unfamiliar
    with the term **chunk**, it is a group of `16 x 16` blocks from bedrock to the
    highest point of the sky. The following is a picture of a single chunk in Minecraft;
    if you feel that there are too many (or too few) mobs, then you will want to adjust
    these values accordingly:![Setting up a new server](img/00007.jpeg)'
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spawn-limits`: Bukkit允许服务器管理员修改在给定**区块**内允许生成的怪物和动物的数量。如果你不熟悉**区块**这个术语，它是从床岩到天空最高点的一组`16
    x 16`方块。以下是在Minecraft中单个区块的图片；如果你觉得生成的怪物太多（或太少），那么你将想要相应地调整这些值：[设置新服务器](img/00007.jpeg)'
- en: '`ticks-per: autosave: 0`: Unlike vanilla Minecraft, a Bukkit server will not
    periodically save your player/world data. Automatically saving data may prevent
    the server from losing the changes that were made in the game in case it crashes
    or shuts down for some reason, such as the computer losing power. Vanilla has
    set this to `6000` by default. This value is provided in **ticks**. There are
    20 **ticks** every second. We can determine how long 6,000 ticks is with this
    math: 6000 ticks / 20 ticks/second = 300 seconds and 300 seconds / 60 seconds/minute
    = 5 minutes. From this calculation, you should be able to calculate an appropriate
    time period after which you want your server to autosave your progress. If your
    server lags whenever it saves your changes, then you may want to increase this
    number. A setting of `72000` will cause a lag only once every hour. However, if
    the server crashes right before it saves, you may lose any progress that you made
    in the past hour.'
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ticks-per: autosave: 0`: 与vanilla Minecraft不同，Bukkit服务器不会定期保存你的玩家/世界数据。自动保存数据可能会防止服务器在崩溃或由于某些原因（如电脑断电）关闭时丢失游戏中所做的更改。vanilla默认将其设置为`6000`。这个值是以**tick**为单位的。每秒有20个**tick**。我们可以用这个数学方法来确定6,000个tick是多长时间：6000
    tick / 20 tick/second = 300秒，300秒 / 60秒/分钟 = 5分钟。从这个计算中，你应该能够计算出你希望服务器在多长时间后自动保存你的进度。如果你的服务器在保存更改时出现延迟，那么你可能想增加这个数字。设置为`72000`将导致每小时只出现一次延迟。然而，如果服务器在即将保存之前崩溃，你可能会丢失过去一小时所做的任何进度。'
- en: '`spigot.yml:` This file is similar to `bukkit.yml`. It has many settings and
    configurations that are only available when running a Spigot server. If you wish
    to configure any of these options, refer to the documentation at the top of the
    file.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spigot.yml:` 这个文件类似于`bukkit.yml`。它包含许多仅在运行Spigot服务器时才可用的设置和配置。如果你希望配置这些选项中的任何一个，请参阅文件顶部的文档。'
- en: Minecraft/Bukkit server commands
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Minecraft/Bukkit服务器命令
- en: We now have all the custom options set. Next, let's log on to the server and
    take a look at the in-game server commands.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经设置了所有自定义选项。接下来，让我们登录到服务器并查看游戏中的服务器命令。
- en: To log in to your server, you will need to know the IP address of your computer.
    Later in this chapter, we will work through finding this essential information.
    However, I will assume that for now, you will be playing Minecraft on the same
    machine on which you are running your server. In this case, for the IP of the
    server, simply type `localhost`. Once you are connected to the server, you will
    see that the Spigot server is essentially the same as the vanilla server because
    you do not have any plugins installed yet. The first indication that the server
    is running Bukkit is that you will have a few extra commands at your disposal.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 要登录到你的服务器，你需要知道你电脑的IP地址。在本章的后面部分，我们将讨论如何找到这个必要的信息。然而，现在我将假设你将在运行你的服务器的同一台机器上玩Minecraft。在这种情况下，对于服务器的IP，只需输入`localhost`。一旦你连接到服务器，你会看到Spigot服务器本质上与vanilla服务器相同，因为你还没有安装任何插件。服务器运行Bukkit的第一个迹象是你将有一些额外的命令可供使用。
- en: Bukkit inherits all the Minecraft server commands. If you have ever played on
    a Minecraft server, then you have probably already used some of these commands.
    In case you have not, I will explain some of the useful ones. These commands can
    be typed into the **console** or an in-game console. By "console", I am referring
    to the command prompt that is running your server. Bukkit has a built-in permissions
    system that limits players from using specific commands.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: Bukkit继承了所有Minecraft服务器命令。如果你曾经玩过Minecraft服务器，那么你可能已经使用过其中的一些命令。如果你还没有，我将解释一些有用的命令。这些命令可以输入到**控制台**或游戏内控制台。在这里，“控制台”指的是运行你的服务器的命令提示符。Bukkit有一个内置的权限系统，它限制了玩家使用特定命令。
- en: 'They cannot use a command if they do not have the necessary permissions. We
    will discuss this in detail in a later chapter, but for now, we will make your
    player an **operator**, or **op** for short. An **operator** automatically has
    all the permissions and will be able to execute all the commands that will be
    presented. To make yourself an operator, issue the `op` command to the console,
    as follows:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果他们没有必要的权限，他们将无法使用命令。我们将在后面的章节中详细讨论这个问题，但到目前为止，我们将使你的玩家成为**操作员**，或简称**op**。**操作员**自动拥有所有权限，并将能够执行所有将要展示的命令。要成为操作员，将`op`命令输入到控制台，如下所示：
- en: '[PRE3]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Replace `<player>` with your player name. See the highlighted command in the
    following screenshot for an example:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 将`<player>`替换为你的玩家名称。请参见以下截图中的高亮命令以获取示例：
- en: '![Minecraft/Bukkit server commands](img/00008.jpeg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![Minecraft/Bukkit 服务器命令](img/00008.jpeg)'
- en: 'Once you have been *Opped*, you are ready to test some of the in-game server
    commands. In order to understand how to use commands properly, you must understand
    the command syntax. Let''s look at the `gamemode` command as an example:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你被 *Opped*，你就可以测试一些游戏内的服务器命令了。为了正确使用命令，你必须了解命令语法。以下以 `gamemode` 命令为例：
- en: '[PRE4]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '`< >` indicates that it is a required argument.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`< >` 表示这是一个必需的参数。'
- en: '`[ ]` indicates that it is an optional parameter. For this command, if the
    player parameter is not included, then the game mode of your own player will be
    set.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`[ ]` 表示这是一个可选参数。对于此命令，如果未包含玩家参数，则将设置你自己的游戏模式。'
- en: '`|` is a known symbol for the word *or*. So, `<0 | 1 | 2 | 3>` indicates that
    0, 1, 2, or 3 can be entered. They represent *Survival*, *Creative*, *Adventure*,
    and *Spectator* respectively.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`|` 是表示单词 *或* 的已知符号。因此，`<0 | 1 | 2 | 3>` 表示可以输入 0、1、2 或 3。它们分别代表 *生存模式*、*创造模式*、*冒险模式*
    和 *旁观者模式*。'
- en: Parameters must always be typed in the same order in which they are displayed.
    Usually, if you enter an incorrect command, a help message will appear, reminding
    you of how to use the command properly.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 参数必须始终按照显示的顺序输入。通常，如果你输入了错误的命令，会出现一条帮助信息，提醒你如何正确使用该命令。
- en: 'Note that when you issue an in-game command, you must start with `/`, but when
    issuing a command from the console, `/` must be left out. A proper use of the
    `gamemode` command will be `/gamemode 1`, which will set your game mode to **Creative**,
    as shown in the following screenshot:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，当你发布游戏内命令时，必须以 `/` 开头，但当你从控制台发布命令时，`/` 必须省略。正确使用 `gamemode` 命令将是 `/gamemode
    1`，这将把你的游戏模式设置为**创造模式**，如下面的截图所示：
- en: '![Minecraft/Bukkit server commands](img/00009.jpeg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![Minecraft/Bukkit 服务器命令](img/00009.jpeg)'
- en: Another example of this command is `/gamemode 2 Steve`, which will find the
    player whose username is `Steve` and change his game mode to *Adventure*.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令的另一个示例是 `/gamemode 2 Steve`，这将找到用户名为 `Steve` 的玩家并将他的游戏模式更改为*冒险模式*。
- en: 'Now that you understand the basic syntax for commands, you can learn how to
    use some other useful server commands from the following list. Most of these commands
    are also present in vanilla Minecraft. Only a few of them are specific to Bukkit
    servers:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经了解了命令的基本语法，你可以从以下列表中学习如何使用一些其他有用的服务器命令。其中大部分命令也存在于原版Minecraft中。只有少数命令是Bukkit服务器特有的：
- en: '`gamerule <rule> [true | false]`'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`gamerule <rule> [true | false]`'
- en: An example of this is `/gamerule mobGriefing false`.
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这种示例是 `/gamerule mobGriefing false`。
- en: 'The rule parameter can be set to any of the following:'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 规则参数可以设置为以下任何一个：
- en: '`doMobSpawning`: This determines whether mobs will naturally spawn'
  id: totrans-81
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`doMobSpawning`: 这决定了怪物是否会自然生成'
- en: '`keepInventory`: This determines whether players will keep their items if they
    die'
  id: totrans-82
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`keepInventory`: 这决定了玩家死亡时是否保留他们的物品'
- en: '`mobGriefing`: This determines whether mobs, such as creepers, can destroy
    blocks'
  id: totrans-83
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mobGriefing`: 这决定了像爬行者这样的怪物是否可以破坏方块'
- en: '`doFireTick`: This determines whether fire should be spread'
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`doFireTick`: 这决定了火是否应该蔓延'
- en: '`doMobLoot`: This determines whether mobs should drop items'
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`doMobLoot`: 这决定了怪物是否应该掉落物品'
- en: '`doDaylightCycle`: This determines whether the day/night cycle is in effect'
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`doDaylightCycle`: 这决定了日夜循环是否生效'
- en: '`give <player> <item> [amount [data]]`'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`give <player> <item> [amount [data]]`'
- en: For example, `/give Codisimus wool 3 14` gives Codisimus 3 red wool.
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/give Codisimus wool 3 14` 给 Codisimus 3 红色羊毛。
- en: '`plugins` (applicable only in Bukkit)'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`plugins` (仅适用于Bukkit)'
- en: For example, `/plugin`s or /`pl` displays a list of all the plugins that are
    installed on the server.
  id: totrans-90
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/plugin`s 或 /`pl` 显示服务器上安装的所有插件列表。
- en: '`reload` (applicable only in Bukkit)'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`reload` (仅适用于Bukkit)'
- en: For example, `/reload` or `/rl` disables all the plugins and re-enables them.
    This command is used to load new settings for a plugin without shutting down the
    entire server.
  id: totrans-92
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/reload` 或 `/rl` 禁用所有插件并重新启用它们。此命令用于加载插件的新设置，而无需关闭整个服务器。
- en: '`spawnpoint [player] [x y z]`'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spawnpoint [player] [x y z]`'
- en: For example, `/spawnpoint` allows you to spawn where you are standing when you
    die.
  id: totrans-94
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/spawnpoint` 允许你在死亡时出现在你站立的位置。
- en: '`stop`'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stop`'
- en: For example, `/stop` saves your progress and shuts down the server. This is
    how you should stop the server to ensure that data is saved. You will lose data
    if you simply close the command prompt by clicking on **X.**
  id: totrans-96
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/stop` 保存你的进度并关闭服务器。这是你应该停止服务器以确保数据保存的方法。如果你只是通过点击 **X** 关闭命令提示符，你将丢失数据。
- en: '`tell <player> <message>`'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tell <player> <message>`'
- en: For example, `/tell Steve my secret base is behind the waterfall` sends a message
    that only Steve will be able to see. Note that these messages will also be printed
    to the console.
  id: totrans-98
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/tell Steve my secret base is behind the waterfall` 发送一条只有 Steve 能看到的消息。请注意，这些消息也会打印到控制台。
- en: '`time set <day | night>`'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`time set <day | night>`'
- en: For example, `/time set day` sets the time of the server to `0` (daytime).
  id: totrans-100
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/time set day` 将服务器的时钟设置为 `0`（白天）。
- en: '`toggledownfall`'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`toggledownfall`'
- en: For example, `/toggledownfall` stops or starts rain/snowfall.
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/toggledownfall` 停止或开始降雨/降雪。
- en: '`tp [player] <targetplayer>`'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`tp [player] <targetplayer>`'
- en: For example, `/tp Steve Codisimus` teleports Steve to the location of Codisimus.
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，`/tp Steve Codisimus` 将 Steve 传送到 Codisimus 的位置。
- en: For more information regarding these and other commands, visit [minecraft.gamepedia.com/Commands](http://minecraft.gamepedia.com/Commands)
    and [wiki.bukkit.org/CraftBukkit_commands](http://wiki.bukkit.org/CraftBukkit_commands).
    The commands and property files mentioned earlier give you a lot of control over
    how the server functions.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 关于这些和其他命令的更多信息，请访问 [minecraft.gamepedia.com/Commands](http://minecraft.gamepedia.com/Commands)
    和 [wiki.bukkit.org/CraftBukkit_commands](http://wiki.bukkit.org/CraftBukkit_commands)。前面提到的命令和属性文件给了您很多控制服务器功能的方式。
- en: Port forwarding
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 端口转发
- en: Where's the fun in running your own Minecraft server when no one else can log
    on to it? I will now explain how to allow your friends to connect to your server
    so that they can play with you. In order to do this, we must first find your IP
    address. Just like your place of residence has a street address, your computer
    has an address on the Internet. This is what your friends will type into their
    Minecraft client to find your server. To find the IP address, simply search `IP`
    on Google. At the top of the results will be a line that states, "**Your public
    IP address is XX.XX.XXX.XX"** (the X signs will be replaced by numbers, and its
    overall length may be different). You can also visit [www.whatismyip.com](http://www.whatismyip.com)
    to find out your IP address.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 当没有其他人可以登录时，自己运行 Minecraft 服务器有什么乐趣呢？我现在将解释如何允许您的朋友连接到您的服务器，这样他们就可以和您一起玩了。为了做到这一点，我们首先需要找到您的
    IP 地址。就像您的住所有一个街道地址一样，您的计算机在互联网上也有一个地址。这就是您的朋友将在他们的 Minecraft 客户端中输入以找到您的服务器的地址。要找到
    IP 地址，只需在 Google 上搜索 `IP`。在结果顶部将有一条声明， "**您的公共 IP 地址是 XX.XX.XXX.XX**”（X 符号将被数字替换，其总长度可能不同）。您还可以访问
    [www.whatismyip.com](http://www.whatismyip.com) 来查找您的 IP 地址。
- en: Once you have your IP address, try using it to connect to your server rather
    than using `localhost`. If you are able to connect, then your friends will be
    able to do so too. If not, you will have to take additional steps to allow other
    players to connect to your server. This will be the case if your computer is attached
    to a router. We must let the router know that it should point other Minecraft
    players towards your computer, which is running the server. This process is called
    **port forwarding.** To do so, we will first need some additional information.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您有了 IP 地址，尝试使用它来连接到您的服务器，而不是使用 `localhost`。如果您能够连接，那么您的朋友也能做到。如果不能，您将需要采取额外的步骤来允许其他玩家连接到您的服务器。如果您的计算机连接到路由器，情况就是这样。我们必须让路由器知道它应该将其他
    Minecraft 玩家指向运行服务器的您的计算机。这个过程称为 **端口转发**。为此，我们首先需要一些额外的信息。
- en: 'We need to know the IP address of your computer on your local network. This
    IP address will be different from the address that we obtained earlier. We will
    also need to know the IP address of your router. To find out this information,
    open a new command prompt window. The command prompt can be found at the following
    path:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要知道您在本地网络中的计算机的 IP 地址。这个 IP 地址将与我们之前获得的不同。我们还需要知道您路由器的 IP 地址。要获取这些信息，请打开一个新的命令提示符窗口。命令提示符可以在以下路径找到：
- en: '`Start Menu/All Programs/Accessories/Command Prompt`'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '`开始菜单/所有程序/附件/命令提示符`'
- en: 'You can also search for `cmd.exe` to find it. Once the command prompt is open,
    type in the following command:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以搜索 `cmd.exe` 来找到它。一旦命令提示符打开，输入以下命令：
- en: '[PRE5]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Then, press the *Enter* key. A screen will be displayed, which will be similar
    to the one shown in the following screenshot:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，按 *Enter* 键。将显示一个屏幕，它将类似于以下截图所示：
- en: '![Port forwarding](img/00010.jpeg)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![端口转发](img/00010.jpeg)'
- en: In the previous image, the two IP addresses that you were looking for have been
    highlighted. The numbers will most likely be very similar to these sample numbers.
    **IPv4 Address** is the address of your computer, and **Default Gateway** is the
    address of your router. Make a note of both of these IPs.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一张图片中，您要找的两个 IP 地址已经被突出显示。这些数字很可能与这些示例数字非常相似。"**IPv4 地址**" 是您的计算机地址，而 "默认网关**"
    是您路由器的地址。请记下这两个 IP 地址。
- en: Next, we will log in to your router. In a web browser, type the IP address of
    the router, which is **192.168.1.1** in our example. If you do this correctly,
    then you will be prompted with a login form asking for a username and password.
    If you do not know this information, you can try to input `admin` for both the
    fields. If this is unsuccessful, you will have to find the default username and
    password, which can be found in the paperwork that was provided with your router.
    This information can usually be found online as well by searching for the name
    of your router along with the term `default login.`
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将登录到您的路由器。在网页浏览器中，输入路由器的 IP 地址，在我们的例子中是 **192.168.1.1**。如果您这样做正确，那么您将看到一个登录表单，要求输入用户名和密码。如果您不知道这些信息，您可以在两个字段中尝试输入
    `admin`。如果这不起作用，您将不得不找到默认的用户名和密码，这些信息通常可以在您的路由器提供的文件中找到。这些信息通常也可以通过搜索您的路由器名称以及
    "默认登录**" 等术语在网上找到。
- en: 'Once we are logged in to the router, we must find the area that includes the
    settings for port forwarding. There exist many brands and models of routers in
    the world, and all of them present this option differently. Therefore, I cannot
    provide a specific walkthrough of how this page is found. However, you will want
    to look for a tab that says something that includes the terms **Forwarding**,
    **Port Forward**, or **Applications & Gaming**. If you do not see any of these,
    then expand your search by exploring the advanced settings. Once you find the
    correct page, you will most likely see a table that looks like the following one:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们登录到路由器，我们必须找到包含端口转发设置的区域。世界上有各种各样的路由器品牌和型号，它们都以不同的方式提供此选项。因此，我无法提供如何找到此页面的具体说明。但是，您会想要寻找一个标签，其名称包含
    "转发**"、"端口转发**" 或 "应用与游戏**" 等术语。如果您看不到这些选项，请通过探索高级设置来扩大搜索范围。一旦找到正确的页面，您很可能会看到一个类似于以下表格的表格：
- en: '| Application Name | External Port | Internal Port | Protocol | IP Address
    |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| 应用名称 | 外部端口 | 内部端口 | 协议 | IP 地址 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Bukkit Server | 25565 | 25565 | TCP and UDP | 192.168.1.100 |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| Bukkit 服务器 | 25565 | 25565 | TCP 和 UDP | 192.168.1.100 |'
- en: Fill in the fields, as shown in the previous table. The layout and formatting
    will of course differ depending on your router, but the important details are
    that you forward port `25565` to the IP address that you found earlier, which
    is **192.168.1.100** in our example. Ensure that you save these new settings.
    If you have done this correctly, then you should now be able to connect to the
    server by using your public IP address.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 按照上一张表格所示填写字段。布局和格式当然会根据您的路由器而有所不同，但重要细节是您需要将端口 `25565` 转发到您之前找到的 IP 地址，在我们的例子中是
    **192.168.1.100**。确保保存这些新设置。如果您操作正确，那么现在您应该能够通过使用您的公共 IP 地址连接到服务器。
- en: Summary
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: You now have a Spigot server running on your PC. You can inform your friends
    of your IP address so that they can play on your new server with you. In this
    chapter, you became familiar with in-game commands and how to use them, and your
    server is ready to have Bukkit plugins installed onto it as soon as we program
    them. To prepare ourselves for programming these plugins, we will first become
    familiar with the Bukkit API and how it can be used.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已经在您的 PC 上运行了一个 Spigot 服务器。您可以告诉您的朋友您的 IP 地址，这样他们就可以和您一起在您的新服务器上玩游戏。在本章中，您熟悉了游戏内命令及其使用方法，并且一旦我们编写了插件，您的服务器就可以安装
    Bukkit 插件。为了准备编写这些插件，我们首先需要熟悉 Bukkit API 以及如何使用它。
