["```java\n$ cd $WILDFLY_HOME\n$ cp -a standalone jms-std-node-1\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/standalone.sh -Djboss.server.base.dir=jms-std-node-1 --server-config=standalone-full.xml\n    ```", "```java\n07:49:49,151 WARN  [org.jboss.as.messaging] (MSC service thread 1-11) WFLYMSG0075: AIO wasn't located on this platform, it will fall back to using pure Java NIO. Your platform is Linux, install LibAIO to enable the AIO journal.\n```", "```java\n07:49:50,249 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221043: Adding protocol support CORE\n07:49:50,262 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221043: Adding protocol support AMQP\n07:49:50,268 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221043: Adding protocol support STOMP\n07:49:50,535 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221034: Waiting to obtain live lock\n07:49:50,536 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221035: Live Server Obtained live lock\n07:49:50,585 INFO  [org.jboss.messaging] (MSC service thread 1-12) WFLYMSG0016: Registered HTTP upgrade for hornetq-remoting protocol handled by http-acceptor-throughput acceptor\n07:49:50,585 INFO  [org.jboss.messaging] (MSC service thread 1-3) WFLYMSG0016: Registered HTTP upgrade for hornetq-remoting protocol handled by http-acceptor acceptor\n07:49:50,710 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221007: Server is now live\n07:49:50,711 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221001: HornetQ Server version 2.4.5.FINAL (Wild Hornet, 124) [48a0b5e3-1b30-11e5-838f-0fbc7481b7aa]\n```", "```java\n07:49:50,740 INFO  [org.jboss.as.messaging] (ServerService Thread Pool -- 68) WFLYMSG0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\n07:49:50,765 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 70) HQ221003: trying to deploy queue jms.queue.DLQ\n07:49:50,849 INFO  [org.jboss.as.messaging] (ServerService Thread Pool -- 71) WFLYMSG0002: Bound messaging object to jndi name java:/ConnectionFactory\n07:49:50,851 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 69) HQ221003: trying to deploy queue jms.queue.ExpiryQueue\n07:49:50,878 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-7) WFLYJCA0007: Registered connection factory java:/JmsXA\n07:49:50,930 INFO  [org.hornetq.ra] (MSC service thread 1-7) HornetQ resource adaptor started\n07:49:50,931 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-7) IJ020002: Deployed: file://RaActivatorhornetq-ra\n07:49:50,937 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-13) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]\n07:49:50,938 INFO  [org.jboss.as.messaging] (MSC service thread 1-16) WFLYMSG0002: Bound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone jms-std-node-2\n    ```", "```java\n    $ cd $WILDFLY_HOME/github/wildfly-cookbook\n    $ cd jms-producer\n    $ mvn clean package\n    ```", "```java\n    $ ./bin/add-user.sh -sc jms-std-node-2/configuration\n\n    What type of user do you wish to add?\n     a) Management User (mgmt-users.properties)\n     b) Application User (application-users.properties)\n    (a): b\n\n    Enter the details of the new user to add.\n    Using realm 'ApplicationRealm' as discovered from the existing property files.\n    Username : jmsuser\n    Password recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\n     - The password should not be one of the following restricted values {root, admin, administrator}\n     - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\n     - The password should be different from the username\n    Password : [jmsuser.2015]\n    Re-enter Password : [jmsuser.2015]\n    What groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]: guest\n    About to add user 'jmsuser' for realm 'ApplicationRealm'\n    Is this correct yes/no? yes\n    Added user 'jmsuser' to file '/opt/wildfly/jms-std-node-2/configuration/application-users.properties'\n    Added user 'jmsuser' with groups guest to file '/opt/wildfly/jms-std-node-2/configuration/application-roles.properties'\n    Is this new user going to be used for one AS process to connect to another AS process?\n    e.g. for a slave host controller connecting to the master or for a Remoting connection for server to server EJB calls.\n    yes/no? no\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/standalone.sh -Djboss.server.base.dir=jms-std-node-2 --server-config=standalone-full.xml\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/jboss-cli.sh\n    You are disconnected at the moment. Type 'connect' to connect to the server or 'help' for the list of supported commands.\n    [disconnected /] connect\n    [standalone@localhost:9990 /] jms-queue add --queue-address=WildFlyCookbookQueue --entries=queue/test,java:jboss/exported/jms/queue/test\n    [standalone@localhost:9990 /]\n    ```", "```java\n    12:02:52,183 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 60) HQ221003: trying to deploy queue jms.queue.WildFlyCookbookQueue\n    ```", "```java\n    $ cd $WILDFLY_HOME/github/wildfly-cookbook/jms-producer\n    $ mvn clean compile exec:java\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/jboss-cli.sh\n    You are disconnected at the moment. Type 'connect' to connect to the server or 'help' for the list of supported commands.\n    [disconnected /] connect\n    [standalone@localhost:9990 /] jms-queue count-messages --queue-address=WildFlyCookbookQueue\n    10L\n    ```", "```java\n    $ cd $WILDFLY_HOME/github/wildfly-cookbook/jms-consumer\n    $ mvn clean compile exec:java\n    ```", "```java\n<security-settings>\n    <security-setting match=\"#\">\n        <permission type=\"send\" roles=\"guest\"/>\n        <permission type=\"consume\" roles=\"guest\"/>\n        <permission type=\"createNonDurableQueue\" roles=\"guest\"/>\n        <permission type=\"deleteNonDurableQueue\" roles=\"guest\"/>\n    </security-setting>\n</security-settings>\n```", "```java\n<subsystem >\n    <endpoint worker=\"default\"/>\n    <http-connector name=\"http-remoting-connector\" connector-ref=\"default\" security-realm=\"ApplicationRealm\"/>\n</subsystem>\n```", "```java\nfinal Properties env = new Properties();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, INITIAL_CONTEXT_FACTORY);\nenv.put(Context.PROVIDER_URL, System.getProperty(Context.PROVIDER_URL, PROVIDER_URL));\nenv.put(Context.SECURITY_PRINCIPAL, System.getProperty(\"username\", DEFAULT_USERNAME));\nenv.put(Context.SECURITY_CREDENTIALS, System.getProperty(\"password\", DEFAULT_PASSWORD));\ncontext = new InitialContext(env);\n```", "```java\nAttempting to acquire connection factory \"jms/RemoteConnectionFactory\"\nFound connection factory \"jms/RemoteConnectionFactory\" in JNDI\nAttempting to acquire destination \"jms/queue/test\"\nFound destination \"jms/queue/test\" in JNDI\njavax.jms.JMSSecurityException: HQ119031: Unable to validate user: null\n at org.hornetq.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:394)\n at org.hornetq.core.client.impl.ClientSessionFactoryImpl.createSessionInternal(ClientSessionFactoryImpl.java:891)\n at org.hornetq.core.client.impl.ClientSessionFactoryImpl.createSessionInternal(ClientSessionFactoryImpl.java:800)\n at org.hornetq.core.client.impl.ClientSessionFactoryImpl.createSession(ClientSessionFactoryImpl.java:337)\n at org.hornetq.jms.client.HornetQConnection.authorize(HornetQConnection.java:719)\n at org.hornetq.jms.client.HornetQConnectionFactory.createConnectionInternal(HornetQConnectionFactory.java:762)\n at org.hornetq.jms.client.HornetQConnectionFactory.createConnection(HornetQConnectionFactory.java:112)\n at org.hornetq.jms.client.HornetQConnectionFactory.createConnection(HornetQConnectionFactory.java:107)\n at com.packtpub.wildflycookbook.JMSProducer.main(JMSProducer.java:59)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.lang.reflect.Method.invoke(Method.java:483)\n at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:283)\n at java.lang.Thread.run(Thread.java:745)\nCaused by: HornetQSecurityException[errorType=SECURITY_EXCEPTION message=HQ119031: Unable to validate user: null]\n ... 15 more\n\n```", "```java\n[standalone@localhost:9990 /] jms-topic add --topic-address=WildFlyCookbookTopic --entries=topic/test,java:jboss/exported/jms/topic/test\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone hq-live\n    $ cp -a standalone hq-backup\n    ```", "```java\n    $ cd $WILDFLY_HOME/github/wildfly-cookbook\n    $ cd jms-producer\n    $ mvn clean package\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/add-user.sh --silent -a -u jmsuser -p jmsuser.2015 -g guest -sc hq-live/configuration\n    $ ./bin/add-user.sh --silent -a -u jmsuser -p jmsuser.2015 -g guest -sc hq-backup/configuration\n    ```", "```java\n    <subsystem >\n        <hornetq-server>\n            <clustered>true</clustered>\n            <persistence-enabled>true</persistence-enabled>\n            <cluster-user>us3r</cluster-user>\n            <cluster-password>p@ssw0rd</cluster-password>\n            <backup>false</backup>\n            <allow-failback>true</allow-failback>\n            <failover-on-shutdown>true</failover-on-shutdown>\n            <check-for-live-server>true</check-for-live-server>\n            <backup-group-name>backup-group-2</backup-group-name>\n            <shared-store>true</shared-store>\n            <journal-type>NIO</journal-type>\n            <journal-min-files>2</journal-min-files>\n            <journal-file-size>102400</journal-file-size>\n            <paging-directory path=\"hq-data/paging\" relative-to=\"user.home\"/>\n            <bindings-directory path=\"hq-data/bindings\" relative-to=\"user.home\"/>\n            <journal-directory path=\"hq-data/journal\" relative-to=\"user.home\"/>\n            <large-messages-directory path=\"hq-data/large-messages\" relative-to=\"user.home\"/>\n            <connectors>\n                <http-connector name=\"http-connector\" socket-binding=\"http\">\n                    <param key=\"http-upgrade-endpoint\" value=\"http-acceptor\"/>\n                </http-connector>\n                <http-connector name=\"http-connector-throughput\" socket-binding=\"http\">\n                    <param key=\"http-upgrade-endpoint\" value=\"http-acceptor-throughput\"/>\n                    <param key=\"batch-delay\" value=\"50\"/>\n                </http-connector>\n                <in-vm-connector name=\"in-vm\" server-id=\"0\"/>\n            </connectors>\n            <acceptors>\n                <http-acceptor name=\"http-acceptor\" http-listener=\"default\"/>\n                <http-acceptor name=\"http-acceptor-throughput\" http-listener=\"default\">\n                    <param key=\"batch-delay\" value=\"50\"/>\n                    <param key=\"direct-deliver\" value=\"false\"/>\n                </http-acceptor>\n                <in-vm-acceptor name=\"in-vm\" server-id=\"0\"/>\n            </acceptors>\n            <broadcast-groups>\n                <broadcast-group name=\"bg-group1\">\n                    <socket-binding>messaging-group</socket-binding>\n                    <connector-ref>http-connector</connector-ref>\n                </broadcast-group>\n            </broadcast-groups>\n            <discovery-groups>\n                <discovery-group name=\"dg-group1\">\n                    <socket-binding>messaging-group</socket-binding>\n                </discovery-group>\n            </discovery-groups>\n            <cluster-connections>\n                <cluster-connection name=\"my-cluster\">\n                    <address>jms</address>\n                    <connector-ref>http-connector</connector-ref>\n                    <discovery-group-ref discovery-group-name=\"dg-group1\"/>\n                </cluster-connection>\n            </cluster-connections>\n            <security-settings>\n                <security-setting match=\"#\">\n                    <permission type=\"send\" roles=\"guest\"/>\n                    <permission type=\"consume\" roles=\"guest\"/>\n                    <permission type=\"createNonDurableQueue\" roles=\"guest\"/>\n                    <permission type=\"deleteNonDurableQueue\" roles=\"guest\"/>\n                </security-setting>\n            </security-settings>\n            <address-settings>\n                <!--default for catch all-->\n                <address-setting match=\"#\">\n                    <dead-letter-address>jms.queue.DLQ</dead-letter-address>\n                    <expiry-\n                    address>jms.queue.ExpiryQueue</expiry-\n                    address>\n                    <redistribution-delay>1000</redistribution-delay>\n                    <max-size-bytes>10485760</max-size-bytes>\n                    <page-size-bytes>2097152</page-size-bytes>\n                    <message-counter-history-day-limit>10</message-counter-history-day-\n                    limit>\n                </address-setting>\n            </address-settings>\n            <jms-connection-factories>\n                <connection-factory \n                name=\"InVmConnectionFactory\">\n                    <connectors>\n                        <connector-ref connector-name=\"in-vm\"/>\n                    </connectors>\n                    <entries>\n                        <entry name=\"java:/ConnectionFactory\"/>\n                    </entries>\n                </connection-factory>\n                <connection-factory \n                name=\"RemoteConnectionFactory\">\n                    <connectors>\n                        <connector-ref connector-name=\"http-connector\"/>\n                    </connectors>\n                    <entries>\n                        <entry name=\"java:jboss/exported/jms/RemoteConnectionFactory\"/>\n                    </entries>\n                    <ha>true</ha>\n                    <block-on-acknowledge>true</block-on-acknowledge>\n                    <retry-interval>500</retry-interval>\n                    <retry-interval-multiplier>1.5</retry-interval-multiplier>\n                    <max-retry-interval>60000</max-retry-interval>\n                    <reconnect-attempts>-1</reconnect-attempts>\n                </connection-factory>\n                <pooled-connection-factory name=\"hornetq-ra\">\n                    <transaction mode=\"xa\"/>\n                    <connectors>\n                        <connector-ref connector-name=\"in-vm\"/>\n                    </connectors>\n                    <entries>\n                        <entry name=\"java:/JmsXA\"/>\n                        <!-- Global JNDI entry used to provide a default JMS Connection factory to EE application -->\n                        <entry name=\"java:jboss/DefaultJMSConnectionFactory\"/>\n                    </entries>\n                    <ha>true</ha>\n                    <block-on-acknowledge>true</block-on-acknowledge>\n                    <retry-interval>500</retry-interval>\n                    <retry-interval-multiplier>1.5</retry-interval-multiplier>\n                    <max-retry-interval>60000</max-retry-interval>\n                    <reconnect-attempts>1000</reconnect-attempts>\n                </pooled-connection-factory>\n            </jms-connection-factories>\n            <jms-destinations>\n                <jms-queue name=\"ExpiryQueue\">\n                    <entry name=\"java:/jms/queue/ExpiryQueue\"/>\n                </jms-queue>\n                <jms-queue name=\"DLQ\">\n                    <entry name=\"java:/jms/queue/DLQ\"/>\n                </jms-queue>\n                <jms-queue name=\"WildFlyCookbookQueue\">\n                    <entry name=\"queue/test\"/>\n                    <entry name=\"java:jboss/exported/jms/queue/test\"/>\n                    <durable>true</durable>\n                </jms-queue>\n            </jms-destinations>\n        </hornetq-server>\n    </subsystem>\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/standalone.sh -Djboss.server.base.dir=hq-live --server-config=standalone-full-ha.xml -Djboss.socket.binding.port-offset=100\n    ```", "```java\n    <subsystem >\n        <hornetq-server>\n            <clustered>true</clustered>\n            <persistence-enabled>true</persistence-enabled>\n            <cluster-user>us3r</cluster-user>\n            <cluster-password>p@ssw0rd</cluster-password>\n            <backup>true</backup>\n            <allow-failback>true</allow-failback>\n            <failover-on-shutdown>true</failover-on-shutdown>\n            <check-for-live-server>true</check-for-live-server>\n            <backup-group-name>backup-group-2</backup-group-name>\n            <shared-store>true</shared-store>\n            <journal-type>NIO</journal-type>\n            <journal-min-files>2</journal-min-files>\n            <journal-file-size>102400</journal-file-size>\n            <paging-directory path=\"hq-data/paging\" relative-to=\"user.home\"/>\n            <bindings-directory path=\"hq-data/bindings\" relative-to=\"user.home\"/>\n            <journal-directory path=\"hq-data/journal\" relative-to=\"user.home\"/>\n            <large-messages-directory path=\"hq-data/large-messages\" relative-to=\"user.home\"/>\n            <connectors>\n                <http-connector name=\"http-connector\" socket-binding=\"http\">\n                    <param key=\"http-upgrade-endpoint\" value=\"http-acceptor\"/>\n                </http-connector>\n                <http-connector name=\"http-connector-throughput\" socket-binding=\"http\">\n                    <param key=\"http-upgrade-endpoint\" value=\"http-acceptor-throughput\"/>\n                    <param key=\"batch-delay\" value=\"50\"/>\n                </http-connector>\n                <in-vm-connector name=\"in-vm\" server-id=\"0\"/>\n            </connectors>\n            <acceptors>\n                <http-acceptor name=\"http-acceptor\" http-listener=\"default\"/>\n                <http-acceptor name=\"http-acceptor-throughput\" http-listener=\"default\">\n                    <param key=\"batch-delay\" value=\"50\"/>\n                    <param key=\"direct-deliver\" value=\"false\"/>\n                </http-acceptor>\n                <in-vm-acceptor name=\"in-vm\" server-id=\"0\"/>\n            </acceptors>\n            <broadcast-groups>\n                <broadcast-group name=\"bg-group1\">\n                    <socket-binding>messaging-group</socket-binding>\n                    <connector-ref>http-connector</connector-ref>\n                </broadcast-group>\n            </broadcast-groups>\n            <discovery-groups>\n                <discovery-group name=\"dg-group1\">\n                    <socket-binding>messaging-group</socket-\n                    binding>\n                </discovery-group>\n            </discovery-groups>\n            <cluster-connections>\n                <cluster-connection name=\"my-cluster\">\n                    <address>jms</address>\n                    <connector-ref>http-connector</connector-ref>\n                    <discovery-group-ref discovery-group-name=\"dg-group1\"/>\n                </cluster-connection>\n            </cluster-connections>\n            <security-settings>\n                <security-setting match=\"#\">\n                    <permission type=\"send\" roles=\"guest\"/>\n                    <permission type=\"consume\" roles=\"guest\"/>\n                    <permission type=\"createNonDurableQueue\" roles=\"guest\"/>\n                    <permission type=\"deleteNonDurableQueue\" roles=\"guest\"/>\n                </security-setting>\n            </security-settings>\n            <address-settings>\n                <!--default for catch all-->\n                <address-setting match=\"#\">\n                    <dead-letter-address>jms.queue.DLQ</dead-letter-address>\n                    <expiry-address>jms.queue.ExpiryQueue</expiry-address>\n                    <redistribution-delay>1000</redistribution-delay>\n                    <max-size-bytes>10485760</max-size-bytes>\n                    <page-size-bytes>2097152</page-size-bytes>\n                    <message-counter-history-day-limit>10</message-counter-history-day-limit>\n                </address-setting>\n            </address-settings>\n            <jms-connection-factories>\n                <connection-factory name=\"InVmConnectionFactory\">\n                    <connectors>\n                        <connector-ref connector-name=\"in-vm\"/>\n                    </connectors>\n                    <entries>\n                        <entry name=\"java:/ConnectionFactory\"/>\n                    </entries>\n                </connection-factory>\n                <connection-factory name=\"RemoteConnectionFactory\">\n                    <connectors>\n                        <connector-ref connector-name=\"http-connector\"/>\n                    </connectors>\n                    <entries>\n                        <entry name=\"java:jboss/exported/jms/RemoteConnectionFactory\"/>\n                    </entries>\n                    <ha>true</ha>\n                    <block-on-acknowledge>true</block-on-acknowledge>\n                    <retry-interval>500</retry-interval>\n                    <retry-interval-multiplier>1.5</retry-interval-multiplier>\n                    <max-retry-interval>60000</max-retry-interval>\n                    <reconnect-attempts>1000</reconnect-attempts>\n                </connection-factory>\n                <pooled-connection-factory name=\"hornetq-ra\">\n                    <transaction mode=\"xa\"/>\n                    <connectors>\n                        <connector-ref connector-name=\"in-vm\"/>\n                    </connectors>\n                    <entries>\n                        <entry name=\"java:/JmsXA\"/>\n                        <!-- Global JNDI entry used to provide a default JMS Connection factory to EE \n                        application -->\n                        <entry name=\"java:jboss/DefaultJMSConnectionFactory\"/>\n                    </entries>\n                    <ha>true</ha>\n                </pooled-connection-factory>\n            </jms-connection-factories>\n            <jms-destinations>\n                <jms-queue name=\"ExpiryQueue\">\n                    <entry name=\"java:/jms/queue/ExpiryQueue\"/>\n                </jms-queue>\n                <jms-queue name=\"DLQ\">\n                    <entry name=\"java:/jms/queue/DLQ\"/>\n                </jms-queue>\n                <jms-queue name=\"WildFlyCookbookQueue\">\n                    <entry name=\"queue/test\"/>\n                    <entry name=\"java:jboss/exported/jms/queue/test\"/>\n                    <durable>true</durable>\n                </jms-queue>\n            </jms-destinations>\n        </hornetq-server>\n    </subsystem>\n    ```", "```java\n    /bin/standalone.sh -Djboss.server.base.dir=hq-backup -c standalone-full-ha.xml -Djboss.socket.binding.port-offset=200\n    ```", "```java\n    ...\n    16:48:42,918 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221034: Waiting to obtain live lock\n    16:48:42,918 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221035: Live Server Obtained live lock\n    16:48:43,073 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221007: Server is now live\n    16:48:43,073 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 68) HQ221001: HornetQ Server version 2.4.5.FINAL (Wild Hornet, 124) [adcd3a5c-1e60-11e5-877d-c36458d7eaba]\n    ...\n    16:48:43,326 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:10090/management\n    16:48:43,327 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:10090\n    16:48:43,327 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 9.0.0.Beta2 (WildFly Core 1.0.0.Beta2) started in 3298ms - Started 249 of 481 services (282 services are lazy, passive or on-demand)\n    ```", "```java\n    16:51:21,298 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221032: Waiting to become backup node\n    16:51:21,301 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221033: ** got backup lock\n    16:51:21,329 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221013: Using NIO Journal\n    16:51:21,636 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221043: Adding protocol support CORE\n    16:51:21,641 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221043: Adding protocol support AMQP\n    16:51:21,645 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221043: Adding protocol support STOMP\n    16:51:21,667 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221109: HornetQ Backup Server version 2.4.5.FINAL (Wild Hornet, 124) [adcd3a5c-1e60-11e5-877d-c36458d7eaba] started, waiting live to fail before it gets active\n    16:51:21,742 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:10190/management\n    16:51:21,742 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:10190\n    16:51:21,742 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 9.0.0.Beta2 (WildFly Core 1.0.0.Beta2) started in 3001ms - Started 235 of 475 services (281 services are lazy, passive or on-demand)\n    16:51:23,288 INFO  [org.hornetq.core.server] (Thread-0 (HornetQ-server-HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba-640469128)) HQ221031: backup announced\n    ```", "```java\n    $ cd $WILDFLY_HOME/github/wildfly-cookbook\n    $ cd jms-producer\n    $ mvn clean package\n    $ mvn exec:java\n    ...\n    Attempting to acquire connection factory \"jms/RemoteConnectionFactory\"\n    Found connection factory \"jms/RemoteConnectionFactory\" in JNDI\n    Attempting to acquire destination \"jms/queue/test\"\n    Found destination \"jms/queue/test\" in JNDI\n    Sending messages with content: A message by WildFly Cookbook\n        Sending messages with content [0]: A message by WildFly Cookbook\n        Sending messages with content [1]: A message by WildFly Cookbook\n        Sending messages with content [2]: A message by WildFly \n        Cookbook\n        Sending messages with content [3]: A message by WildFly Cookbook\n        Sending messages with content [4]: A message by WildFly Cookbook\n        Sending messages with content [5]: A message by WildFly Cookbook\n        Sending messages with content [6]: A message by WildFly Cookbook\n        Sending messages with content [7]: A message by WildFly Cookbook\n        Sending messages with content [8]: A message by WildFly Cookbook\n        Sending messages with content [9]: A message by WildFly Cookbook\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD SUCCESS\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time: 11.234 s\n    [INFO] Finished at: 2015-06-29T16:03:33+02:00\n    [INFO] Final Memory: 15M/298M\n    [INFO] ------------------------------------------------------------------------\n    ```", "```java\n    [standalone@127.0.0.1:10090 /] jms-queue count-messages --queue-address=WildFlyCookbookQueue\n    10L\n    [standalone@127.0.0.1:10090 /]\n    ```", "```java\n    [standalone@127.0.0.1:10190 /] jms-queue count-messages --queue-address=WildFlyCookbookQueue\n    WFLYMSG0066: Resource at the address [\n        (\"subsystem\" => \"messaging\"),\n        (\"hornetq-server\" => \"default\"),\n        (\"jms-queue\" => \"WildFlyCookbookQueue\")\n    ] can not be managed, the hornetq-server is in backup mode\n    [standalone@127.0.0.1:10190 /]\n    ```", "```java\n    17:58:09,698 WARN  [org.hornetq.core.client] (Thread-1 (HornetQ-client-global-threads-1744891225)) HQ212037: Connection failure has been detected: HQ119015: The connection was disconnected because of server shutdown [code=DISCONNECTED]\n    17:58:09,898 INFO  [org.jboss.messaging] (MSC service thread 1-10) WFLYMSG0016: Registered HTTP upgrade for hornetq-remoting protocol handled by http-acceptor acceptor\n    17:58:09,898 INFO  [org.jboss.messaging] (MSC service thread 1-16) WFLYMSG0016: Registered HTTP upgrade for hornetq-remoting protocol handled by http-acceptor-throughput acceptor\n    17:58:09,900 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 72) HQ221003: trying to deploy queue jms.queue.ExpiryQueue\n    17:58:09,905 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 76) HQ221003: trying to deploy queue jms.queue.WildFlyCookbookQueue\n    17:58:09,916 INFO  [org.jboss.as.messaging] (ServerService Thread Pool -- 75) WFLYMSG0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\n    17:58:09,916 INFO  [org.hornetq.core.server] (ServerService Thread Pool -- 74) HQ221003: trying to deploy queue jms.queue.DLQ\n    17:58:09,918 INFO  [org.jboss.as.messaging] (ServerService Thread Pool -- 73) WFLYMSG0002: Bound messaging object to jndi name java:/ConnectionFactory\n    17:58:09,918 INFO  [org.hornetq.core.server] (HQ119000: Activation for server HornetQServerImpl::serverUUID=adcd3a5c-1e60-11e5-877d-c36458d7eaba) HQ221010: Backup Server is now live\n    17:58:09,956 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-2) WFLYJCA0007: Registered connection factory java:/JmsXA\n    17:58:09,971 INFO  [org.hornetq.ra] (MSC service thread 1-2) HornetQ resource adaptor started\n    17:58:09,971 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-2) IJ020002: Deployed: file://RaActivatorhornetq-ra\n    17:58:09,973 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-4) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]\n    17:58:09,973 INFO  [org.jboss.as.messaging] (MSC service thread 1-11) WFLYMSG0002: Bound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory\n    ```", "```java\n    [standalone@127.0.0.1:10190 /] jms-queue count-messages --queue-address=WildFlyCookbookQueue\n    10L\n    [standalone@127.0.0.1:10190 /]\n    ```", "```java\n<shared-store>false</shared-store>\n```", "```java\n    $ cd $WILDFLY_HOME\n    $ cp -a standalone hq-node-1\n    $ cp -a standalone hq-node-2\n    ```", "```java\n    $ cd $WILDFLY_HOME\n    $ ./bin/add-user.sh --silent -a -u jmsuser -p jmsuser.2015 -g guest -sc hq-node-1/configuration\n    $ ./bin/add-user.sh --silent -a -u jmsuser -p jmsuser.2015 -g guest -sc hq-node-1/configuration\n    ```", "```java\n    $ cd $WILDFLY_HOME/github/wildfly-cookbook\n    $ cd cluster-jms-replication\n    $ mvn clean package\n    ```", "```java\n    $ mvn clean install\n    $ cp standalone-full-ha-1.xml $WILDFLY_HOME/node1/configuration/\n    $ cp standalone-full-ha-2.xml $WILDFLY_HOME/node2/configuration/\n    $ cp queue-jms.xml $WILDFLY_HOME/node1/deployments/\n    $ cp queue-jms.xml $WILDFLY_HOME/node2/deployments/\n    $ cp target/cluster-demo-jms.jar $WILDFLY_HOME/node1/deployments/\n    $ cp target/cluster-demo-jms.jar $WILDFLY_HOME/node2/deployments/\n    ```", "```java\n    $ ./bin/standalone.sh -c standalone-full-ha-1.xml -Djboss.server.base.dir=node1\n    $ ./bin/standalone.sh -c standalone-full-ha-2.xml -Djboss.server.base.dir=node2 -Djboss.socket.binding.port-offset=100\n    ```", "```java\n    $ mvn exec:java\n    ```", "```java\n    12:07:02,323 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-1050658442)) 3: WildFly 9 HornetQ Messaging High Available\n    12:07:12,334 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-1050658442)) 5: WildFly 9 HornetQ Messaging High Available\n    12:07:22,344 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-1050658442)) 7: WildFly 9 HornetQ Messaging High Available\n    12:07:32,355 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-1050658442)) 9: WildFly 9 HornetQ Messaging High Available\n    ```", "```java\n    12:06:52,350 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-589728564)) 2: WildFly 9 HornetQ Messaging High Available\n    12:07:02,358 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-589728564)) 4: WildFly 9 HornetQ Messaging High Available\n    12:07:12,363 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-589728564)) 6: WildFly 9 HornetQ Messaging High Available\n    12:07:22,370 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-589728564)) 8: WildFly 9 HornetQ Messaging High Available\n    12:07:32,379 INFO  [stdout] (Thread-7 (HornetQ-client-global-threads-589728564)) 10: WildFly 9 HornetQ Messaging High Available\n    ```", "```java\n    $ mvn exec:java\n    ```", "```java\n        12:15:44,592 INFO  [stdout] (Thread-13 (HornetQ-client-global-threads-1050658442)) 1: WildFly 9 HornetQ Messaging High Available\n        12:15:54,602 INFO  [stdout] (Thread-13 (HornetQ-client-global-threads-1050658442)) 3: WildFly 9 HornetQ Messaging High Available\n        ```", "```java\n        12:15:44,599 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 2: WildFly 9 HornetQ Messaging High Available\n        12:15:54,606 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 4: WildFly 9 HornetQ Messaging High Available\n        12:16:04,613 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 6: WildFly 9 HornetQ Messaging High Available\n        ... Errors and Warnings ...\n        12:16:14,622 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 8: WildFly 9 HornetQ Messaging High Available\n        12:16:24,629 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 10: WildFly 9 HornetQ Messaging High Available\n        12:16:34,642 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 5: WildFly 9 HornetQ Messaging High Available\n        12:16:44,653 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 7: WildFly 9 HornetQ Messaging High Available\n        12:16:54,663 INFO  [stdout] (Thread-12 (HornetQ-client-global-threads-589728564)) 9: WildFly 9 HornetQ Messaging High Available\n        ```", "```java\n<backup>false</backup>\n<failover-on-shutdown>true</failover-on-shutdown>\n<check-for-live-server>true</check-for-live-server>\n```", "```java\n<backup>true</backup>\n<failover-on-shutdown>true</failover-on-shutdown>\n<allow-failback>true</allow-failback>\n```"]