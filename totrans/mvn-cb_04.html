<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Essential Maven Plugins"><div class="titlepage"><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Essential Maven Plugins</h1></div></div></div><p>In this chapter, we will look at the following recipes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Using the Maven Clean plugin</li><li class="listitem" style="list-style-type: disc">Using the Maven Compiler plugin</li><li class="listitem" style="list-style-type: disc">Changing the compiler used by the Maven Compiler plugin</li><li class="listitem" style="list-style-type: disc">Specifying the Java version for the Compiler plugin</li><li class="listitem" style="list-style-type: disc">Using the Maven Surefire plugin to run unit tests</li><li class="listitem" style="list-style-type: disc">Using the Maven Failsafe plugin to run integration tests</li><li class="listitem" style="list-style-type: disc">Using the Maven Resources plugin</li><li class="listitem" style="list-style-type: disc">Filtering using resources</li><li class="listitem" style="list-style-type: disc">Using Eclipse to run Maven goals</li><li class="listitem" style="list-style-type: disc">Using NetBeans to run Maven goals</li><li class="listitem" style="list-style-type: disc">Using IntelliJ IDEA to run Maven goals</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec36"/>Introduction</h1></div></div></div><p>In the previous chapter, we learned about the Maven lifecycle and the phases and goals of the lifecycle, understood the essential elements of the pom project configuration file and the settings file, and learned to use Maven profiles and properties.</p><p>In this chapter, we will look at how to add and configure plugins to the pom file and use them to perform essential build tasks. Maven has a plugin architecture, and except for core functionalities, every task in Maven is done using plugins. There are a number of plugins that are provided by Maven. In addition, there are several third-party plugins. Maven also provides a mechanism for users to develop their own plugins if they choose to do so.</p></div></div>
<div class="section" title="Using the Maven Clean plugin"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec37"/>Using the Maven Clean plugin</h1></div></div></div><p>When a project is built, it is important to ensure that it is not adversely affected by artifacts of an earlier build. Usually, build tools generate artifacts in a well-defined folder, namely the <code class="literal">target</code> folder, called<a id="id212" class="indexterm"/> <span class="strong"><strong>project working directory</strong></span>. Before a new build, this folder is usually deleted.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec84"/>Getting ready</h2></div></div></div><p>Maven is set up on your <a id="id213" class="indexterm"/>system and is verified to work. To do this, refer to the first three recipes of <a class="link" href="ch01.html" title="Chapter 1. Getting Started">Chapter 1</a>, <span class="emphasis"><em>Getting Started</em></span>.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec85"/>How to do it...</h2></div></div></div><p>Let's start using the Maven Clean plugin by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the command prompt.</li><li class="listitem">Run the following Maven command in the simple Maven project that we created in the <span class="emphasis"><em>Creating a simple project with Maven</em></span> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting Started">Chapter 1</a>, <span class="emphasis"><em>Getting Started</em></span>:<div class="informalexample"><pre class="programlisting">mvn clean</pre></div></li><li class="listitem">Observe the various steps that get executed:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ simple-project ---</strong></span>
<span class="strong"><strong>[INFO] Deleting C:\projects\apache-maven-cookbook\simple-project\target</strong></span>
</pre></div><p>If there are no files/folders to delete, you will not see the following output:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ simple-project ---</strong></span>
<span class="strong"><strong>[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong>[INFO] BUILD SUCCESS</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec86"/>How it works...</h2></div></div></div><p>When the <code class="literal">clean</code> phase is invoked, Maven automatically infers that the <code class="literal">clean</code> lifecycle is invoked.</p><p>It uses the Maven Clean plugin for this. The plugin has only one goal, namely <code class="literal">clean</code>, to clean the working directory.</p><p>In the case of Maven, the working directory is called <code class="literal">target</code>. Maven creates this directory when a build is done. The <code class="literal">clean</code> goal of the plugin attempts to delete this directory.</p><p>As <code class="literal">clean</code> is a<a id="id214" class="indexterm"/> separate lifecycle from the <code class="literal">default</code> (build) lifecycle, <code class="literal">clean</code> needs to be explicitly called before the <code class="literal">default</code> lifecycle if you need to ensure that the working directory is removed.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec87"/>There's more...</h2></div></div></div><p>In this section, we will discuss how to run the Clean plugin automatically during the build, the steps to skip the deletion of working directory, and the process of deleting some additional files/folders.</p><div class="section" title="Cleaning automatically"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec09"/>Cleaning automatically</h3></div></div></div><p>In the previous example, as<a id="id215" class="indexterm"/> we used the default behavior of the plugin and did not need to make any configurations, we did not need to make any change to the pom configuration file. However, what if we want to ensure that the <code class="literal">clean</code> goal is run without explicitly calling it?</p><p>To do this, we need to define the plugin with some parameters in our pom file:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Let us add the following code in our pom file:<div class="informalexample"><pre class="programlisting">    &lt;build&gt;
        &lt;plugins&gt;
          &lt;plugin&gt;
            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
            &lt;version&gt;2.6&lt;/version&gt;
            &lt;executions&gt;
              &lt;execution&gt;
                &lt;id&gt;auto-clean&lt;/id&gt;
                &lt;phase&gt;initialize&lt;/phase&gt;
                &lt;goals&gt;
                  &lt;goal&gt;clean&lt;/goal&gt;
                &lt;/goals&gt;
              &lt;/execution&gt;
            &lt;/executions&gt;
          &lt;/plugin&gt;
        &lt;/plugins&gt;
      &lt;/build&gt;</pre></div><p>Though the preceding declaration may look verbose, all we are asking is for the <code class="literal">clean</code> goal to be invoked during the <code class="literal">initialize</code> phase of the project. We are identifying this <code class="literal">execution</code> with an <code class="literal">id</code> called <code class="literal">auto-clean</code>.</p></li><li class="listitem">Now run the <a id="id216" class="indexterm"/>following command on the command prompt:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn package</strong></span>
</pre></div></li><li class="listitem">You will see the following screenshot:<div class="mediaobject"><img src="graphics/6124OS_04_01.jpg" alt="Cleaning automatically"/></div></li></ol></div><p>Even though we did not call the <code class="literal">clean</code> phase, the <code class="literal">clean</code> goal got invoked because it was configured in the pom file to run in the <code class="literal">initialize</code> phase.</p></div><div class="section" title="Skipping the deletion of the working directory"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec10"/>Skipping the deletion of the working directory</h3></div></div></div><p>Let us look at the converse of the<a id="id217" class="indexterm"/> preceding use case. For some reason, we do not want the working directory to be deleted, even if <code class="literal">clean</code> is run. To do this, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Configure the plugin as follows:<div class="informalexample"><pre class="programlisting">    &lt;plugin&gt;
      &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
      &lt;version&gt;2.6&lt;/version&gt;
      &lt;configuration&gt;
        &lt;skip&gt;true&lt;/skip&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;</pre></div></li><li class="listitem">Run the following command on the command prompt:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn clean</strong></span>
</pre></div></li><li class="listitem">Observe the output, which is as follows:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>C:\projects\apache-maven-cookbook\project-with-clean-disabled&gt;mvn clean</strong></span>
<span class="strong"><strong>[INFO] Scanning for projects...</strong></span>
<span class="strong"><strong>[INFO]</strong></span>
<span class="strong"><strong>[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong>[INFO] Building Project with clean disabled 1.0-SNAPSHOT</strong></span>
<span class="strong"><strong>[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong>[INFO]</strong></span>
<span class="strong"><strong>[INFO] --- maven-clean-plugin:2.6:clean (default-clean) @ project-with-clean-disabled ---</strong></span>
<span class="strong"><strong>[INFO] Clean is skipped.</strong></span>
</pre></div></li></ol></div><p>Setting the <code class="literal">skip</code> plugin <a id="id218" class="indexterm"/>property to <code class="literal">true</code> indicates to Maven that the <code class="literal">clean</code> goal must be skipped.</p></div><div class="section" title="Deleting additional folders/files"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec11"/>Deleting additional folders/files</h3></div></div></div><p>What if your project <a id="id219" class="indexterm"/>has an additional folder, say <code class="literal">report</code>, besides <code class="literal">target</code>, which is perhaps created by another script, and you want that to be deleted as well? We use the following steps to do the same:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Configure the plugin as follows:<div class="informalexample"><pre class="programlisting">  &lt;plugin&gt;
    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.6&lt;/version&gt;
    &lt;configuration&gt;
      &lt;filesets&gt;
        &lt;fileset&gt;
          &lt;directory&gt;${basedir}/report&lt;/directory&gt;
        &lt;/fileset&gt;
      &lt;/filesets&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;</pre></div><p>You have now configured the plugin to delete an additional directory</p></li><li class="listitem">Create a <code class="literal">report</code> folder for the purpose of testing.</li><li class="listitem">Run the following command on command prompt:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn clean</strong></span>
</pre></div></li><li class="listitem">You will now see the following output:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>C:\projects\apache-maven-cookbook\project-with-clean-additional-folder&gt;mvn clean</strong></span>
<span class="strong"><strong>[INFO] Scanning for projects...</strong></span>
<span class="strong"><strong>[INFO]</strong></span>
<span class="strong"><strong>[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong>[INFO] Building Project with clean additional folder 1.0-SNAPSHOT</strong></span>
<span class="strong"><strong>[INFO] ------------------------------------------------------------------------</strong></span>
<span class="strong"><strong>[INFO]</strong></span>
<span class="strong"><strong>[INFO] --- maven-clean-plugin:2.6:clean (default-clean) @ project-with-clean-additional-folder ---</strong></span>
<span class="strong"><strong>[INFO] Deleting C:\projects\apache-maven-cookbook\project-with-clean-additional-folder\report (includes = [], excludes = [])</strong></span>
</pre></div></li></ol></div><p>The <code class="literal">report</code> folder is <a id="id220" class="indexterm"/>deleted as well. In fact, Maven can be configured to delete (or not delete) specific folders and files inside that folder as well.</p></div></div></div>
<div class="section" title="Using the Maven Compiler plugin"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec38"/>Using the Maven Compiler plugin</h1></div></div></div><p>Compilation<a id="id221" class="indexterm"/> is an essential task performed by a build tool. Maven uses the Maven Compiler plugin to do the compilation. The plugin provides several configurations to make the compilation flexible.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec88"/>How to do it...</h2></div></div></div><p>To use the <a id="id222" class="indexterm"/>Maven Compiler plugin, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open a command prompt.</li><li class="listitem">Run the following Maven command on the simple project that we created in the <span class="emphasis"><em>Creating a simple project with Maven</em></span> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting Started">Chapter 1</a>, <span class="emphasis"><em>Getting Started</em></span>:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn compile</strong></span>
</pre></div></li><li class="listitem">Observe the output, which is as follows:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ simple-project ---</strong></span>
<span class="strong"><strong>[INFO] Compiling 1 source file to C:\projects\apache-maven-cookbook\simple-project\target\classes</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec89"/>How it works...</h2></div></div></div><p>The <code class="literal">compile</code> parameter <a id="id223" class="indexterm"/>indicates the invocation of the <code class="literal">default</code> lifecycle to Maven. As illustrated in the <span class="emphasis"><em>Understanding the Maven lifecycle, phases, and goals</em></span> recipe in <a class="link" href="ch03.html" title="Chapter 3. Maven Lifecycle">Chapter 3</a>, <span class="emphasis"><em>Maven Lifecycle</em></span>, Maven runs all the phases up to and including the <code class="literal">compile</code> phase in order.</p><p>The <code class="literal">compile</code> phase itself essentially runs the <code class="literal">compile</code> goal of the Maven Compiler plugin.</p><p>This compiles the Java source files to classes in the <code class="literal">target/classes</code> folder.</p><p>One question would have struck you. What about the test classes? Why does the <code class="literal">compile</code> phase not compile the test sources?</p><p>The answer lies in the way Maven handles the lifecycle and phases of the lifecycle. Why would you want to compile the test sources unless you want to run the tests?</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec90"/>There's more...</h2></div></div></div><p>What if we want to compile the test sources?</p><p>Let us try running the following command on the command prompt:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn test</strong></span>
</pre></div><p>Observe the output as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/6124OS_04_02.jpg" alt="There's more..."/></div><p>As we specified the <code class="literal">test</code> phase, Maven ran all phases prior to it, which includes compiling the test sources using the <code class="literal">testCompile</code> goal of the Maven Compiler plugin.</p></div></div>
<div class="section" title="Changing the compiler used by the Maven Compiler plugin"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec39"/>Changing the compiler used by the Maven Compiler plugin</h1></div></div></div><p>Let us say we are running <a id="id224" class="indexterm"/>Maven using JDK 7 but our project requires the sources to be compiled using JDK 8. Essentially, we want to use a JDK for compilation that is different from the JDK running Maven.</p><p>In this case, we can specify the compiler we want to use to Maven.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec91"/>How to do it...</h2></div></div></div><p>Use the following steps to change the compiler used by the Maven Compiler plugin:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the command prompt.</li><li class="listitem">Define a Maven property to store the location details for Java 8:<div class="informalexample"><pre class="programlisting">&lt;properties&gt;
    &lt;JAVA8.HOME&gt;C:/Program Files/Java/jdk1.8.0_20&lt;/JAVA8.HOME&gt;
&lt;/properties&gt;</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>The portable way to do this would be to define this property in a <code class="literal">profile</code> in the user's <code class="literal">settings.xml</code> file. This is because the location of <code class="literal">JAVA_HOME</code> may be different for different users based on their operating system or preferred installation location.</p></div></div></li><li class="listitem">Add the following plugin configuration to the Maven project:<div class="informalexample"><pre class="programlisting">    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.2&lt;/version&gt;
        &lt;configuration&gt;
          &lt;verbose&gt;true&lt;/verbose&gt;
          &lt;fork&gt;true&lt;/fork&gt;
          &lt;executable&gt;${JAVA8.HOME}/bin/javac&lt;/executable&gt;
          &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>The <code class="literal">fork</code> element needs to be set to <code class="literal">true</code> for the preceding code to work. Maven will invoke the different java compiler in a separate thread and hence the need to fork. This is so that Maven can load a different JVM corresponding to a different JDK.</p></div></div></li><li class="listitem">Run the following command on a command prompt:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn compile</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec92"/>How it works...</h2></div></div></div><p>There would no visible<a id="id225" class="indexterm"/> difference in the way the compilation happens, except that now, the compiler specified in the <code class="literal">executable</code> element will get invoked.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec93"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <span class="emphasis"><em>Specifying the Java version for the Compiler plugin</em></span> recipe in this chapter</li></ul></div></div></div>
<div class="section" title="Specifying the Java version for the Compiler plugin"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec40"/>Specifying the Java version for the Compiler plugin</h1></div></div></div><p>When we created a new project in Eclipse, you would have observed the following warning:</p><div class="mediaobject"><img src="graphics/6124OS_04_03.jpg" alt="Specifying the Java version for the Compiler plugin"/></div><p>Why does this error occur? This <a id="id226" class="indexterm"/>is because the Maven Compiler <a id="id227" class="indexterm"/>plugin, by default, considers the <code class="literal">source</code> and <code class="literal">target</code> Java version to be <code class="literal">1.5</code> (for backward compatibility reasons).</p><p>Let us resolve this warning.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec94"/>How to do it...</h2></div></div></div><p>Let us assume you have configured Java 8 as the default Java runtime in Eclipse, and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the Eclipse project.</li><li class="listitem">Add the following configuration to the Maven Compiler plugin:<div class="informalexample"><pre class="programlisting">    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.2&lt;/version&gt;
        &lt;configuration&gt;
          &lt;source&gt;1.8&lt;/source&gt;
          &lt;target&gt;1.8&lt;/target&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;</pre></div></li><li class="listitem">Alternately, add the<a id="id228" class="indexterm"/> following properties in<a id="id229" class="indexterm"/> the <code class="literal">properties</code> element (this is essentially a shortcut for the earlier process):<div class="informalexample"><pre class="programlisting">&lt;properties&gt;
    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
&lt;/properties&gt;</pre></div></li><li class="listitem">Check if the warning goes away.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec95"/>How it works...</h2></div></div></div><p>When the <code class="literal">source</code> and <code class="literal">target</code> versions of Java are explicitly set to the compiler, the version of java used in the source code as well as the desired version of the compiled classes are unambiguous. There is no likelihood of the compiler compiling to the incorrect target version of Java.</p><p>Consequently, the Eclipse warning goes away.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec96"/>There's more...</h2></div></div></div><p>You may need to pass compiler arguments in the <code class="literal">compilerArguement</code> element to the compiler. For instance, you may want to identify the usage of deprecated APIs in the code. You can do this by adding the following configuration:</p><div class="informalexample"><pre class="programlisting">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.2&lt;/version&gt;
    &lt;configuration&gt;
       &lt;compilerArgument&gt;-Xlint:deprecation&lt;/compilerArgument&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</pre></div><p>When run on a code that has a deprecation, you can see the relevant lines:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] Compiling 1 source file to C:\projects\apache-maven-cookbook\project-with-deprecation\target\classes</strong></span>
<span class="strong"><strong>[WARNING] /C:/projects/apache-maven-cookbook/project-with-deprecation/src/main/java/com/packt/cookbook/App.java:[12,24] Date(int,int,int) in java.util.Date has been deprecated</strong></span>
</pre></div></div></div>
<div class="section" title="Using the Maven Surefire plugin to run unit tests"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec41"/>Using the Maven Surefire plugin to run unit tests</h1></div></div></div><p>A best practice of software development is writing automated unit tests for the code that you develop. Let us now see how to run these tests.</p><p>The plugin that does this job is the Maven Surefire plugin.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec97"/>How to do it...</h2></div></div></div><p>To run unit tests using the <a id="id230" class="indexterm"/>Maven Surefire plugin, perform the <a id="id231" class="indexterm"/>following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the command prompt.</li><li class="listitem">Run the following command on one of our sample projects:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn test</strong></span>
</pre></div></li><li class="listitem">Observe the various steps that get executed:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] --- maven-surefire-plugin:2.10:test (default-test) @ simple-project ---</strong></span>
<span class="strong"><strong>[INFO] Surefire report directory: C:\projects\apache-maven-cookbook\simple-project\target\surefire-reports</strong></span>
<span class="strong"><strong>-------------------------------------------------------</strong></span>
<span class="strong"><strong> T E S T S</strong></span>
<span class="strong"><strong>-------------------------------------------------------</strong></span>
<span class="strong"><strong>Running com.packt.cookbook.AppTest</strong></span>
<span class="strong"><strong>Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec</strong></span>
<span class="strong"><strong>Results:</strong></span>
<span class="strong"><strong>Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec98"/>How it works...</h2></div></div></div><p>The <code class="literal">test</code> parameter indicates the invocation of the <code class="literal">default</code> lifecycle to Maven. As illustrated in the <span class="emphasis"><em>Understanding the Maven lifecycle, phases, and goals</em></span> recipe in <a class="link" href="ch03.html" title="Chapter 3. Maven Lifecycle">Chapter 3</a>, <span class="emphasis"><em>Maven Lifecycle</em></span>, Maven runs all the phases up to and including the <code class="literal">test</code> phase, in order.</p><p>The <code class="literal">test</code> phase itself <a id="id232" class="indexterm"/>essentially runs the <code class="literal">test</code> goal of the Maven <a id="id233" class="indexterm"/>Surefire plugin.</p><p>This runs the test classes that are present in the <code class="literal">target/test-classes</code> folder.</p><p>The test that we have is a test written using the JUnit framework. Not only does the plugin run the test, it also generates a test report that can be used to analyze failures as well as test coverage.</p><p>Check the <code class="literal">surefire-reports</code> folder:</p><div class="mediaobject"><img src="graphics/6124OS_04_04.jpg" alt="How it works..."/></div><p>While the text file contains the summary report, the XML file has the details of each of the tests.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec99"/>There's more...</h2></div></div></div><p>The Surefire plugin provides many configurations to make testing easier.</p><div class="section" title="Using TestNG"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec12"/>Using TestNG</h3></div></div></div><p>JUnit<a id="id234" class="indexterm"/> is not the only way to write automated unit tests. You could use TestNG (<a class="ulink" href="http://testng.org">http://testng.org</a>) or<a id="id235" class="indexterm"/> even write your tests without using <a id="id236" class="indexterm"/>any framework (by using Java asserts).</p><p>Surefire determines the framework to be used based on the dependencies that have been defined.</p><p>Our earlier example ran JUnit tests because we had defined the <code class="literal">junit</code> dependency in the pom file.</p><p>Let us now write a test using TestNG and see what needs to change for it to work. Refer to the Maven project with TestNG.</p><p>The only change in the pom file is to replace the <code class="literal">junit</code> dependency with <code class="literal">testng</code>:</p><div class="informalexample"><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.testng&lt;/groupId&gt;
    &lt;artifactId&gt;testng&lt;/artifactId&gt;
    &lt;version&gt;6.8.8&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><p>Run the following <a id="id237" class="indexterm"/>command on command prompt:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn test</strong></span>
</pre></div><p>The tests are now run in using TestNG:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO]</strong></span>
<span class="strong"><strong>[INFO] --- maven-surefire-plugin:2.10:test (default-test) @ project-with-testNG---</strong></span>
<span class="strong"><strong>[INFO] Surefire report directory: C:\projects\apache-maven-cookbook\project-with-testNG\target\surefire-reports</strong></span>
<span class="strong"><strong>-------------------------------------------------------</strong></span>
<span class="strong"><strong>T E S T S</strong></span>
<span class="strong"><strong>-------------------------------------------------------</strong></span>
<span class="strong"><strong>Running com.packt.cookbook.AppTest</strong></span>
<span class="strong"><strong>Set up run</strong></span>
<span class="strong"><strong>Fast test</strong></span>
<span class="strong"><strong>Slow test</strong></span>
<span class="strong"><strong>Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.609 sec</strong></span>
</pre></div><p>Now, examine the <code class="literal">surefire-reports</code> folder. It has a different set of files corresponding to <code class="literal">testng</code>:</p><div class="mediaobject"><img src="graphics/6124OS_04_05.jpg" alt="Using TestNG"/></div><p>The same tests work with TestNG and JUnit as TestNG can run JUnit tests.</p></div><div class="section" title="Skipping tests"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec13"/>Skipping tests</h3></div></div></div><p>There may be situations <a id="id238" class="indexterm"/>where you might not want to run the tests; some tests are possibly broken. This can be done in the following ways:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Configuring the Surefire plugin in the pom file: Configure your Surefire plugin in the pom.xml file using the following code:<div class="informalexample"><pre class="programlisting">    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.17&lt;/version&gt;
        &lt;configuration&gt;
          &lt;skipTests&gt;true&lt;/skipTests&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;</pre></div><p>Now, run the following command:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn test</strong></span>
</pre></div><p>You will see the following output:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO]</strong></span>
<span class="strong"><strong>[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ project-with-tests-skipped ---</strong></span>
<span class="strong"><strong>[INFO] Tests are skipped.</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">Issuing an <code class="literal">mvn</code> <a id="id239" class="indexterm"/>command with a command-line parameter: The tests can be skipped even by issuing the following command:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn –DskipTests tests</strong></span>
</pre></div></li></ul></div></div><div class="section" title="Skipping the compilation of test sources"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec14"/>Skipping the compilation of test sources</h3></div></div></div><p>The skipTests parameter <a id="id240" class="indexterm"/>used in the preceding mvn command <a id="id241" class="indexterm"/>skips running of tests, but the test sources still get compiled by the earlier phases/goals. To skip the compilation of test sources, you can run the following command:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn –Dmaven.test.skip=true package</strong></span>
</pre></div><p>This will completely skip the test compilation and test execution.</p></div></div></div>
<div class="section" title="Using the Maven Failsafe plugin to run integration tests"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec42"/>Using the Maven Failsafe plugin to run integration tests</h1></div></div></div><p>In addition to unit tests, Maven <a id="id242" class="indexterm"/>also allows you to automate the<a id="id243" class="indexterm"/> running of your integration tests. While unit tests are run during the <code class="literal">test</code> phase of the build lifecycle, integration tests are run during the <code class="literal">verify</code> phase. The Maven Failsafe plugin is used to run integration tests.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec100"/>How to do it...</h2></div></div></div><p>To run integration tests using Maven Failsafe plugin, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open a project containing integration tests, namely <code class="literal">project-with-integration-test</code>.</li><li class="listitem">Add the following plugin configuration to the pom file:<div class="informalexample"><pre class="programlisting">&lt;plugin&gt;
   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
   &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
   &lt;version&gt;2.18&lt;/version&gt;
   &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;integration-tests&lt;/id&gt;
        &lt;goals&gt;
           &lt;goal&gt;integration-test&lt;/goal&gt;
           &lt;goal&gt;verify&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;</pre></div></li><li class="listitem">Run the following command:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn verify</strong></span>
</pre></div></li><li class="listitem">Observe the various<a id="id244" class="indexterm"/> steps that get <a id="id245" class="indexterm"/>executed:<div class="mediaobject"><img src="graphics/6124OS_04_06.jpg" alt="How to do it..."/></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec101"/>How it works...</h2></div></div></div><p>We have specified in the pom<a id="id246" class="indexterm"/> file that the integration test must <a id="id247" class="indexterm"/>be run and the goals of the Maven Failsafe plugin must be verified. These goals are bound to the <code class="literal">verify</code> phase of Maven and get invoked.</p></div></div>
<div class="section" title="Using the Maven Resources plugin"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec43"/>Using the Maven Resources plugin</h1></div></div></div><p>The Resources <a id="id248" class="indexterm"/>plugin comes into picture to copy project resources to the output directory. The resources can be for the project to run or for the purpose of testing.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec102"/>How to do it...</h2></div></div></div><p>Let's start using the Maven <a id="id249" class="indexterm"/>Resources plugin by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the command prompt.</li><li class="listitem">Run the following command on the simple project that we created earlier:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn process-resources</strong></span>
</pre></div></li><li class="listitem">Observe what happens:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ simple-project ---</strong></span>
<span class="strong"><strong>[INFO] skip non existing resourceDirectory C:\projects\apache-maven-cookbook\simple-project\src\main\resources</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec103"/>How it works...</h2></div></div></div><p>When we specify the <code class="literal">process-resources</code> phase, Maven executes the <code class="literal">resources</code> goal of <code class="literal">maven-resources-plugin</code>, which is bound to the <code class="literal">process-resources</code> lifecycle phase.</p><p>In the earlier project, there are no resources and hence, resources are not copied.</p><p>If you add a file in <code class="literal">src\main\resources</code> (as in the case of the <code class="literal">project-with-resources</code> project), you will see the following output:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ project-with-properties ---</strong></span>
<span class="strong"><strong>[INFO] Copying 1 resource</strong></span>
</pre></div><p>You could also explicitly invoke the plugin's goal as follows:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn resources:resources</strong></span>
</pre></div><p>You could also invoke any phase following the <code class="literal">process-resources</code> phase, which will trigger resource processing as well:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn compile</strong></span>
</pre></div><p>There is a separate goal to copy test resources to provide separation of the main and test resources. Like project resources, the test resource processing can be invoked in three ways, which are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">By specifying a<a id="id250" class="indexterm"/> phase that will automatically invoke phases before it:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn process-test-resources</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">By explicitly stating the plugin's goal:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn resources:testResources</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">By a phase following <code class="literal">process-test-resources</code>:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn test</strong></span>
</pre></div></li></ul></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec104"/>There's more...</h2></div></div></div><p>What if we had resources in additional folders? The Maven Resources plugin allows us to configure these additional folders.</p><p>Let's say we have an additional resources folder, namely <code class="literal">src/main/additional</code>. We can configure the <code class="literal">pom.xml</code> file as follows:</p><div class="informalexample"><pre class="programlisting">&lt;build&gt;
   &lt;resources&gt;
     &lt;resource&gt;
         &lt;directory&gt;src/main/resources&lt;/directory&gt;
     &lt;/resource&gt;
     &lt;resource&gt;
         &lt;directory&gt;src/main/additional&lt;/directory&gt;
     &lt;/resource&gt;
   &lt;/resources&gt;
   &lt;/build&gt;</pre></div><p>Now, run the following command:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn process-resources</strong></span>
</pre></div><p>Observe the output:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ project-with-additional-resources ---</strong></span>
<span class="strong"><strong>[INFO] Copying 1 resource</strong></span>
<span class="strong"><strong>[INFO] Copying 1 resource</strong></span>
</pre></div><p>The line <code class="literal">Copying 1 resource</code> repeats twice, indicating the copying happening from two folders.</p></div></div>
<div class="section" title="Filtering using resources"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec44"/>Filtering using resources</h1></div></div></div><p>Now, let us see how <a id="id251" class="indexterm"/>we can put the resources features of <a id="id252" class="indexterm"/>Maven to good use, that is, to perform variable replacements on project resources. This feature is useful when you need to parameterize a build with different configuration values, depending on the deployment platform.</p><p>You can define variables in your resources. Let us see how we can get the value of these variables from properties, resource filter files, and the command line.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec105"/>How to do it...</h2></div></div></div><p>To perform filtering using resources, use the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Add a property with a variable in the <code class="literal">src/main/resource/app.properties</code> file:<div class="informalexample"><pre class="programlisting">display.name=Hello ${project.name}</pre></div></li><li class="listitem">Add the following code in the pom file:<div class="informalexample"><pre class="programlisting">  &lt;build&gt;
    &lt;resources&gt;
      &lt;resource&gt;
        &lt;directory&gt;src/main/resources&lt;/directory&gt;
        &lt;filtering&gt;true&lt;/filtering&gt;
      &lt;/resource&gt;
    &lt;/resources&gt;
  &lt;/build&gt;</pre></div></li><li class="listitem">Invoke the <code class="literal">process-resources</code> phase:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn process-resources</strong></span>
</pre></div></li><li class="listitem">Examine the processed resource <code class="literal">app.properties</code> in <code class="literal">target/classes</code>:<div class="informalexample"><pre class="programlisting"><span class="strong"><strong>C:\projects\apache-maven-cookbook\project-with-resource-filtering\target\classes&gt;type app.properties</strong></span>
<span class="strong"><strong>display.name=Hello Project with resource filtering</strong></span>
</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec106"/>How it works...</h2></div></div></div><p>In the <span class="emphasis"><em>Using properties in Maven</em></span> recipe of <a class="link" href="ch03.html" title="Chapter 3. Maven Lifecycle">Chapter 3</a>, <span class="emphasis"><em>Maven Lifecycle</em></span>, we saw the various types of <a id="id253" class="indexterm"/>properties that Maven can have. In the<a id="id254" class="indexterm"/> preceding case, we set the <code class="literal">filtering</code> element to <code class="literal">true</code>. Maven replaced the variable <code class="literal">${project.name}</code> with the property value corresponding to the name of the project defined in the pom file, namely <code class="literal">Project with resource filtering</code>.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec107"/>There's more...</h2></div></div></div><p>You can override the property values from the command line:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>mvn –Dproject.name="Override from command line" process-resources</strong></span>
</pre></div><p>Now, look at <code class="literal">app.properties</code> by navigating to <code class="literal">target/classes</code>:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>C:\projects\apache-maven-cookbook\project-with-resource-filtering&gt;type target\classes\app.properties</strong></span>
<span class="strong"><strong>display.name=Hello Override from command line</strong></span>
</pre></div><p>If you have a large number of variables whose values differ based on the environment, then you can create a file, say <code class="literal">my-filter-values.properties</code>, in the project codebase holding the keys and values (say, <code class="literal">src/filter</code> folder) and use them as filters:</p><div class="informalexample"><pre class="programlisting">&lt;filters&gt;
    &lt;filter&gt;my-filter-values.properties&lt;/filter&gt;
&lt;/filters&gt;</pre></div></div></div>
<div class="section" title="Using Eclipse to run Maven goals"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec45"/>Using Eclipse to run Maven goals</h1></div></div></div><p>If you are using Eclipse to <a id="id255" class="indexterm"/>develop your project, it is good to know <a id="id256" class="indexterm"/>how to run some of the plugins we have discussed earlier using the IDE.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec108"/>How to do it...</h2></div></div></div><p>To run Maven goals using Eclipse, use the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the simple project in Eclipse.</li><li class="listitem">Right-click on the project.</li><li class="listitem">Choose <span class="strong"><strong>Run As</strong></span>.</li><li class="listitem">View the available Maven options:<div class="mediaobject"><img src="graphics/6124OS_04_07.jpg" alt="How to do it..."/></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec109"/>How it works...</h2></div></div></div><p>Eclipse provides <a id="id257" class="indexterm"/>an option to run various goals from the IDE. Among <a id="id258" class="indexterm"/>the ones we have seen in this chapter, <code class="literal">clean</code>, <code class="literal">compile</code>, and <code class="literal">test</code> are offered by Eclipse. There are a few other options as well.</p><p>In addition, Eclipse also allows us to modify the configurations as suitable.</p><p>Eclipse also allows the project to be <span class="strong"><strong>Run As</strong></span> a <span class="strong"><strong>Java Application</strong></span> in the traditional way (without using any Maven plugins). Likewise, it allows a <span class="strong"><strong>JUnit Test</strong></span> to be run without using Maven.</p></div></div>
<div class="section" title="Using NetBeans to run Maven goals"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec46"/>Using NetBeans to run Maven goals</h1></div></div></div><p>Let us now see how<a id="id259" class="indexterm"/> we can <a id="id260" class="indexterm"/>run the Maven goals in NetBeans.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec110"/>How to do it...</h2></div></div></div><p>To run Maven goals using the NetBeans IDE, implement the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the simple project in the NetBeans IDE.</li><li class="listitem">Right-click on the project.</li><li class="listitem">View the available options:<div class="mediaobject"><img src="graphics/6124OS_04_08.jpg" alt="How to do it..."/></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec111"/>How it works...</h2></div></div></div><p>Unlike Eclipse, NetBeans has a tighter Maven integration. This means each of the menu options (<span class="strong"><strong>Build</strong></span>, <span class="strong"><strong>Clean and Build</strong></span>, <span class="strong"><strong>Clean</strong></span>, and so on) call the corresponding Maven command to do so.</p><p>For instance, clicking on the <span class="strong"><strong>Clean</strong></span> option will result in the following:</p><div class="mediaobject"><img src="graphics/6124OS_04_09.jpg" alt="How it works..."/></div><p>As can be seen, it <a id="id261" class="indexterm"/>runs the <code class="literal">mvn clean</code> command.</p><p>Similarly, the <span class="strong"><strong>Clean and Build</strong></span> option<a id="id262" class="indexterm"/> is equivalent to the <code class="literal">mvn clean install</code> command.</p><p>These are simple use cases. NetBeans provides additional configuration options to override default Maven behavior.</p></div></div>
<div class="section" title="Using IntelliJ IDEA to run Maven goals"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec47"/>Using IntelliJ IDEA to run Maven goals</h1></div></div></div><p>Finally, let us look at what <a id="id263" class="indexterm"/>IntelliJ IDEA <a id="id264" class="indexterm"/>provides.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec112"/>How to do it...</h2></div></div></div><p>To run Maven goals using IntelliJ IDEA, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the simple project in IntelliJ IDEA.</li><li class="listitem">Select <span class="strong"><strong>Maven Projects</strong></span>:<div class="mediaobject"><img src="graphics/6124OS_04_10.jpg" alt="How to do it..."/></div></li><li class="listitem">Open <span class="strong"><strong>Lifecycle</strong></span><a id="id265" class="indexterm"/> and click on a <a id="id266" class="indexterm"/>suitable goal/phase:<div class="mediaobject"><img src="graphics/6124OS_04_11.jpg" alt="How to do it..."/></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec113"/>How it works...</h2></div></div></div><p>Clicking on a Maven <a id="id267" class="indexterm"/>phase/goal invokes the corresponding<a id="id268" class="indexterm"/> Maven command and the same is executed. For instance, clicking on <span class="strong"><strong>compile</strong></span> does the following:</p><div class="mediaobject"><img src="graphics/6124OS_04_12.jpg" alt="How it works..."/></div><p>There are also other configuration options provided by IntelliJ IDEA to customize Maven projects.</p></div></div></body></html>