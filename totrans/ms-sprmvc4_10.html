<html><head></head><body><div class="chapter" title="Chapter&#xA0;10.&#xA0;Beyond Spring Web"><div class="titlepage"><div><div><h1 class="title"><a id="ch10"/>Chapter 10. Beyond Spring Web</h1></div></div></div><p>In this chapter, we'll see how far we have come, the problems we've solved, and the ones left to be addressed.</p><p>We will talk about the Spring ecosystem in general, and persistence, deployment, and Single Page Applications in particular.</p><div class="section" title="The Spring ecosystem"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec87"/>The Spring ecosystem</h1></div></div></div><p>From the<a id="id598" class="indexterm"/> Web to data, Spring is a comprehensive ecosystem aiming to resolve all sorts of problems in a modular way:</p><div class="mediaobject"><img src="graphics/2117_10_01.jpg" alt="The Spring ecosystem"/></div><p>Check out <a id="id599" class="indexterm"/>the<a id="id600" class="indexterm"/> Spring IO platform at <a class="ulink" href="https://spring.io/platform">https://spring.io/platform</a>.</p><div class="section" title="Core"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec77"/>Core</h2></div></div></div><p>At the core<a id="id601" class="indexterm"/> of the Spring framework, there is obviously a dependency injection mechanism.</p><p>We only scratched the surface of the security features and the great integration of the framework with Groovy.</p></div><div class="section" title="Execution"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec78"/>Execution</h2></div></div></div><p>We saw in <a id="id602" class="indexterm"/>detail what Spring Boot is about -- bringing simplicity and cohesion to a vast network of subprojects.</p><p>It allows you to focus on what really matters, that is, your business code.</p><p>The Spring XD project <a id="id603" class="indexterm"/>is also really interesting. Its goal is to provide tools to process, analyze, and transform or export your data, and has a clear focus on big data. For<a id="id604" class="indexterm"/> more information, visit <a class="ulink" href="http://projects.spring.io/spring-xd">http://projects.spring.io/spring-xd</a>.</p></div><div class="section" title="Data"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec79"/>Data</h2></div></div></div><p>One of the things we haven't looked at while developing our application is how to store data in a <a id="id605" class="indexterm"/>database. In Pivotal's reference architecture, there is a tier devoted to both relational data and non-relational (NoSQL) data.</p><p>The Spring ecosystem has provided a lot of interesting solutions under the label <code class="literal">spring-data</code>, which can be found at <a class="ulink" href="http://projects.spring.io/spring-data/">http://projects.spring.io/spring-data/</a>.</p><p>We glanced at Spring Data Redis when we built the cache but there is much more to Spring Data.</p><p>The basic concepts are shared among all the Spring Data projects, such as the template API, which is an abstraction to retrieve and store objects from a persistence system.</p><p>Spring<a id="id606" class="indexterm"/> Data JPA (<a class="ulink" href="http://projects.spring.io/spring-data-jpa/">http://projects.spring.io/spring-data-jpa/</a>) and Spring Data Mongo (<a class="ulink" href="http://projects.spring.io/spring-data-mongodb/">http://projects.spring.io/spring-data-mongodb/</a>) are some of the most well known Spring Data <a id="id607" class="indexterm"/>projects. They let you operate on entities through repositories, simple interfaces that provide facilities to create queries, persisting objects, and so on.</p><p>Petri Kainulainen (<a class="ulink" href="http://www.petrikainulainen.net/spring-data-jpa-tutorial/">http://www.petrikainulainen.net/spring-data-jpa-tutorial/</a>) has a lot of thorough examples on Spring Data. It does not use the facilities that Spring Boot provides but you should be able to get started quite easily with guides, such as the one available at <a class="ulink" href="https://spring.io/guides/gs/accessing-data-jpa/">https://spring.io/guides/gs/accessing-data-jpa/</a>.</p><p>Spring Data REST<a id="id608" class="indexterm"/> is also a magical project that will semiautomatically expose your entities through a RESTful API. Visit <a class="ulink" href="https://spring.io/guides/gs/accessing-data-rest/">https://spring.io/guides/gs/accessing-data-rest/</a> for a detailed tutorial.</p></div><div class="section" title="Other noteworthy projects"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec80"/>Other noteworthy projects</h2></div></div></div><p>Spring<a id="id609" class="indexterm"/> Integration (<a class="ulink" href="http://projects.spring.io/spring-integration">http://projects.spring.io/spring-integration</a>) and Spring Reactor (<a class="ulink" href="http://projectreactor.io">http://projectreactor.io</a>) are<a id="id610" class="indexterm"/> also two of my favorite Spring projects.</p><p>Spring Reactor<a id="id611" class="indexterm"/> is the implementation of reactive streams by Pivotal. The idea is to provide fully nonblocking IO on the server side.</p><p>Spring Integration, on<a id="id612" class="indexterm"/> the other hand, focuses on Enterprise Integration Patterns and lets you design channels to load and transform data coming from heterogeneous systems.</p><p>A good, and simple, example of what you can accomplish with channels can be seen here: <a class="ulink" href="http://lmivan.github.io/contest/#_spring_boot_application">http://lmivan.github.io/contest/#_spring_boot_application</a>.</p><p>If you have heterogeneous and/or complex subsystems with which your application has to communicate, it is definitely worth taking a look at.</p><p>The last project in<a id="id613" class="indexterm"/> the Spring ecosystem we haven't is Spring Batch, a really useful abstraction for processing high volumes of data for the daily operations of enterprise systems.</p></div></div></div>
<div class="section" title="The deployment"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec88"/>The deployment</h1></div></div></div><p>Spring Boot provides the ability to run and distribute your Spring application as a simple JAR and is a <a id="id614" class="indexterm"/>wonderful success in that regard.</p><p>It is, without a doubt, a step in the right direction, but sometimes your web application isn't the only thing you want to deploy.</p><p>When dealing with a complex system with multiple servers and datasources, the work of the operation team can become quite a headache.</p><div class="section" title="Docker"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec81"/>Docker</h2></div></div></div><p>Who hasn't heard<a id="id615" class="indexterm"/> about Docker? It is the new cool kid in the container world and has become quite a success, thanks to its vibrant community.</p><p>The ideas behind <a id="id616" class="indexterm"/>Docker are not new, it leverages LinuX Containers (LXC) and cgroups to provide a fully isolated environment for applications to run in.</p><p>You can find a tutorial on the Spring website that will guide you through your first steps with Docker <a id="id617" class="indexterm"/>at <a class="ulink" href="https://spring.io/guides/gs/spring-boot-docker">https://spring.io/guides/gs/spring-boot-docker</a>.</p><p>Pivotal Cloud Foundry has been using container technology for years in their container manager called Warden. They recently moved to Garden, an abstraction that supports not only Linux containers, but also Windows containers.</p><p>Garden is part of the latest release of Cloud Foundry (called Diego) that also allows Docker images as units of deployment.</p><p>A developer version of Cloud Foundry has also been released under the name Lattice, which can be found at <a class="ulink" href="https://spring.io/blog/2015/04/06/lattice-and-spring-cloud-resilient-sub-structure-for-your-cloud-native-spring-applications">https://spring.io/blog/2015/04/06/lattice-and-spring-cloud-resilient-sub-structure-for-your-cloud-native-spring-applications</a>.</p><p>If you want to test containers without the hassles of the command line, I recommend that you look at Kitematic. With this, you can run a Jenkins container or a MongoDB without installing the binaries on your system. Visit <a class="ulink" href="https://kitematic.com/">https://kitematic.com/</a> for more information on Kitematic.</p><p>Another tool in the Docker ecosystem that's worth mentioning is Docker Compose. It allows you to<a id="id618" class="indexterm"/> run and link multiple containers with a single configuration file.</p><p>Refer to <a class="ulink" href="http://java.dzone.com/articles/spring-session-demonstration">http://java.dzone.com/articles/spring-session-demonstration</a> for a good example of a Spring Boot application composed of two web servers, a Redis to store users' sessions, and an Nginx instance to do the load balancing. Of course, there is much more to learn <a id="id619" class="indexterm"/>about Docker Swarm, which will allow you to scale your application<a id="id620" class="indexterm"/> with a simple command, and Docker Machine, which will create Docker hosts for you on any machine, including Cloud providers.</p><p>Google Kurbernetes and Apache Mesos are also great examples of distributed systems that benefit greatly from Docker containers.</p></div></div>
<div class="section" title="Single Page Applications"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec89"/>Single Page Applications</h1></div></div></div><p>Most of today's <a id="id621" class="indexterm"/>web applications are written in JavaScript. Java is relegated to the backend and has the important role of dealing with data and business rules. However, much of the GUI stuff is now happening on the client side.</p><p>There is a good reason for that in terms of responsiveness and user experience, but those applications add extra complexity.</p><p>Developers now have to be fluent in both Java and JavaScript and the number of frameworks can be a little overwhelming at first.</p><div class="section" title="The players"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec82"/>The players</h2></div></div></div><p>If you want to dig<a id="id622" class="indexterm"/> deeper into JavaScript, I would highly recommend Dave Syer's tutorial with Spring and AngularJS, which is available at <a class="ulink" href="https://spring.io/guides/tutorials/spring-security-and-angular-js">https://spring.io/guides/tutorials/spring-security-and-angular-js</a>.</p><p>Choosing a JavaScript MVC framework can be a little difficult too. AngularJS has had the favor of the Java community for years but people seem to be moving away from it. For more information, visit <a class="ulink" href="https://gist.github.com/tdd/5ba48ba5a2a179f2d0fa">https://gist.github.com/tdd/5ba48ba5a2a179f2d0fa</a>.</p><p>Other alternatives include the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>BackboneJS</strong></span>: This is<a id="id623" class="indexterm"/> a really simple MVC framework that sits on top of Underscore and jQuery.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Ember</strong></span>: This is<a id="id624" class="indexterm"/> a comprehensive system that provides more facilities for interacting with data and more.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>React</strong></span>: This<a id="id625" class="indexterm"/> is the newest project from Facebook. It has a new and very interesting philosophy for dealing with views. Its learning curve is quite steep, but it is a very interesting system to look at in terms of designing a GUI framework.</li></ul></div><p>React is my<a id="id626" class="indexterm"/> favorite project right now. It lets you <a id="id627" class="indexterm"/>focus on the view and its one-way data flow makes it easy to reason with the state of your application. However, it is still in version 0.13. This makes it both very interesting, as the vibrant community always comes up with new solutions and ideas, and somewhat disturbing, as the road ahead stills seems long even after more than 2 years of open source development. Visit <a class="ulink" href="https://facebook.github.io/react/blog/2014/03/28/the-road-to-1.0.html">https://facebook.github.io/react/blog/2014/03/28/the-road-to-1.0.html</a> for information on "The Road to 1.0".</p></div><div class="section" title="The future"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec83"/>The future</h2></div></div></div><p>I see a lot of Java developers ranting about the permissiveness of JavaScript and having a hard time <a id="id628" class="indexterm"/>dealing with the fact that it is not a strongly typed language.</p><p>There are other<a id="id629" class="indexterm"/> alternatives, such as <span class="strong"><strong>Typescript</strong></span> (<a class="ulink" href="http://www.typescriptlang.org/">http://www.typescriptlang.org/</a>), which<a id="id630" class="indexterm"/> are really interesting and provide the things that we, Java developers, have always used to make our lives simpler: interfaces, classes, helpful support in IDE, and autocompletion.</p><p>A lot of people place bets on the next version (2.0) of Angular that will quite notoriously break everything. I think it's for the best. Their collaboration with Microsoft's team that makes Typescript is really unique.</p><p>Most JEE developers will smile when they hear that one of the big new features of ECMAScript, that allows the development of this new framework, is decorators, some kind of annotation mechanism:</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note31"/>Note</h3><p>To learn about the difference between annotation and decorators, visit <a class="ulink" href="http://blog.thoughtram.io/angular/2015/05/03/the-difference-between-annotations-and-decorators.html">http://blog.thoughtram.io/angular/2015/05/03/the-difference-between-annotations-and-decorators.html</a>.</p></div></div><p>JavaScript is evolving quickly and ECMAScript 6 has a lot of interesting features that makes it a really advanced and sophisticated language. Don't miss the boat; take a look at <a class="ulink" href="https://github.com/lukehoban/es6features">https://github.com/lukehoban/es6features</a> before it's too late!</p><p>The web component specification is also a game changer. The goal is to provide reusable UI components, and both the React team and the Angular 2 teams have plans to interface with it. Google has developed an interesting project on top of web components called Polymer that is now in version 1.0.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note32"/>Note</h3><p>Refer to the article at <a class="ulink" href="http://ng-learn.org/2014/12/Polymer/">http://ng-learn.org/2014/12/Polymer/</a> to learn more about the state of these projects.</p></div></div></div><div class="section" title="Going stateless"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec84"/>Going stateless</h2></div></div></div><p>When dealing with a JavaScript client, relying on session cookies isn't the best option. Most applications <a id="id631" class="indexterm"/>choose to go completely stateless and identify clients with a token.</p><p>If you want to <a id="id632" class="indexterm"/>stick with Spring Session, take a look at the <code class="literal">HeaderHttpSessionStrategy</code> class. It has an implementation that sends and retrieves sessions with an HTTP header. An example of this can be found at <a class="ulink" href="https://drissamri.be/blog/2015/05/21/spr">https://drissamri.be/blog/2015/05/21/spr</a>.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec90"/>Summary</h1></div></div></div><p>The Spring ecosystem is wide and has a lot to offer to modern web application developers.</p><p>It is hard to find a problem that hasn't been addressed by one of the Spring projects.</p><p>Time to say good bye! I hope you enjoyed our little journey with Spring MVC and that it will help you develop with pleasure and create amazing projects, at work or in your spare time.</p></div></body></html>