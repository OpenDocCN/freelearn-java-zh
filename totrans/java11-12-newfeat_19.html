<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Raw String Literals</h1>
                </header>
            
            <article>
                
<p>Have you ever felt the pain of using string types to store SQL queries in Java, with multiple opening and closing, single and double quotes? To add to the misery, perhaps you have used newline escape sequences and concatenation operators. Similar discomfort applies to using string types with HTML, XML, or JSON code. If you dread all of these combinations like I do, fear no more. Raw string literals are here to save you from the pain.</p>
<p>With raw string literals, you can easily work with readable, multiline string values, without including special newline indicators. Since raw string literals don't interpret escape sequences, it is simple to include escape sequences as part of the string values. The related classes also include management of margins.</p>
<p>In this chapter, we'll cover the following topics:</p>
<ul>
<li> The advantages and difficulties of using escape sequences in string values</li>
<li> New methods added to the <kbd>String</kbd> class</li>
<li> Margin management</li>
<li> Delimiters</li>
<li> Examples of using raw strings with varied multiline text data</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Technical requirements</h1>
                </header>
            
            <article>
                
<p>The code in this chapter will use raw string literals, which are meant for JDK 12 (Mar 2019). You can clone the repository that includes raw string literals to experiment with it.</p>
<p>All of the code in this chapter can be accessed at <a href="https://github.com/PacktPublishing/Java-11-and-12-New-Features">https://github.com/PacktPublishing/Java-11-and-12-New-Features</a>.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">A quick example</h1>
                </header>
            
            <article>
                
<p><span>Are you excited to see raw strings in action? I am. Let's look at a quick example, before diving into the problems that led to the introduction of raw strings.</span></p>
<p>The following code shows how you can write a multiline string value with raw string literals, using a backtick (<kbd>`</kbd>) as the delimiter, without using a concatenation operator or special indicators for a newline or tab:</p>
<pre>String html =  
`&lt;HTML&gt;                                      
    &lt;BODY&gt; 
        &lt;H1&gt;Meaning of life&lt;/H1&gt;  
    &lt;/BODY&gt; 
&lt;/HTML&gt; 
`; </pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Issues with existing multiline string values</h1>
                </header>
            
            <article>
                
<p>The creation of multiline string values is common in most programming languages, including Java. You might use them to create HTML code, a JSON or XML value, or an SQL query. But this seemingly simple task becomes complicated with the use of escape sequences (of newline or tab indicators).</p>
<p>To make your multiline string values readable, you might define parts of your string values on separate lines, using the concatenation operator (<kbd>+</kbd>) to glue them together. However, with increasing string lengths, this can become difficult to write and comprehend.</p>
<p>Let's outline the simple task of creating a multiline string, and then use multiple approaches to store it as a string value.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">A simple task</h1>
                </header>
            
            <article>
                
<p>Suppose that you have to define the following multiline value using the string type, keeping its indentation in place:</p>
<pre>&lt;HTML&gt; 
   &lt;BODY&gt; 
          &lt;H1&gt;Meaning of life&lt;/H1&gt;  
   &lt;/BODY&gt; 
&lt;/HTML&gt;</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Escape sequence hell with traditional string literals</h1>
                </header>
            
            <article>
                
<p>To add a newline or tab to a traditional string value, you can use the escape sequences <kbd>\n</kbd> and <kbd>\t</kbd>. Escape sequences are letters preceded with <kbd>\</kbd> (a backslash), and they have a special meaning in Java. For example in Java strings, <kbd>\n</kbd> is used as a newline, and <kbd>\t</kbd> is used as a tab.</p>
<div class="packt_infobox">An escape sequence is a letter combination used for values that can't be represented directly. For instance, to use the newline control character from ASCII, Java uses <kbd>\n</kbd>. Java defines multiple other escape sequences.</div>
<p>The following code shows how you can store the multiline string value with newline and tab escape sequences. The newline and tab escape sequences will include the indentation in the variable HTML:</p>
<pre>String html = "&lt;HTML&gt;\n\t&lt;BODY&gt;\n\t\t&lt;H1&gt;Meaning in life&lt;/H1&gt;\n\t&lt;/BODY&gt;\n&lt;/HTML&gt;"; </pre>
<p>As you can see, the preceding can be difficult to write. You'll have to figure out the newlines and count the tabs in the target string value, and insert them as <kbd>\n</kbd> or <kbd>\t</kbd>. Another challenge is reading this code. You'll have to try to figure out line by line what the code is intended to do.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Concatenation hell with traditional string literals</h1>
                </header>
            
            <article>
                
<p>The following is an alternative that is meant to make the preceding code readable, by defining parts of the string value on multiple lines. However, when doing so, you should use multiple string concatenation operators (<kbd>+</kbd>) and string delimiters (<kbd>"</kbd>):</p>
<pre>String html =  "&lt;HTML&gt;" + 
"\n\t" + "&lt;BODY&gt;" + 
"\n\t\t" + "&lt;H1&gt;Meaning of life&lt;/H1&gt;" + 
"\n\t" + "&lt;/BODY&gt;" + 
"\n" + "&lt;/HTML&gt;";</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>I would prefer to add whitespaces to the preceding code, to make it more readable:</p>
<pre>String html =  "&lt;HTML&gt;" + 
                    "\n\t" + "&lt;BODY&gt;" + 
                        "\n\t\t" + "&lt;H1&gt;Meaning of life&lt;/H1&gt;" + 
                    "\n\t" + "&lt;/BODY&gt;" + 
                "\n" + "&lt;/HTML&gt;"; </pre>
<p>Although the preceding code looks better in terms of readability, it delegates a lot of responsibility to the programmer, to insert whitespaces in the correct places. As a quick note, the whitespaces (outside of the double quotes) aren't a part of the variable HTML; they just make it readable. As a developer, it's a pain to write such code.</p>
<div class="packt_infobox">The Java GUI library doesn't work with the control characters, such as the newline. So, this approach can be used with GUI classes.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Including escape sequences as part of string values</h1>
                </header>
            
            <article>
                
<p>Imagine what happens when the letter combination represented by an escape sequence (let's say, <kbd>\n</kbd>) must be included as a part of the string value. Let's modify our example, as follows:</p>
<pre>&lt;HTML&gt; 
   &lt;BODY&gt; 
          &lt;H1&gt;\n - new line, \t - tab&lt;/H1&gt;  
   &lt;/BODY&gt; 
&lt;/HTML&gt; </pre>
<p>In this case, you can escape the <kbd>\n</kbd> <span>sequence </span>by using another backslash, as follows:</p>
<pre>String html =  "&lt;HTML&gt;" + 
                    "\n\t" + "&lt;BODY&gt;" + 
                        "\n\t\t" + "&lt;H1&gt;\\n - new line, \\t - tab&lt;/H1&gt;" <br/>                        +  
                    "\n\t" + "&lt;/BODY&gt;" + 
                "\n" + "&lt;/HTML&gt;";</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>But, with the changes, it's getting difficult to read and understand the preceding code. Imagine a developer in your team writes such code. Let's see how you could make it more readable. </p>
<p>As a workaround, you can define <kbd>String</kbd> constants (say, <kbd>tab</kbd> or <kbd>newLine</kbd>), assigning the values of <kbd>\t</kbd> and <kbd>\n</kbd> to them. You can use these constants instead of the literal values of <kbd>\n</kbd> and <kbd>\t</kbd> in the preceding code. This replacement will make the code easier to read. </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Strings and regex patterns, another hell</h1>
                </header>
            
            <article>
                
<p>This section will provide another example of escaping sequence hell—defining regex patterns as Java strings.</p>
<p>To remove whitespaces (spaces or tabs) between a word character and a period (<kbd>.</kbd>), you'll need the following <strong>regex</strong> (<strong>regular expression</strong>) pattern:</p>
<pre>(\w)(\s+))[\.] </pre>
<p>To store it using a Java string, you'll need the following code:</p>
<pre>String patternToMatch = "(\\w)(\\s+)([\\.,])";     // Isn't that a lot <br/>                                                   // to digest? 
                                                   // Does the regex  <br/>                                                   // pattern has
                                                   // a single <br/>                                                   // backslash, or,<br/>                                                   // two of them? </pre>
<p>I'll share a quick secret here—when I started working with Java, one of my biggest nightmares was defining patterns as s<span class="CodeInTextPACKT">tring</span> values. I admit it; I had a difficulty writing patterns, and using the <kbd>\</kbd> escape character with the sequences in my patterns made my life miserable.</p>
<div class="packt_infobox">This is also referred to as <strong>leaning toothpick syndrome </strong>(<strong>LTS</strong>)—making string values unreadable by using a lot of backslashes.</div>
<p><span>Let's put an end to this string misery by using raw string literals.</span></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Welcoming raw string literals</h1>
                </header>
            
            <article>
                
<p>The raw string literals are non-interpreted string literals. In real-world projects, you would need to work with literal string values as is, without any special handling of the Unicode values, backslashes, or newlines. Raw string literals set aside Java escapes and Java line terminator specifications, in order to make the code readable and maintainable.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Rewriting using raw strings</h1>
                </header>
            
            <article>
                
<p>You can define a multiline string value by using raw literals, as follows:</p>
<pre>String html =  
`&lt;HTML&gt;                                      
    &lt;BODY&gt; 
        &lt;H1&gt;Meaning of life&lt;/H1&gt;  
    &lt;/BODY&gt; 
&lt;/HTML&gt; 
`; </pre>
<p>By using <kbd>`</kbd> as the opening and closing delimiter, you can define multiline string literals with ease and elegance.</p>
<p>The preceding code is free from Java indicators (concatenation operators or escape sequences).</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The delimiter (backtick)</h1>
                </header>
            
            <article>
                
<p>A raw string literal is defined as follows:</p>
<pre>RawStringDelimeter {RawStringCharacters} RawStringDelimeter </pre>
<p>A backtick is used as the delimiter for raw string literals. I believe that using <kbd>`</kbd> for raw string literals is a good decision. The <kbd>`</kbd> backtick looks like <kbd>'</kbd> (a single quote) and <kbd>"</kbd> (a double quote), which have been used as delimiters for character and string literals. The <kbd>`</kbd> backtick will help Java programmers to easily see it as a delimiter for raw strings.</p>
<div class="packt_infobox">A raw string literal uses <kbd>`</kbd> as a delimiter. A traditional string literal uses <kbd>"</kbd> as a delimiter and a character uses <kbd>'</kbd> as a delimiter.</div>
<p>If you wish to include one backtick as a part of the string value, you can use two backticks (<kbd>``</kbd>) to define your value. This works for <em>n</em> number of backticks; just make sure to match the count of opening and closing backticks. This sounds interesting. Let's look at an example that includes <kbd>`</kbd> as part of its value:</p>
<pre>String html =  
``&lt;HTML&gt;                                      
    &lt;BODY&gt; 
        &lt;H1&gt;I think I like ` as a delimiter!&lt;/H1&gt;  
    &lt;/BODY&gt; 
&lt;/HTML&gt; 
``; </pre>
<p>The following is another example, which uses multiple backticks in the string value and as delimiters. Of course, the count of backticks included in the string value is not equal to the count of backticks used as delimiters:</p>
<pre>String html =  
````&lt;HTML&gt;                                      
    &lt;BODY&gt; 
        &lt;H1&gt;I believe I would have liked ``` too(!)&lt;/H1&gt;  
    &lt;/BODY&gt; 
&lt;/HTML&gt; 
````; </pre>
<div class="packt_infobox">If there is a mismatch between the count of backticks in the opening and closing delimiters, the code won't compile.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Treating escape values</h1>
                </header>
            
            <article>
                
<p>The Unicode and escape sequences are never interpreted in a raw string literal value.</p>
<p>A lexer is a software program that performs <strong>lexical analysis</strong>. Lexical analysis is the process of tokenizing a stream of characters into words and tokens. As you read this line, you are analyzing this string lexically, using the spaces to separate chunks of letters as words.</p>
<p>This analysis is disabled for the raw string literals at the start of the opening backtick. It is re-enabled at the closing backtick.</p>
<p class="mce-root"/>
<div class="packt_infobox">Don't replace the backtick in your string value with its Unicode escape (that is, <kbd>\u0060 in</kbd>), for consistency. </div>
<p><span>The only exceptions to this rule are <kbd>CR</kbd> (carriage return—<kbd>\u000D</kbd>) and <kbd>CRLF</kbd> (carriage return and line feed—<kbd>\u000D\u000A</kbd>). Both of these are translated to <kbd>LF</kbd> (line feed—<kbd>\u000A</kbd>).</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Raw string literals versus traditional string literals</h1>
                </header>
            
            <article>
                
<p>The introduction of raw string literals will not change the interpretation of the traditional string literal values. This includes their multiline capabilities and how they handle the escape sequences and delimiters. A traditional string can include Unicode escapes (JLS 3.3) or escape sequences (JLS 3.10.6).</p>
<p>A Java class file, that is, the Java bytecode, does not record whether a string constant was created using a traditional string or a raw string. Both traditional and raw string values are stored as instances of the <kbd>java.lang.String</kbd> <span>class. </span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Interpreting escape sequences</h1>
                </header>
            
            <article>
                
<p>To interpret escape sequences in multiline raw string values, Java will add methods to the <span><kbd>String</kbd> </span>class—<kbd>unescape()</kbd> and <kbd>escape()</kbd>:</p>
<pre>public String unescape() {...} 
public String escape() {...} </pre>
<div class="packt_infobox">Considering raw string literals at Oracle, work is in progress. Oracle is considering swapping the names of the methods <kbd>unescape()</kbd> and <kbd>escape()</kbd>, or even renaming them.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The unescape() method</h1>
                </header>
            
            <article>
                
<p>By default, the raw string literals don't interpret the escape sequences. However, what if you want them to do so? When used with a raw string, the <kbd>unescape()</kbd> <span>method </span>will match the sequence of the characters following <kbd>\</kbd> with the sequence of Unicode escapes and escape sequences, as defined in the <strong>Java Language Specifications</strong> (<strong>JLS</strong>). If a match is found, the escape sequence will not be used as a regular combination of letters; it will be used as an escape sequence.</p>
<p>The following code doesn't interpret <kbd>\n</kbd> as a newline escape sequence:</p>
<pre>System.out.print("eJava"); 
System.out.print("\\n");             
System.out.print("Guru"); </pre>
<p>The output of the preceding code is as follows:</p>
<pre><strong>eJava\nGuru</strong> </pre>
<p>However, the following code will interpret <kbd>\n</kbd> as a newline escape sequence:</p>
<pre>System.out.print("eJava"); 
System.out.print(`\n`.unescape());      // Don't ignore the escape char 
System.out.print("Guru"); </pre>
<p>The output of the preceding code will provide the <kbd>eJava</kbd> and <kbd>Guru</kbd> <span>string values </span>on separate lines, as follows:</p>
<pre><strong>eJava 
Guru</strong> </pre>
<p>When interpreted as escape sequences, a combination of letters that is used to represent them, is counted as a control character of the length <kbd>1</kbd>. The output of the following code will be <kbd>1</kbd>:</p>
<pre>System.out.print(`\n`.unescape().length());</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The escape() method</h1>
                </header>
            
            <article>
                
<p>The <kbd>escape()</kbd> method will be used to invert the escapes. The following table shows how it will convert the characters:</p>
<table border="1" style="border-collapse: collapse;width: 100%">
<tbody>
<tr>
<td>
<p><strong>Original character</strong></p>
</td>
<td>
<p><strong>Converted character</strong></p>
</td>
</tr>
<tr>
<td>
<p>Less than <kbd>' '</kbd> (space)</p>
</td>
<td>
<p>Unicode or character escape sequences</p>
</td>
</tr>
<tr>
<td>
<p>Above <kbd>~</kbd> (tilde)</p>
</td>
<td>
<p>Unicode escape sequences</p>
</td>
</tr>
<tr>
<td>
<p><kbd>"</kbd> <span>(double quotes)</span></p>
</td>
<td>
<p>Escape sequence</p>
</td>
</tr>
<tr>
<td>
<p><kbd>'</kbd> (single quote)</p>
</td>
<td>
<p>Escape sequence</p>
</td>
</tr>
<tr>
<td>
<p><kbd>\</kbd> (backslash)</p>
</td>
<td>
<p>Escape sequence</p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p class="mce-root">The following example doesn't include a newline in the output:</p>
<pre>System.out.println("eJava" + "\n".escape() + "Guru"); </pre>
<p>The output of the preceding code is as follows:</p>
<pre><strong>eJava\nGuru</strong> </pre>
<p>Consider the following code:</p>
<pre>System.out.println("eJava" + `•`.escape()); </pre>
<p>The output of the preceding code is as follows (<kbd>•</kbd> is converted to its equivalent escape value):</p>
<pre><strong>eJava\u2022Guru</strong> </pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Managing margins</h1>
                </header>
            
            <article>
                
<p>Suppose that you have to import multiline text from a file in your Java code. How would you prefer to treat the margins of the imported text? You may have to align or indent the imported text. The text might use a custom newline delimiter (say, <kbd>[</kbd>), which you might prefer to strip from the text. To work with these requirements, a set of new methods, such as <kbd>align()</kbd>, <kbd>indent()</kbd>, and <kbd>transform()</kbd>, are being added to the <kbd>String</kbd> class, which we'll cover in the next section.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The align() method</h1>
                </header>
            
            <article>
                
<p>When you define a multiline string value, you might choose to format the string against the left margin or align it with the indentation used by the code. The string values are stored with the margin intact. The <kbd>align()</kbd> method will provide incidental indentation support; it will strip off any leading or trailing blank lines, then justify each line, without losing the indentations.</p>
<p>The following is an example:</p>
<pre>String comment =  
       `one  
          of 
                  my 
           favorite 
               lang 
                   feature 
       from Amber(!)  
`.align(); 
System.out.println(comment); </pre>
<p>The output of the preceding code is as follows:</p>
<pre><strong>one  
   of 
           my 
    favorite 
        lang 
            feature 
from Amber(!)</strong>  </pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The indent(int) method</h1>
                </header>
            
            <article>
                
<p>The <kbd>indent(int)</kbd> method will enable developers to specify custom indentations for their multiline string values. You can pass a positive number, <kbd>i</kbd>, to <kbd>indent(int)</kbd>, to add <kbd>i</kbd> spaces (<kbd>U+0020</kbd>) to your text, or you can pass a negative number, to remove a given number of whitespaces from each line of your multiline text.</p>
<p>An example is as follows:</p>
<pre>String comment =  
       `one  
          of 
                  my 
           favorite 
               lang 
                   feature 
       from Amber(!)  
`.align().indent(15); 
System.out.println(comment); </pre>
<p>The output of the preceding code is as follows:</p>
<pre><strong>               one  
                  of 
                          my 
                   favorite 
                       lang 
                           feature 
               from Amber(!) </strong> </pre>
<div class="packt_infobox">The <kbd>indent(int)</kbd> method can be used to add or remove whitespaces from each line in a multitext value. By passing a positive number, you can add whitespaces, and you can remove them by passing negative values.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The overloaded align(int) method</h1>
                </header>
            
            <article>
                
<p>The <kbd>align(int)</kbd> method will first align the rows of a multistring value, and will then indent it with the specified spaces. The following is an example:</p>
<pre>String comment =  
       `one  
          of 
                  my 
           favorite 
               lang 
                   feature 
       from Amber(!)  
`.align(15); 
System.out.println(comment); </pre>
<p>The output of the preceding code is as follows (the text on each line is preceded by fifteen spaces):</p>
<pre><strong>               one  
                  of 
                          my 
                   favorite 
                       lang 
                           feature 
               from Amber(!) </strong> </pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The detab(int) and entab methods</h1>
                </header>
            
            <article>
                
<p>A tab (<kbd>U+0009</kbd>) usually represents four whitespaces (<kbd>U+0020</kbd>). However, not all of the applications convert between tabs and whitespaces when they use text that includes a mix of whitespaces and tabs. To combat this challenge with the multiline text, the <kbd>String</kbd> class will include two methods, <kbd>detab(int)</kbd> and <kbd>entab(int)</kbd>, which will convert a tab to whitespaces, and vice versa:</p>
<pre>public String detab(int) 
public String entab(int) </pre>
<p>Let's modify the preceding example, so that the content includes tabs instead of whitespaces, as follows:</p>
<pre>String comment =  
        `one  
    of 
            my 
        favorite 
            lang 
    feature 
    from Amber(!)  
`.detab(1); </pre>
<p>The output of the preceding code is as follows (each tab is converted to one whitespace):</p>
<pre><strong>  one  
 of 
   my 
  favorite 
   lang 
 feature 
 from Amber(!)</strong>  </pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The transform() method</h1>
                </header>
            
            <article>
                
<p>Suppose that a file includes the following text, using <kbd>[</kbd> at the beginning of a new line:</p>
<pre>[ Talks - Java11, Amber, CleanCode 
[ Oceans - plastic pollution, human callousness</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>Now, suppose that you must remove the delimiter, <kbd>[</kbd>, used at the beginning of all lines. You can use the <kbd>transform()</kbd> <span>method </span>to customize the margin management, adding the <span><kbd>String</kbd> </span>class:</p>
<pre> &lt;R&gt; R transform (Function&lt;String, R&gt; f)</pre>
<p>The following is an example that uses the method <kbd>transform()</kbd> to remove the custom margin characters from the multiline text:</p>
<pre>String stripped = ` 
                     [ Talks - Java11, Amber, CleanCode 
                     [ Oceans - dying, human callousness, plastic <br/>                      pollution  
                 `.transform({ 
                    multiLineText.stream() 
                        .map(e -&gt; e.map(String::strip) 
                        .map(s -&gt; s.startsWith("[  ") ?  
                              s.substring("[  ".length())  
                              : s) 
                        .collect(Collectors.joining("\n", "", "\n")); 
                 }); </pre>
<p>The next section will include some common cases where using raw string literals over traditional strings will benefit you tremendously.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Common examples</h1>
                </header>
            
            <article>
                
<p>If you have used stored JSON, XML data, database queries, or file paths as string literals, you know it is difficult to write and read such code. This section will highlight examples of how a traditional raw string will improve the readability of your code when working with these types of data.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">JSON data</h1>
                </header>
            
            <article>
                
<p>Suppose that you have the following JSON data to be stored as a Java string:</p>
<pre>{"plastic": { 
  "id": "98751", 
  "singleuse": { 
    "item": [ 
      {"value": "Water Bottle", "replaceWith": "Steel Bottle()"}, 
      {"value": "Straw", "replaceWith": "Ban Straws"}, 
      {"value": "Spoon", "replaceWith": "Steel Spoon"} 
    ] 
  } 
}} </pre>
<p>The following code shows how you would perform this action with the traditional <kbd>String</kbd> class, escaping the double quotes within the data by using <kbd>\</kbd> and adding a newline escape sequence:</p>
<pre>String data = 
"{\"plastic\": { \n" + 
  "\"id\": \"98751\", \n" + 
  "\"singleuse\": { \n" + 
    "\"item\": [ \n" + 
      "{\"value\": \"Water Bottle\", \"replaceWith\": \"Steel <br/>        Bottle()\"}, \n" + 
      "{\"value\": \"Straw\", \"replaceWith\": \"Ban Straws\"}, \n" + 
      "{\"value\": \"Spoon\", \"replaceWith\": \"Steel Spoon\"} \n" + 
    "] \n" + 
  "} \n" + 
"}}"; </pre>
<p>To be honest, it took me quite a while to write the preceding code, escaping the double quotes with the backslash. As you can see, this code is not readable.</p>
<p>The following example shows how you can code the same JSON data using raw string literals, without giving up the code readability:</p>
<pre>String data =  
```{"plastic": { 
  "id": "98751", 
  "singleuse": { 
    "item": [ 
      {"value": "Water Bottle", "replaceWith": "Steel Bottle()"}, 
      {"value": "Straw", "replaceWith": "Ban Straws"}, 
      {"value": "Spoon", "replaceWith": "Steel Spoon"} 
    ] 
  } 
}}```;</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">XML data</h1>
                </header>
            
            <article>
                
<p>The following code is an example of XML data that you might need to store using a Java string:</p>
<pre>&lt;plastic id="98751"&gt; 
  &lt;singleuse&gt; 
    &lt;item value="Water Bottle" replaceWith="Steel bottle" /&gt; 
    &lt;item value="Straw" replaceWith="Ban Straws" /&gt; 
    &lt;item value="spoon" replaceWith="Steel Spoon" /&gt; 
  &lt;/singleuse&gt; 
&lt;/plastic&gt; </pre>
<p>The following code shows how you can define the preceding data as a <kbd>String</kbd> literal by using the appropriate escape sequences:</p>
<pre>String data = 
"&lt;plastic id=\"98751\"&gt;\n" + 
  "&lt;singleuse&gt;\n" + 
    "&lt;item value=\"Water Bottle\" replaceWith=\"Steel bottle\" /&gt;\n" + 
    "&lt;item value=\"Straw\" replaceWith=\"Ban Straws\" /&gt;\n" + 
    "&lt;item value=\"spoon\" replaceWith=\"Steel Spoon\" /&gt;\n" + 
  "&lt;/singleuse&gt;\n" + 
"&lt;/plastic&gt;"; </pre>
<p>Again, the escape sequences added to the preceding code (<kbd>\</kbd> to escape <kbd>"</kbd> and <kbd>\n</kbd> to add newline) make it very difficult to read and understand the code. The following example shows how you can drop the programming-specific details from the data by using raw string literals:</p>
<pre>String dataUsingRawStrings =  
``` 
&lt;plastic id="98751"&gt; 
  &lt;singleuse&gt; 
    &lt;item value="Water Bottle" replaceWith="Steel bottle" /&gt; 
    &lt;item value="Straw" replaceWith="Ban Straws" /&gt; 
    &lt;item value="spoon" replaceWith="Steel Spoon" /&gt; 
  &lt;/singleuse&gt; 
&lt;/plastic&gt; 
```;</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">File paths</h1>
                </header>
            
            <article>
                
<p>The file paths on Windows OS use a backslash to separate the directories and their subdirectories. For instance, <kbd>C:\Mala\eJavaGuru</kbd> refers to the <kbd>eJavaGuru</kbd><span> subdirectory </span>in the <kbd>Mala</kbd> <span>directory </span>in the <kbd>C:</kbd> drive. Here's how you can store this path by using a traditional string literal:</p>
<pre>String filePath = "C:\\Mala\\eJavaGuru\\ocp11.txt";</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p>With raw string literals, you can store the same file path as follows (changes are highlighted in bold):</p>
<pre>String <strong>rawFilePath</strong> = `C:\Mala\eJavaGuru\ocp11.txt`; </pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Database queries</h1>
                </header>
            
            <article>
                
<p>Suppose that you have to create an SQL query that includes the column names, table names, and literal values. The following code shows how you would typically write it, using traditional strings:</p>
<pre>String query = "SELECT talk_title, speaker_name " + 
               "FROM   talks, speakers " + 
               "WHERE  talks.speaker_id = speakers.speaker_id " + 
               "AND    talks.duration &gt; 50 "; </pre>
<p>You can also write the code as follows, using quotes around the column or table names, depending on the target database management system:</p>
<pre>String query = "SELECT 'talk_title', 'speaker_name' " +
               "FROM   'talks', 'speakers' " + 
               "WHERE  'talks.speaker_id' = 'speakers.speaker_id' " + 
               "AND    'talks.duration' &gt; 50 "; </pre>
<p>The raw string literal values are much more readable, as shown in the following code:</p>
<pre>String query =  
```SELECT 'talk_title', 'speaker_name'  
   FROM   'talks', 'speakers'  
   WHERE  'talks.speaker_id' = 'speakers.speaker_id' 
   AND    'talks.duration' &gt; 50  
```;</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we covered the challenges that developers face when storing various types of multiline text values as string values. Raw string literals address these concerns. They also significantly improve the writability and readability of multiline string values by disabling the lexical analysis of escape characters and escape sequences. Raw string literals will introduce multiple methods to the <kbd>String</kbd> class, such as <kbd>unescape()</kbd>, <kbd>escape()</kbd>, <kbd>align()</kbd>, <kbd>indent()</kbd>, and <kbd>transform()</kbd>. Together, these methods enable developers to specifically process the raw string literals.</p>
<p>In the next chapter, we'll cover how the lambda leftovers <span>project </span>is improving the functional programming syntax and experience in Java.</p>


            </article>

            
        </section>
    </body></html>