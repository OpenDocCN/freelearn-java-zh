<html><head></head><body>
		<div id="_idContainer142">
			<h1 class="chapter-number" id="_idParaDest-305"><a id="_idTextAnchor315"/>17</h1>
			<h1 id="_idParaDest-306"><a id="_idTextAnchor316"/>Deploying Spring Boot and the Angular App</h1>
			<p>In the previous chapter, we learned what <strong class="source-inline">frontend-maven-plugin</strong> does and what we use it for. Then, we learned what configuration to write to run the Angular application within the Spring Boot application. After that, we learned how to package the two applications as one file. Lastly, we learned how to run the Spring Boot application <span class="No-Break">with Angular.</span></p>
			<p>This chapter will teach you the basics of GitHub Actions, the basics of Heroku, and how to deploy the app <span class="No-Break">using Heroku.</span></p>
			<p>In this chapter, we will cover the <span class="No-Break">following topics:</span></p>
			<ul>
				<li>Understanding <span class="No-Break">GitHub Actions</span></li>
				<li>Components of <span class="No-Break">GitHub Actions</span></li>
				<li>Setting <span class="No-Break">up Heroku</span></li>
				<li>Creating a CI workflow <span class="No-Break">or pipeline</span></li>
			</ul>
			<h1 id="_idParaDest-307"><a id="_idTextAnchor317"/>Technical requirements</h1>
			<p>The following link will take you to the finished version of this <span class="No-Break">chapter: </span><a href="https://github.com/PacktPublishing/Spring-Boot-and-Angular/tree/main/Chapter-17/superheroes"><span class="No-Break">https://github.com/PacktPublishing/Spring-Boot-and-Angular/tree/main/Chapter-17/superheroes</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-308"><a id="_idTextAnchor318"/>Understanding GitHub Actions</h1>
			<p>Let’s start by defining <strong class="bold">GitHub Actions</strong>. This platform provides workflow automation for developers and <a id="_idIndexMarker1214"/>operations for <strong class="bold">continuous integration and continuous delivery</strong> (<strong class="bold">CI/CD</strong>). It can run a series of actions using scripts whenever <a id="_idIndexMarker1215"/>someone creates a pull request, creates an issue, joins as a contributor, merges a pull request, and so on. In short, there <a id="_idIndexMarker1216"/>are several events in your GitHub workflow that you can use to run a set of specific actions <span class="No-Break">or scripts.</span></p>
			<p>Now, let’s review some of the components of <span class="No-Break">GitHub Actions.</span></p>
			<h1 id="_idParaDest-309"><a id="_idTextAnchor319"/>Components of GitHub Actions</h1>
			<p>Now that we’ve learned <a id="_idIndexMarker1217"/>what GitHub Actions is, let’s see the components of GitHub Actions that help us do DevOps and run workflows when events <span class="No-Break">get triggered.</span></p>
			<p>Here are the components of <span class="No-Break">GitHub Actions:</span></p>
			<ul>
				<li><strong class="bold">Workflows</strong>: This is a <a id="_idIndexMarker1218"/>configurable YAML file in a repository’s directory, such as <strong class="source-inline">.github/workflows</strong>, that runs jobs manually, automatically triggers an event, or does so by setting <span class="No-Break">a schedule.</span></li>
				<li><strong class="bold">Events</strong>: Events are activities <a id="_idIndexMarker1219"/>in a repository that cause your workflow to start running. Common events you might see in a workflow file are <strong class="source-inline">pull_request</strong>, <strong class="source-inline">push</strong>, and <strong class="source-inline">schedule</strong>. However, other events can be useful, depending on <span class="No-Break">your needs.</span></li>
				<li><strong class="bold">Jobs</strong>: A job is a set or <a id="_idIndexMarker1220"/>group of steps (script or action) in a workflow. A particular job executes in the same runner throughout <span class="No-Break">the steps.</span></li>
				<li><strong class="bold">Actions</strong>: An action <a id="_idIndexMarker1221"/>performs the task at hand or anything you need, such as checking out your repository, building your application, testing your application, scanning your code for any vulnerabilities, or deploying <span class="No-Break">your application.</span></li>
				<li><strong class="bold">Runners</strong>: Runners are just <a id="_idIndexMarker1222"/>servers. You can choose Ubuntu Linux, Microsoft Windows, or macOS runners in GitHub Actions. However, you are not limited to these three operating systems. You can also have <span class="No-Break">self-hosted runners.</span></li>
			</ul>
			<p>These are the components of GitHub Actions that we will use later in the <em class="italic">Creating a CI workflow or pipeline</em> section. But <a id="_idIndexMarker1223"/>before that, we will set up Heroku, where we will deploy our <span class="No-Break">full-stack application.</span></p>
			<h1 id="_idParaDest-310"><a id="_idTextAnchor320"/>Setting up Heroku</h1>
			<p>In this section, we will use Heroku. It is a <strong class="bold">Platform-as-a-Service</strong> (<strong class="bold">PaaS</strong>) offering that lets us build and <a id="_idIndexMarker1224"/>run applications in the cloud. Let’s learn how <a id="_idIndexMarker1225"/>to set up Heroku and <span class="No-Break">our applications.</span></p>
			<h2 id="_idParaDest-311"><a id="_idTextAnchor321"/>Creating GitHub and Heroku accounts</h2>
			<p>In this section, we will <a id="_idIndexMarker1226"/>create an account for GitHub and <a id="_idIndexMarker1227"/><span class="No-Break">then Heroku.</span></p>
			<p>First, we must <a id="_idIndexMarker1228"/>create a GitHub account by going to <a href="https://github.com/">https://github.com/</a>. We will use this as the repository for <span class="No-Break">our project.</span></p>
			<p>Then, we must <a id="_idIndexMarker1229"/>create a Heroku account by going to <a href="https://www.heroku.com/">https://www.heroku.com/</a>. This is where we will deploy our application and create an instance of <span class="No-Break">our database.</span></p>
			<h2 id="_idParaDest-312"><a id="_idTextAnchor322"/>Creating a new app in Heroku</h2>
			<p>After signing <a id="_idIndexMarker1230"/>in to Heroku, click the <strong class="bold">New</strong> button at the top-right corner <a id="_idIndexMarker1231"/>of the page and click the <strong class="bold">Create new app</strong> button to create an app without <span class="No-Break">a pipeline:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer124">
					<img alt="Figure 17.1 – Create new app" src="image/B18159_17_01.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.1 – Create new app</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.1</em> is where <a id="_idIndexMarker1232"/>you create a new app for the full-stack application. Name <a id="_idIndexMarker1233"/>the app anything you wish and choose a region, but don’t add <span class="No-Break">a pipeline.</span></p>
			<p>Next, we will add a database for our <span class="No-Break">full-stack application.</span></p>
			<h2 id="_idParaDest-313"><a id="_idTextAnchor323"/>Adding a Postgres database</h2>
			<p>Now, let’s <a id="_idIndexMarker1234"/>add a <span class="No-Break">Postgres database:</span></p>
			<ol>
				<li>Go to <a id="_idIndexMarker1235"/>the <strong class="bold">Resources</strong> tab and click the <strong class="bold">Find more </strong><span class="No-Break"><strong class="bold">add-ons</strong></span><span class="No-Break"> button:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer125">
					<img alt="Figure 17.2 – Find more add-ons" src="image/B18159_17_02.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.2 – Find more add-ons</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.2</em> shows where you can find the <strong class="bold">Find more add-ons</strong> button. This is where you can <a id="_idIndexMarker1236"/>find Heroku add-ons and various tools and <a id="_idIndexMarker1237"/>services for developing, extending, and operating your application. An example of this can be seen in <span class="No-Break"><em class="italic">Figure 17</em></span><span class="No-Break"><em class="italic">.3</em></span><span class="No-Break">:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer126">
					<img alt="Figure 17.3 – Heroku Postgres" src="image/B18159_17_03.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.3 – Heroku Postgres</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.3</em> shows the Heroku Postgres add-on, which is a <strong class="bold">Database-as-a-Service</strong> (<strong class="bold">DaaS</strong>) offering based on PostgreSQL. Click it, install it, and then choose the free <a id="_idIndexMarker1238"/>plan and provision the Heroku Postgres add-on to the full-stack application you created earlier. Then, click the <strong class="bold">Submit Order </strong><span class="No-Break"><strong class="bold">Form</strong></span><span class="No-Break"> button.</span></p>
			<ol>
				<li value="2">Go back to the <strong class="bold">Resources</strong> tab of your app. You should see the Heroku Postgres add-on. Click the Heroku part of <strong class="bold">Heroku Postgres</strong>; a new tab <span class="No-Break">will open.</span></li>
			</ol>
			<p>We have <a id="_idIndexMarker1239"/>almost finished adding a database. We just need <a id="_idIndexMarker1240"/>to add a Dataclip, which will let us create SQL queries for <span class="No-Break">our database.</span></p>
			<ol>
				<li value="3">Go ahead and click the <strong class="bold">Create Dataclip</strong> button. Then, add the following <span class="No-Break">SQL queries:</span><pre class="console">
set transaction read write;</pre><pre class="console">
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";</pre><pre class="console">
CREATE TABLE user_entity</pre><pre class="console">
(</pre><pre class="console">
    id  uuid PRIMARY KEY DEFAULT uuid_generate_v4(),</pre><pre class="console">
    username VARCHAR(50) UNIQUE  NOT NULL,</pre><pre class="console">
    password VARCHAR(50)         NOT NULL,</pre><pre class="console">
    email    VARCHAR(255) UNIQUE NOT NULL</pre><pre class="console">
);</pre><pre class="console">
CREATE TABLE anti_hero_entity</pre><pre class="console">
(</pre><pre class="console">
    id  uuid PRIMARY KEY DEFAULT uuid_generate_v4(),</pre><pre class="console">
    firstName VARCHAR(50) UNIQUE NOT NULL,</pre><pre class="console">
    lastName  VARCHAR(50) UNIQUE NOT NULL,</pre><pre class="console">
    house     VARCHAR(50) NULL,</pre><pre class="console">
    knownAs   VARCHAR(50) NULL,</pre><pre class="console">
    createdAt TIMESTAMP NULL</pre><pre class="console">
);</pre></li>
				<li>Once you’ve added these SQL queries to the editor, click <strong class="bold">Save &amp; </strong><span class="No-Break"><strong class="bold">Run</strong></span><span class="No-Break">.</span></li>
			</ol>
			<p>With that, the <a id="_idIndexMarker1241"/>database has been created. Now, let’s create a <strong class="source-inline">system.properties</strong> file <a id="_idIndexMarker1242"/>where we can declare the Java runtime version and <span class="No-Break">Maven version.</span></p>
			<h2 id="_idParaDest-314"><a id="_idTextAnchor324"/>Adding system properties</h2>
			<p>In this section, we will <a id="_idIndexMarker1243"/>create a file that will specify a Java <a id="_idIndexMarker1244"/>version and a Maven version <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">system.properties</strong></span><span class="No-Break">.</span></p>
			<p>Go to the root directory of the Spring Boot application and create a file called <strong class="source-inline">system.properties</strong>. Then, add the <span class="No-Break">following configurations:</span></p>
			<pre class="source-code">
java.runtime.version=17.0.1
maven.version=3.6.2</pre>
			<p>The preceding two configurations will be used in the deployment part of the full-stack application <span class="No-Break">in Heroku.</span></p>
			<p>In the next section, we will get the domain URL of our app and add it to the <span class="No-Break">config variables.</span></p>
			<h2 id="_idParaDest-315"><a id="_idTextAnchor325"/>Adding config variables</h2>
			<p>In this section, we are <a id="_idIndexMarker1245"/>going to add config variables in Heroku. In <a id="_idIndexMarker1246"/>our repository, we will add <strong class="source-inline">CLIENT_URL</strong> to Heroku’s <strong class="source-inline">config vars</strong> section and the <strong class="source-inline">environment.prod.ts</strong> file for the frontend application. Follow <span class="No-Break">these steps:</span></p>
			<ol>
				<li value="1">The first step is to get the application’s domain name, which can be found by going to the <span class="No-Break"><strong class="bold">Settings</strong></span><span class="No-Break"> tab:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer127">
					<img alt="Figure 17.4 – Application URL" src="image/B18159_17_04.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.4 – Application URL</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.4</em> shows the application URL where the application <span class="No-Break">will render.</span></p>
			<ol>
				<li value="2">Copy the URL <a id="_idIndexMarker1247"/>of your full-stack application and go to <a id="_idIndexMarker1248"/>the <strong class="bold">Config Vars</strong> area of the <strong class="bold">Settings</strong> tab. Click on the <strong class="bold">Reveal Config </strong><span class="No-Break"><strong class="bold">Vars</strong></span><span class="No-Break"> button:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer128">
					<img alt="Figure 17.5 – Reveal Config Vars" src="image/B18159_17_05.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.5 – Reveal Config Vars</p>
			<ol>
				<li value="3">Add <strong class="source-inline">CLIENT_URL</strong> as a <strong class="bold">Key</strong> and add the URL of the application as <span class="No-Break">a </span><span class="No-Break"><strong class="bold">Value</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer129">
					<img alt="Figure 17.6 – Edit config variable" src="image/B18159_17_06.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.6 – Edit config variable</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.6</em> shows the form after adding environment variables or <span class="No-Break">configuration variables.</span></p>
			<p>Don’t forget to add a value to your JWT secret. However, note that your development and production environments <span class="No-Break">should differ.</span></p>
			<ol>
				<li value="4">Now, open the <strong class="source-inline">environment.prod.ts</strong> file and add the <span class="No-Break">following code:</span><pre class="console">
export const environment = {</pre><pre class="console">
  production: true,</pre><pre class="console">
// your Spring API URL</pre><pre class="console">
  apiURL: "https://full stack</pre><pre class="console">
           javaangulartestapp.herokuapp.com/api/v1",</pre><pre class="console">
// your heroku URL</pre><pre class="console">
  authURL: "https://full stack</pre><pre class="console">
            javaangulartestapp.herokuapp.com"</pre><pre class="console">
};</pre></li>
			</ol>
			<p>The preceding <a id="_idIndexMarker1249"/>code will replace the previous <strong class="source-inline">localhost:8080</strong> address <a id="_idIndexMarker1250"/>of <strong class="source-inline">apiURL</strong> and <strong class="source-inline">authURL</strong> in the Angular application <span class="No-Break">in production.</span></p>
			<p>Next, we need to publish the full-stack application repository to GitHub since we will deploy the application through GitHub <span class="No-Break">source control.</span></p>
			<h2 id="_idParaDest-316"><a id="_idTextAnchor326"/>Manual deployment in Heroku</h2>
			<p>In this section, we <a id="_idIndexMarker1251"/>are going to check if the application will run without any problems after we deploy it. Follow <span class="No-Break">these steps:</span></p>
			<ol>
				<li value="1">To do that, go to the <strong class="bold">Deploy</strong> tab of your application in the <span class="No-Break">Heroku dashboard:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer130">
					<img alt="Figure 17.7 – Deploying the application" src="image/B18159_17_07.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.7 – Deploying the application</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.7</em> shows where to deploy an application via the Heroku dashboard manually. Use GitHub as the deployment method, then search <span class="No-Break">your repository.</span></p>
			<ol>
				<li value="2">After choosing <a id="_idIndexMarker1252"/>the repository of your full-stack application, go to the bottom of the page, where you will find the <strong class="bold">Manual deploy</strong> section. Then, press the <strong class="bold">Deploy Branch</strong> button to start deploying and running the application <span class="No-Break">in Heroku:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer131">
					<img alt="Figure 17.8 – Manual deploy" src="image/B18159_17_08.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.8 – Manual deploy</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.8</em> shows the <strong class="bold">Manual deploy</strong> section <span class="No-Break">of Heroku.</span></p>
			<ol>
				<li value="3">To check if everything is working, wait for the deployment to finish and then go to the URL of <span class="No-Break">the application.</span></li>
				<li>Register a new user and try to sign in. Make sure you open the <strong class="bold">Network</strong> tab of your browser; you <a id="_idIndexMarker1253"/>will see that the requests are being sent via the application’s URL. Note that the responses from the server have a <strong class="bold">Status Code</strong> of <strong class="bold">200</strong> <span class="No-Break">or </span><span class="No-Break"><strong class="bold">201</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer132">
					<img alt="Figure 17.9 – The Network tab of Google Chrome" src="image/B18159_17_09.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.9 – The Network tab of Google Chrome</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.9</em> shows <a id="_idIndexMarker1254"/>Google Chrome’s <strong class="bold">Network</strong> tab in developer tools. Here, you can see that the <strong class="bold">register</strong> request returns <strong class="bold">Status Code 201</strong>. The Angular, Spring Boot, and Heroku Postgres database <span class="No-Break">works perfectly.</span></p>
			<p>Now that we’ve finished manually deploying our full-stack application, let’s create an automated deployment using workflow in <span class="No-Break">GitHub Actions.</span></p>
			<h1 id="_idParaDest-317"><a id="_idTextAnchor327"/>Creating a CI workflow or pipeline</h1>
			<p>In this <a id="_idIndexMarker1255"/>section, we will automate the deployment of our full-stack application by using a <a id="_idIndexMarker1256"/>workflow in GitHub Actions. Follow <span class="No-Break">these </span><span class="No-Break"><a id="_idIndexMarker1257"/></span><span class="No-Break">steps:</span></p>
			<ol>
				<li value="1">Go to the GitHub repository of your project, then click on the <strong class="bold">Actions</strong> tab. Search for <strong class="source-inline">Publish Java Package</strong> and pick the <span class="No-Break">Maven workflow:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer133">
					<img alt="Figure 17.10 – Selecting a workflow" src="image/B18159_17_10.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.10 – Selecting a workflow</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.10</em> shows the basic and ready-made Maven workflow for building <span class="No-Break">Maven projects.</span></p>
			<ol>
				<li value="2">Change the content of the YAML file in the editor by replacing it with the following <span class="No-Break">YAML configuration:</span><pre class="console">
name: CICD</pre><pre class="console">
on:</pre><pre class="console">
  push:</pre><pre class="console">
    branches:</pre><pre class="console">
      - master</pre><pre class="console">
jobs:</pre><pre class="console">
  test:</pre><pre class="console">
    name: Build and Test</pre><pre class="console">
    runs-on: ubuntu-latest</pre><pre class="console">
    steps:</pre><pre class="console">
      - uses: actions/checkout@v2</pre><pre class="console">
      - name: Set up JDK 17</pre><pre class="console">
        uses: actions/setup-java@v2</pre><pre class="console">
        with:</pre><pre class="console">
          java-version: '17.0.*'</pre><pre class="console">
          distribution: 'temurin'</pre><pre class="console">
          cache: maven</pre><pre class="console">
      - name: test with Maven</pre><pre class="console">
        run: mvn test</pre><pre class="console">
  deploy:</pre><pre class="console">
    name: Deploy to Heroku</pre><pre class="console">
    runs-on: ubuntu-latest</pre><pre class="console">
    needs: test</pre><pre class="console">
    steps:</pre><pre class="console">
      - uses: actions/checkout@v2</pre><pre class="console">
        # This is the action</pre><pre class="console">
      - uses: akhileshns/heroku-deploy@v3.12.12</pre><pre class="console">
        with:</pre><pre class="console">
          heroku_api_key: ${{secrets.HEROKU_API_KEY}}</pre><pre class="console">
          heroku_app_name: "appname" #Must be unique</pre><pre class="console">
                                     #in Heroku</pre><pre class="console">
          heroku_email: "email"</pre></li>
			</ol>
			<p>The preceding code is the workflow for our full-stack application’s CI/CD. It’s called <strong class="source-inline">CICD</strong> because that’s what this workflow <span class="No-Break">is for.</span></p>
			<p>The workflow has one event, <strong class="source-inline">push</strong>, which will cause the workflow to run if there’s a push in the <span class="No-Break">master branch.</span></p>
			<p>The workflow <a id="_idIndexMarker1258"/>also has two jobs: <strong class="source-inline">test</strong> and <strong class="source-inline">deploy</strong>. The <strong class="source-inline">test</strong> job’s <a id="_idIndexMarker1259"/>steps are to check out the code, build the application using Java 17, and <a id="_idIndexMarker1260"/>run the test. On the other hand, the <strong class="source-inline">deploy</strong> job’s steps are to check out the code and use the Heroku deploy action, which requires a Heroku API key, the application’s name, and the Heroku <span class="No-Break">account’s email.</span></p>
			<ol>
				<li value="3">For the Heroku API key, you need to go to the <strong class="bold">Account settings</strong> menu of your profile on your <span class="No-Break">Heroku dashboard:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer134">
					<img alt="Figure 17.11 – Account settings" src="image/B18159_17_11.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.11 – Account settings</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.11</em> shows the <strong class="bold">Account settings</strong> menu under my profile on the <span class="No-Break">Heroku dashboard.</span></p>
			<ol>
				<li value="4">Click <strong class="bold">Account settings</strong>, then go to <strong class="bold">API Key</strong> and generate an <span class="No-Break">API key:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer135">
					<img alt="Figure 17.12 – API Key" src="image/B18159_17_12.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.12 – API Key</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.12</em> shows where you can generate a Heroku <span class="No-Break">API key.</span></p>
			<p>Copy the <a id="_idIndexMarker1261"/>Heroku API key since you will need to create a new <a id="_idIndexMarker1262"/>Actions secret for <span class="No-Break">GitHub Actions.</span></p>
			<ol>
				<li value="5">To do so, go <a id="_idIndexMarker1263"/>to the GitHub repository of your application and open a new browser tab for the <strong class="bold">Settings</strong> tab so that you don’t lose your <span class="No-Break">workflow configuration.</span></li>
				<li>Then, add the API key in the text area and name it <strong class="source-inline">HEROKU_API_KEY</strong>. This is the key you will be using in the <strong class="source-inline">deploy</strong> job of <span class="No-Break">your workflow:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer136">
					<img alt="Figure 17.13 – The Actions secrets form" src="image/B18159_17_13.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.13 – The Actions secrets form</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.13</em> shows <a id="_idIndexMarker1264"/>where you can add a new Actions secret to <a id="_idIndexMarker1265"/>keep your sensitive values from being copied or read <span class="No-Break">by </span><span class="No-Break"><a id="_idIndexMarker1266"/></span><span class="No-Break">anyone.</span></p>
			<ol>
				<li value="7">Once you’ve added a new secret, go back to your browser tab, where you start editing your workflow. Then, commit the file that you <span class="No-Break">are editing:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer137">
					<img alt="Figure 17.14 – Committing a workflow" src="image/B18159_17_14.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.14 – Committing a workflow</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.14</em> shows <a id="_idIndexMarker1267"/>the <strong class="bold">Start commit</strong> dropdown, where <a id="_idIndexMarker1268"/>you can commit the new workflow. The new YAML file will be <a id="_idIndexMarker1269"/>added to your repository, which means you can <strong class="source-inline">git pull</strong> it later so that it will be on your <span class="No-Break">local machine.</span></p>
			<ol>
				<li value="8"><strong class="source-inline">CICD</strong> will kick in after you commit to your workflow. You can look at the progress of your CI/CD workflow by going to the <span class="No-Break"><strong class="bold">Actions</strong></span><span class="No-Break"> tab:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer138">
					<img alt="Figure 17.15 – Workflow status" src="image/B18159_17_15.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.15 – Workflow status</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.15</em> shows the current status of the CI/CD workflow. You can see that it is running the <strong class="bold">Build and </strong><span class="No-Break"><strong class="bold">Test</strong></span><span class="No-Break"> job.</span></p>
			<ol>
				<li value="9">You can <a id="_idIndexMarker1270"/>also see what’s happening in a particular job by clicking <a id="_idIndexMarker1271"/>the name of <a id="_idIndexMarker1272"/>the job via the left <span class="No-Break">sidebar menu:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer139">
					<img alt="Figure 17.16 – Steps and Actions status" src="image/B18159_17_16.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.16 – Steps and Actions status</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.16</em> shows the output logs from each step in the <strong class="bold">Build and Test</strong> job. You can also use this part of GitHub Actions to debug errors that lead to the jobs and <span class="No-Break">actions failing.</span></p>
			<ol>
				<li value="10">After <a id="_idIndexMarker1273"/>running all the jobs in the CI/CD workflow you have created, you <a id="_idIndexMarker1274"/>will see that the workflow has a green check icon next to it, meaning <a id="_idIndexMarker1275"/>that the workflow has passed and everything <span class="No-Break">is working:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer140">
					<img alt="Figure 17.17 – Steps and Actions status" src="image/B18159_17_17.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.17 – Steps and Actions status</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.17</em> shows a passing GitHub workflow on the <strong class="bold">Actions</strong> tab of <span class="No-Break">your repository.</span></p>
			<ol>
				<li value="11">Lastly, to check if the deployment automation has deployed our application in the Heroku cloud, we have to go back to the overview dashboard of Heroku and look for <a id="_idIndexMarker1276"/>the <span class="No-Break">latest activity:</span></li>
			</ol>
			<div>
				<div class="IMG---Figure" id="_idContainer141">
					<img alt="Figure 17.18 – Build succeeded in the Latest activity area of an account in Heroku" src="image/B18159_17_18.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 17.18 – Build succeeded in the Latest activity area of an account in Heroku</p>
			<p><span class="No-Break"><em class="italic">Figure 17</em></span><em class="italic">.18</em> shows <a id="_idIndexMarker1277"/>that the build triggered by GitHub Actions <a id="_idIndexMarker1278"/>succeeded. You can see that the application is <span class="No-Break">running correctly.</span></p>
			<p>With that, we have managed to automate our CI/CD workflow using GitHub Actions. Now, let’s summarize what we have learned in <span class="No-Break">this chapter.</span></p>
			<h1 id="_idParaDest-318"><a id="_idTextAnchor328"/>Summary</h1>
			<p>With that, we have reached the last chapter of this book; let’s recap the valuable things you have learned in <span class="No-Break">this chapter.</span></p>
			<p>First, you learned that GitHub Actions makes it easy to automate all your software workflows and perform CI/CD. You can build, test, and deploy your code right from GitHub. You also learned that Heroku is a PaaS that lets you build, run, and operate applications entirely in the cloud. Heroku Postgres is a managed SQL database service provided directly by Heroku that you can use for <span class="No-Break">your applications.</span></p>
			<p>So, you’ve made it this far. Thank you for finishing the book; I am proud of you and your enthusiasm for learning new tools and things. You can apply what you have learned here to a project, given that the requirements of your project match the problems and solutions you have learned about in <span class="No-Break">this book.</span></p>
			<p>This course has taught you how to build a Spring Boot 2 application and an Angular 13 application as a senior developer, bringing value to your companies, customers, <span class="No-Break">and clients.</span></p>
			<p>As a next step, my recommendation is that you get a new Packt book about standalone Spring Boot 2 or Spring Boot 3, or an Angular book to solidify what you have learned from <span class="No-Break">this book.</span></p>
			<p>On behalf of the Packt team and editors, we wish you all the best in all stages of your career <span class="No-Break">and life.</span></p>
		</div>
	</body></html>