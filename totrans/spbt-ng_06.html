<html><head></head><body>
		<div id="_idContainer058">
			<h1 class="chapter-number" id="_idParaDest-104"><a id="_idTextAnchor112"/>6</h1>
			<h1 id="_idParaDest-105"><a id="_idTextAnchor113"/>Documenting APIs with the OpenAPI Specification</h1>
			<p>In the previous chapter, we learned how to develop our Spring Boot application. First, we configured our application to run on the server using IntelliJ. Then, we developed the different parts of the REST application, such as the models and entities, which serve as the objects; the services, which hold the business logic and call the JPA repository to perform CRUD operations in the database; and the controllers, which define the endpoints. We also learned how to apply Redis, which adds a caching mechanism to improve the performance of our <span class="No-Break">REST APIs.</span></p>
			<p>This chapter will focus on creating the documentation for our Spring Boot project. We will focus on configuring <strong class="source-inline">springdoc-openapi</strong> and Swagger UI and generating documentation on the fly for the endpoints that we <span class="No-Break">have developed.</span></p>
			<p>In this chapter, we will cover the <span class="No-Break">following topics:</span></p>
			<ul>
				<li>Setting <span class="No-Break">up </span><span class="No-Break"><strong class="source-inline">springdoc-openapi</strong></span></li>
				<li>Setting up <span class="No-Break">Swagger UI</span></li>
			</ul>
			<h1 id="_idParaDest-106"><a id="_idTextAnchor114"/>Technical requirements</h1>
			<p>The following link will take you to the finished version of this <span class="No-Break">chapter: </span><a href="https://github.com/PacktPublishing/Spring-Boot-and-Angular/tree/main/Chapter-06/superheroes"><span class="No-Break">https://github.com/PacktPublishing/Spring-Boot-and-Angular/tree/main/Chapter-06/superheroes</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-107"><a id="_idTextAnchor115"/>Setting up springdoc-openapi</h1>
			<p>In this section, we <a id="_idIndexMarker411"/>will configure <strong class="source-inline">springdoc-openapi</strong> in our Spring Boot application. Since we developed our REST APIs in the previous chapter, the next thing we need to do is create documentation for our endpoints. This is an essential part, especially in the development industry, as this will tell the developers what endpoints can be implemented, what the required requests and their formats are, and what response body to expect when calling the endpoint. This also reduces errors and conflicts regarding the API integration as the available endpoints are transparent. However, the major drawback of creating documentation manually is that it is tedious and error-prone. This is where <strong class="source-inline">springdoc-openapi</strong> comes into <span class="No-Break">the picture.</span></p>
			<p>First, let’s discuss what <strong class="source-inline">springdoc-openapi</strong> is. <strong class="source-inline">springdoc-openapi</strong> is a library that automates the generation of API documentation in Spring Boot projects. This automation is possible as the library uses annotations, class structures, and Spring configurations to identify the <span class="No-Break">available APIs.</span></p>
			<p><strong class="source-inline">springdoc-openapi</strong> can<a id="_idIndexMarker412"/> generate the necessary documentation in JSON/YAML and HTML APIs that can be viewed with a newly generated URL on our application. It also supports several frameworks and protocols, including <span class="No-Break">the following:</span></p>
			<ul>
				<li><span class="No-Break"><strong class="source-inline">spring-boot</strong></span></li>
				<li>JSR-303, specifically for <strong class="source-inline">@NotNull</strong>, <strong class="source-inline">@Min</strong>, <strong class="source-inline">@Max</strong>, <span class="No-Break">and </span><span class="No-Break"><strong class="source-inline">@Size</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">swagger-ui</strong></span></li>
				<li><span class="No-Break">OAuth 2</span></li>
			</ul>
			<p>Now, let’s discuss the properties and plugins <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">springdoc-openapi</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-108"><a id="_idTextAnchor116"/>The properties of springdoc-openapi</h2>
			<p>We can modify the <a id="_idIndexMarker413"/>behavior and settings of <strong class="source-inline">.springdoc-openapi</strong> based on our preference. It has different properties, as we can set their values under the <span class="No-Break"><strong class="source-inline">application.properties</strong></span><span class="No-Break"> file.</span></p>
			<p>Here are some of the commonly used properties <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">springdoc-openapi</strong></span><span class="No-Break">:</span></p>
			<ul>
				<li><strong class="source-inline">springdoc.swagger-ui.path</strong>: The default value is <strong class="source-inline">/swagger-ui.html</strong>. It defines the path to access the <span class="No-Break">HTML documentation.</span></li>
				<li><strong class="source-inline">springdoc.swagger-UI.enabled</strong>: The default value is <strong class="source-inline">true</strong>. It enables or disables the <span class="No-Break"><strong class="source-inline">swagger-UI</strong></span><span class="No-Break"> endpoint.</span></li>
				<li><strong class="source-inline">springdoc.swagger-ui.configUrl</strong>: The default value is <strong class="source-inline">/v3/api-docs/swagger-config</strong>. It is a URL that retrieves an external <span class="No-Break">configuration document.</span></li>
				<li><strong class="source-inline">springdoc.swagger-ui.layout</strong>: The default value is <strong class="source-inline">BaseLayout</strong>. It’s the top-level layout used by Swagger UI to display <span class="No-Break">the documentation.</span></li>
				<li><strong class="source-inline">springdoc.swagger-ui.tryItOutEnabled</strong>: The default value is <strong class="source-inline">false</strong>. It enables or disables the <strong class="bold">Try it out</strong> section, where the user can test <span class="No-Break">the endpoints.</span></li>
				<li><strong class="source-inline">springdoc.swagger-ui.filter</strong>: The default value is <strong class="source-inline">false</strong>. It enables or disables filtering and adds a textbox to place the filter criteria. It can be a Boolean or a string; this will act as the <span class="No-Break">filter expression.</span></li>
				<li><strong class="source-inline">springdoc.swagger-ui.operationsSorter</strong>: This applies a sort to the operations list of the API. The value can be <strong class="source-inline">'alpha'</strong> (sort by paths alphanumerically), <strong class="source-inline">'method'</strong> (sort by HTTP method), or a function that will identify the <span class="No-Break">sorting criteria.</span></li>
				<li><strong class="source-inline">springdoc.swagger-ui.tagsSorter</strong>: This applies a sort to the operations list of the API. The value can be <strong class="source-inline">'alpha'</strong> (sort by paths alphanumerically) or a<a id="_idIndexMarker414"/> function that will identify the <span class="No-Break">sorting criteria.</span></li>
			</ul>
			<h2 id="_idParaDest-109"><a id="_idTextAnchor117"/>The plugins of springdoc-openapi</h2>
			<p><strong class="source-inline">springdoc-openapi</strong> also has <a id="_idIndexMarker415"/>plugins that we can use to generate the documentation. Let’s take <span class="No-Break">a look.</span></p>
			<h3>springdoc-openapi-maven-plugin</h3>
			<p><strong class="source-inline">springdoc-openapi-maven-plugin</strong> generates<a id="_idIndexMarker416"/> a JSON and YAML OpenAPI description during build time. The plugin also works in the integration phase. To enable the plugin, we need to add the following declaration to the <strong class="source-inline">&lt;plugin&gt;</strong> section of the <span class="No-Break"><strong class="source-inline">pom.xml</strong></span><span class="No-Break"> file:</span></p>
			<pre class="source-code">
&lt;plugin&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${spring-boot-maven-plugin.version}&lt;/version&gt;
    &lt;configuration&gt;
       &lt;jvmArguments&gt;
         -Dspring.application.admin.enabled=true

       &lt;/jvmArguments&gt;
    &lt;/configuration&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;start&lt;/goal&gt;
                &lt;goal&gt;stop&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</pre>
			<p>We just added the <strong class="source-inline">spring-boot-maven-plugin</strong> plugin. Copy the preceding code and paste it into your <strong class="source-inline">.</strong><span class="No-Break"><strong class="source-inline">pom</strong></span><span class="No-Break"> file.</span></p>
			<p>Now, let’s <a id="_idIndexMarker417"/>add version 1.4 of <strong class="source-inline">springdoc-openapi-maven-plugin</strong> just below the <strong class="source-inline">spring-boot-maven-plugin</strong> plugin <span class="No-Break">code block:</span></p>
			<pre class="source-code">
&lt;plugin&gt;
    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.4&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;integration-test&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;generate&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</pre>
			<p>We can also customize <a id="_idIndexMarker418"/>the behavior of <strong class="source-inline">openapi-maven-plugin</strong> by specifying the <span class="No-Break">following properties:</span></p>
			<ul>
				<li><strong class="source-inline">attachArtifact</strong>: The default value is <strong class="source-inline">false</strong>. It deploys the API documentation to <span class="No-Break">the repository.</span></li>
				<li><strong class="source-inline">apiDocsUrl</strong>: The default value is <strong class="source-inline">http://localhost:8080/v3/api-docs</strong>. This is the local URL to the generated JSON or <span class="No-Break">YAML description.</span></li>
				<li><strong class="source-inline">outputDir</strong>: The default value is <strong class="source-inline">project.build.directory</strong>. This is where the OpenAPI description <span class="No-Break">is generated.</span></li>
				<li><strong class="source-inline">outputFileName</strong>: The default value is <strong class="source-inline">openapi.json</strong>. This specifies the filename when the OpenAPI description <span class="No-Break">is generated.</span></li>
				<li><strong class="source-inline">skip</strong>: This skips execution if it is set <span class="No-Break">to </span><span class="No-Break"><strong class="source-inline">true</strong></span><span class="No-Break">.</span></li>
				<li><strong class="source-inline">headers</strong>: The default value is <strong class="source-inline">empty</strong>. It specifies the list of headers to send in <span class="No-Break">the request.</span></li>
			</ul>
			<p>The following code example shows how to use <span class="No-Break">these properties:</span></p>
			<pre class="source-code">
&lt;plugin&gt;
 &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
 &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;
 &lt;version&gt;${version}&lt;/version&gt;
 &lt;executions&gt;
  &lt;execution&gt;
   &lt;id&gt;integration-test&lt;/id&gt;
   &lt;goals&gt;
    &lt;goal&gt;generate&lt;/goal&gt;
   &lt;/goals&gt;
  &lt;/execution&gt;
 &lt;/executions&gt;
 &lt;configuration&gt;
  &lt;apiDocsUrl&gt;
    http://localhost:8080/v3/api-docs&lt;/apiDocsUrl&gt;
  &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt;
  &lt;outputDir&gt;/home/springdoc/output-folder&lt;/outputDir&gt;
  &lt;skip&gt;false&lt;/skip&gt;
  &lt;headers&gt;
    &lt;header1-key&gt;header1-value&lt;/header1-key&gt;
  &lt;/headers&gt;
 &lt;/configuration&gt;
&lt;/plugin&gt;</pre>
			<p>In the preceding example <a id="_idIndexMarker419"/>XML code, we have added several properties to apply custom configuration for OpenAPI. We have manually set the output filename, directory, and headers for generating the <span class="No-Break">API documentation.</span></p>
			<h3>springdoc-openapi-gradle-plugin</h3>
			<p><strong class="source-inline">springdoc-openapi-gradle-plugin</strong> generates the OpenAPI specification for a Spring Boot<a id="_idIndexMarker420"/> application from a Gradle build. To enable the plugin, we must place the following code in our <span class="No-Break"><strong class="source-inline">plugins</strong></span><span class="No-Break"> section:</span></p>
			<pre class="source-code">
plugins {
      id "org.springframework.boot" version "${version}"
      id "org.springdoc.openapi-gradle-plugin"
          version "${version}"
}</pre>
			<p>Once the plugins and dependencies have been added, the following tasks will <span class="No-Break">be created:</span></p>
			<ul>
				<li><strong class="source-inline">generateOpenApiDocs</strong>: The job that will be run to generate the OpenAPI documentation. <strong class="source-inline">generateOpenApiDocs</strong> makes a REST call to the application’s documentation URL to store the OpenAPI docs in <span class="No-Break">JSON format.</span></li>
				<li><strong class="source-inline">forkedSpringBootRun</strong>: The Spring Boot application runs in the background using this task. </li>
			</ul>
			<p>We can also customize the behavior of <strong class="source-inline">openapi-graven-plugin</strong> by specifying the <span class="No-Break">following properties:</span></p>
			<ul>
				<li><strong class="source-inline">apiDocsUrl</strong>: The URL where the Open API documentation can <span class="No-Break">be downloaded</span></li>
				<li><strong class="source-inline">outputDir</strong>: The directory where the documentation <span class="No-Break">is generated</span></li>
				<li><strong class="source-inline">outputFileName</strong>: The name of the generated <span class="No-Break">output file</span></li>
				<li><strong class="source-inline">waitTimeInSeconds</strong>: The time to wait in seconds for the Spring Boot application to start before calling the REST APIs to generate the <span class="No-Break">OpenAPI documentation</span></li>
				<li><strong class="source-inline">forkProperties</strong>: A system property that’s required for running your Spring <span class="No-Break">Boot application</span></li>
				<li><strong class="source-inline">groupedApiMappings</strong>: A set of URLs from where the OpenAPI documentation can <span class="No-Break">be downloaded</span></li>
			</ul>
			<p>To use these properties, we <a id="_idIndexMarker421"/>must specify them <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">generateOpenApiDocs</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
openApi {
    apiDocsUrl.set("https://localhost:4000/api/docs")
    outputDir.set(file("$buildDir/docs"))
    outputFileName.set("swagger-test.json")
    waitTimeInSeconds.set310)
    forkProperties.set("-Dspring.profiles.active=special")
    groupedApiMappings.set(
      ["https://localhost:8000/v3/api-docs/group-1" to
       "swagger-group-1.json",
       "https://localhost:8000/v3/api-docs/group-2" to
       "swagger-group-2.json"])
}</pre>
			<p>With that, we have learned about the properties and plugins that we can use in OpenAPI docs. Now, let’s configure the plugin for our Spring <span class="No-Break">Boot application.</span></p>
			<h2 id="_idParaDest-110"><a id="_idTextAnchor118"/>Configuring springdoc-openapi</h2>
			<p>Now, we will install and <a id="_idIndexMarker422"/>configure <strong class="source-inline">springdoc-openapi</strong> in our Spring Boot application. First, we must add the dependency to the previous project we made. Go to the <strong class="source-inline">pom.xml</strong> file and add the following <span class="No-Break">XML code:</span></p>
			<pre class="source-code">
 &lt;dependency&gt;
      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
 &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;         &lt;version&gt;1.6.4&lt;/version&gt;
&lt;/dependency&gt;</pre>
			<p>After successfully installing the OpenAPI dependency, we can run our Spring Boot project. Once the server has started, we can go to <strong class="source-inline">http://localhost:8080/v3/api-docs/</strong> to access the OpenAPI documentation in JSON format. You will see that all of your endpoints and their associated HTTP requests are displayed as JSON objects. The following is a snippet of the generated JSON <a id="_idIndexMarker423"/>documentation for <span class="No-Break">our project:</span></p>
			<pre class="source-code">
{
  "servers": [
    {
      "url": "http://localhost:8080/",
      "description": "Generated server url"
    }
  ],
  "paths": {
    "/api/v1/anti-heroes/{id}": {
      "get": {
        "tags": [
          "anti-hero-controller"
        ],
        "operationId": "getAntiHeroById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AntiHeroDto" …… // other created paths UPDATE DELETE and CREATE Inputs</pre>
			<p>Here, we can see that the generated JSON object displays the available endpoints in our project. It is shown together with the operation ID, which is the default name of the method; it also specifies the parameters with the types required and the possible responses of <span class="No-Break">the endpoint.</span></p>
			<p>We have used the default URL where OpenAPI can be accessed. We can change the URL using the application’s <strong class="source-inline">springdoc.api-docs.path property.properties</strong> file. For example, we have set it to <strong class="source-inline">springdoc.api-docs.path=rest-docs</strong>, which means we can now access the JSON document <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">http://localhost:8080/rest-docs/</strong></span><span class="No-Break">.</span></p>
			<p>We can also access the <a id="_idIndexMarker424"/>YAML version of the documentation by <span class="No-Break">accessing </span><span class="No-Break"><strong class="source-inline">http://localhost:8080/v3/api-docs.yaml</strong></span><span class="No-Break">.</span></p>
			<p>With that, we have successfully generated the documentation for our endpoints using <strong class="source-inline">springdoc-openapi</strong>. In the next section, we will learn how to configure, access, and use <span class="No-Break">Swagger UI.</span></p>
			<h1 id="_idParaDest-111"><a id="_idTextAnchor119"/>Setting up Swagger UI</h1>
			<p><strong class="bold">Swagger UI</strong> is a<a id="_idIndexMarker425"/> documentation tool that allows users to call the available APIs in your project directly from a browser. This is a more interactive tool that enables a more detailed and practical use of the APIs. Swagger UI is also open source, enabling more communities to support <span class="No-Break">the tool.</span></p>
			<h2 id="_idParaDest-112"><a id="_idTextAnchor120"/>Installing and using Swagger UI</h2>
			<p>Swagger UI is already <a id="_idIndexMarker426"/>included under the <strong class="source-inline">springdoc-openapi-ui</strong> dependency. We <a id="_idIndexMarker427"/>have already included the OpenAPI extension code by adding the <span class="No-Break">following code:</span></p>
			<pre class="source-code">
&lt;dependency&gt;
      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;
      &lt;version&gt;1.6.4&lt;/version&gt;
&lt;/dependency&gt;</pre>
			<p>The OpenAPI dependency includes the Swagger UI extension; we can access the UI with the following URL: <strong class="source-inline">http://localhost:8080/swagger-ui.html</strong>. This will open the Swagger UI’s <strong class="bold">OpenAPI </strong><span class="No-Break"><strong class="bold">definition</strong></span><span class="No-Break"> page:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer052">
					<img alt="Figure 6.1 – The Swagger UI’s OpenAPI definition page" src="image/B18159_06_01.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.1 – The Swagger UI’s OpenAPI definition page</p>
			<p>Here, we can see that our Swagger UI has been accessed successfully. Our created endpoints in the Spring Boot project are also displayed, together with their HTTP methods. Let’s discuss the different parts of the Swagger <span class="No-Break">UI documentation.</span></p>
			<p>The first thing we can see in Swagger UI is that it contains text input, alongside the <strong class="bold">Explore</strong> button. This is where Swagger UI gets the list of endpoints it will render. In the preceding example, we can see that the default value is <strong class="source-inline">v3/api-docs</strong>. This means that the JSON documentation we have generated using the OpenAPI library is being used by Swagger to get the <span class="No-Break">available endpoints.</span></p>
			<p>We can change this and<a id="_idIndexMarker428"/> access the URL that contains the OpenAPI documentation in <a id="_idIndexMarker429"/>JSON or YAML format. The next component we will see is the list of available endpoints in our project. In the preceding example, the five endpoints we have developed are listed in Swagger UI. This is not a list as the Swagger UI tool is interactive, allowing us to try the <span class="No-Break">available endpoints.</span></p>
			<p>Let’s have a look at the <span class="No-Break">following example:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer053">
					<img alt="Figure 6.2 – POST request for anti-heroes" src="image/B18159_06_02.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.2 – POST request for anti-heroes</p>
			<p>We can expand the <strong class="source-inline">/api/v1/anti-heroes</strong> endpoint to create a new Anti-Hero object in our database since this is using the <strong class="source-inline">POST</strong> HTTP method. The schema of the object we need to pass in our request body is specified. It defines both the names and the types of properties. In<a id="_idIndexMarker430"/> this case, the Anti-Hero entity has the <span class="No-Break">following schema:</span></p>
			<pre class="source-code">
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "firstName": "string",
  "lastName": "string",
  "house": "string",
  "knownAs": "string"
}</pre>
			<p>The possible responses <a id="_idIndexMarker431"/>are also specified in the example endpoint. The possible response has a status of <strong class="source-inline">200</strong>, which specifies success. It will also return the newly created entity in <span class="No-Break">the database.</span></p>
			<p>We want to test the endpoint and insert some example data into the database. To do this, we must click the <strong class="bold">Try it out</strong> button, which can be found at the top right, and click the <strong class="bold">Execute</strong> button to call the endpoint. Once the API call is successful, we will see the <span class="No-Break">following output:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer054">
					<img alt="Figure 6.3 – Response from the POST request" src="image/B18159_06_03.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.3 – Response from the POST request</p>
			<p>Here, we can see that the <a id="_idIndexMarker432"/>API returned successfully as it returned a <strong class="bold">Code</strong> of <strong class="bold">200</strong> and the newly created entity in <span class="No-Break">the database.</span></p>
			<p>We can check whether our endpoint has successfully inserted the data into our table by accessing <strong class="source-inline">pgAdmin</strong>, as shown in the <span class="No-Break">following screenshot:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer055">
					<img alt="Figure 6.4 – Verifying whether data has been inserted from the POST request" src="image/B18159_06_04.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.4 – Verifying whether data has been inserted from the POST request</p>
			<p>In the preceding example, we <a id="_idIndexMarker433"/>can see that our data has been inserted successfully into our table. Now, we can test the other available endpoints by getting, updating, or deleting the data we have created in <span class="No-Break">the database.</span></p>
			<p>We have successfully navigated through the Swagger UI tool and interacted with the available endpoints, but we can also modify Swagger UI based on our preferences and requirements by using properties, similar to what we can do with the OpenAPI documentation. We can also modify the URL to access Swagger UI; for example, we can place <strong class="source-inline">springdoc.swagger-ui.path=/{custom-path}.html</strong> in the <span class="No-Break"><strong class="source-inline">application.properties</strong></span><span class="No-Break"> file.</span></p>
			<p>The other behavior we can also modify is the sorting behavior of our endpoints. We can change how the endpoints are arranged in the list in terms of <strong class="source-inline">alpha</strong> (arranged alphanumerically) or <strong class="source-inline">method</strong> (arranged by methods), or we can use a custom function to change the sorting method. For this, we can place <strong class="source-inline">springdoc.swagger-ui.operationsSorter=(sort behavior</strong>) in the <span class="No-Break"><strong class="source-inline">application.properties</strong></span><span class="No-Break"> file.</span></p>
			<p>In this example, we will use <strong class="source-inline">springdoc.swagger-ui.operationsSorter=method</strong>. We <a id="_idIndexMarker434"/>will see the <span class="No-Break">following output:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer056">
					<img alt="Figure 6.5 – Endpoints arranged by methods" src="image/B18159_06_05.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.5 – Endpoints arranged by methods</p>
			<p>As we can see, our endpoints are now arranged by the <span class="No-Break">HTTP methods.</span></p>
			<h2 id="_idParaDest-113"><a id="_idTextAnchor121"/>Displaying pagination information in Swagger UI</h2>
			<p>Swagger UI can also be <a id="_idIndexMarker435"/>integrated with endpoints that use<a id="_idIndexMarker436"/> pagination. We can specify the page number, the size of the list on each page, and the sorting expression. For us to integrate the pagination parameters in Swagger UI, we need to add the <span class="No-Break"><strong class="source-inline">springdoc-open-data-rest</strong></span><span class="No-Break"> dependency.</span></p>
			<p>To add the library, we must add the following code to our <span class="No-Break"><strong class="source-inline">pom.xml</strong></span><span class="No-Break"> file:</span></p>
			<pre class="source-code">
&lt;dependency&gt;
   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
   &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;
     &lt;version&gt;1.6.4&lt;/version&gt;
&lt;/dependency&gt;	</pre>
			<p>After successfully adding the<a id="_idIndexMarker437"/> library, let’s modify our <strong class="source-inline">getAntiHeroes</strong> method under <strong class="source-inline">AntiHeroesController</strong> so that we have a working <a id="_idIndexMarker438"/><span class="No-Break">pagination feature:</span></p>
			<pre class="source-code">
…. import org.springframework.data.domain.Pageable;
@GetMapping
public List&lt;AntiHeroDto&gt; getAntiHeroes(Pageable pageable) {
    int toSkip = pageable.getPageSize() *
                 pageable.getPageNumber();
    var antiHeroList = StreamSupport
            .stream(service.findAllAntiHeroes().spliterator(), false)
            .skip(toSkip).limit(pageable.getPageSize())
            .collect(Collectors.toList());
    return antiHeroList
            .stream()
            .map(this::convertToDto)
            .collect(Collectors.toList());
}</pre>
			<p>Now, let’s expand <strong class="source-inline">api/v1/anti-heroes</strong>, which uses the <span class="No-Break"><strong class="source-inline">GET</strong></span><span class="No-Break"> method:</span></p>
			<div>
				<div class="IMG---Figure" id="_idContainer057">
					<img alt="Figure 6.6 – GET method for anti-heroes" src="image/B18159_06_06.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.6 – GET method for anti-heroes</p>
			<p>Here, we can see<a id="_idIndexMarker439"/> that the <strong class="bold">Parameters</strong> section has a<a id="_idIndexMarker440"/> <strong class="bold">pageable</strong> property and that we can specify the page we want to retrieve, the size of each page, and the sorting expression. Now, we can execute it to retrieve the data from <span class="No-Break">the database.</span></p>
			<h1 id="_idParaDest-114"><a id="_idTextAnchor122"/>Summary</h1>
			<p>With this, we have reached the end of this chapter. Let’s recap the valuable things you <span class="No-Break">have learned.</span></p>
			<p>First, you learned about the available features and properties of <strong class="source-inline">springdoc-openapi</strong> and how to configure and use the OpenAPI specification to generate the JSON and YAML documentation for our API calls. You also learned how to access Swagger UI, an interactive documentation tool for calling APIs directly in a browser. We simulated this to send test calls and modify certain behaviors, such as the domain URL and the sorting order. This newly acquired knowledge for generating documentation for APIs is very useful in real-world applications. This knowledge is used by developers to easily identify the available APIs that can be consumed, as well as their parameters and <span class="No-Break">object responses.</span></p>
			<p>In the next chapter, we will learn about the concept of <strong class="bold">Cross-Origin Resource Sharing</strong> (<strong class="bold">CORS</strong>), Spring Security, and <strong class="bold">JSON Web </strong><span class="No-Break"><strong class="bold">Tokens</strong></span><span class="No-Break"> (</span><span class="No-Break"><strong class="bold">JWTs</strong></span><span class="No-Break">).</span></p>
		</div>
	</body></html>