# 前言

在过去的几年里，我们看到了为 JVM 创建新语言的普遍趋势。有各种不同范式和不同工作方式的新语言。

Clojure 是这些语言之一，我们认为它值得学习。

在这本书的过程中，你将了解 Clojure 及其观点。你将了解为什么不可变对象不仅可能，而且使用它们是一个好主意。

你将了解函数式编程，并看到它如何适应不可变程序的概念。

你将理解将你的代码表示为相同语言的数据结构的非常强大的想法。

重要的是要注意，我们将在这个基础上构建所有这些知识；这本书假设你理解 Java 语言及其工作方式。它假设你理解如何创建类和对象，如何调用方法，以及关于 JVM 的一些知识。我们将找到与已知 Java 语言的相似之处和不同之处，这样你就可以理解 Clojure 世界是如何运作的。

据说，一个伟大的程序员不是知道很多不同编程语言的人，而是知道不同编程范式的人。

Clojure 带来了来自 Lisp 和函数式编程的思想，这与你习惯的不同。这本书将帮助你理解这些思想背后的力量，以及为什么这样一个古老的语言仍然存在并且有它的位置。

学习 Lisp 是生活中的一大乐趣，我希望你喜欢它！

# 本书涵盖的内容

第一章，*Clojure 入门*，是你在 Clojure 中的第一步，从如何安装解释器，如何使用 IntelliJ 插件 Cursive Clojure，到如何开始编写你的第一行 Clojure 代码。

第二章，*命名空间、包和测试*，讨论了其他每种语言都需要一种组织代码的方式。我们通过命名空间来实现，并且通过进行小实验和与已知的 Java 包进行比较来开始学习。

第三章，*与 Java 交互*，讨论了 Clojure 最有用的特性之一是它可以托管在其他平台之上。Java 可能是最常见的平台之一，在这里我们学习如何与 Java 代码和库交互，以及如何将我们的 Clojure 代码暴露给 Java。

第四章，*集合和函数式编程*，告诉我们函数式编程和不可变数据结构（或集合）是 Clojure 语言编程的基础；在这里，我们了解如何使用不可变数据结构编写有意义的程序，以及函数式编程为何是理想的。

第五章，*多态方法和协议*，介绍了 Clojure 的新工具和思想，帮助您编写更灵活、更简单的代码。解构允许您从数据结构中立即访问所需的数据。多态方法和协议类似于 Java 的多态，但为您提供了全新的灵活性，这是您只能梦想的。

第六章，*并发*，讲述了在现代世界中并发扮演着极其重要的角色。本章还讲述了 Clojure 的并发原生方法，再次您将了解为什么不可变数据结构在编写并发程序时是一个伟大的盟友。

第七章，*Clojure 中的宏*，讨论了这些不是您习惯的 Excel 宏，它们是在编译时修改程序源代码的一种方式。这是 Lisp 的一个重大思想，也是给您带来巨大灵活性的一个思想。在这里，我们了解了一些如何使用这个功能的方法。

# 您需要这本书的内容

您需要 Java 8 SDK。

您应该能够在任何操作系统上运行示例；在我们的示例中，如果环境中有一个 shell，应该更容易理解。（我们主要关注 Mac OS X。）

# 这本书面向谁

这本书是为熟悉 Java 和 JVM 的开发者而写的。

理想情况下，您了解类加载器的工作原理，如何生成 JAR 文件并使用它们；您熟悉 Java 最常用的库和类。

如果您不熟悉这个，您将能够阅读这本书，但您不会从比较和示例中获得最大收益。

# 习惯用法

在这本书中，您将找到许多不同的文本样式，以区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示："我们正在使用`:require`来包含`clojure.test`和`ns-playground.core`包中的函数。"

代码块设置如下：

```java
curl -O https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein
# The next step just set up the lein script in your path, you can do it any way you wish
mv lein ~/bin
echo "export PATH=$PATH:~/bin/">> ~/.bashrc
source ~/.bashrc
# Everything should be running now, let's test it
lein help

```

当我们希望将您的注意力引向代码块中的特定部分时，相关的行或项目将以粗体显示：

```java
lein new app getting-started
cd getting-started
lein run
# Hello, world!
```

任何命令行输入或输出都如下所示：

```java
lein uberjar

```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“之后您就可以运行任何测试了，只需打开您的测试文件，在当前 NS 的 REPL 中转到**工具** | **运行测试**。”

### 注意

警告或重要注意事项以这样的框显示。

### 小贴士

小技巧和技巧看起来像这样。

# 读者反馈

我们欢迎读者的反馈。让我们知道您对这本书的看法——您喜欢或不喜欢什么。读者反馈对我们来说很重要，因为它帮助我们开发出您真正能从中获得最大价值的标题。

要向我们发送一般反馈，请简单地发送电子邮件至`<feedback@packtpub.com>`，并在邮件的主题中提及书籍的标题。

如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 图书的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大价值。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)下载您购买的所有 Packt Publishing 书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表的颜色图像的 PDF 文件。这些颜色图像将帮助您更好地理解输出的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/ClojureforJavaDevelopers_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/ClojureforJavaDevelopers_ColorImages.pdf)下载此文件。

勘误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误表，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将在**勘误**部分显示。

## 侵权

互联网上对版权材料的侵权是一个持续存在的问题，涉及所有媒体。在 Packt，我们非常重视保护我们的版权和许可证。如果您在互联网上发现任何形式的非法复制我们的作品，请立即提供位置地址或网站名称，以便我们可以追究补救措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供涉嫌侵权材料的链接。

我们感谢您的帮助，以保护我们的作者和为您提供有价值的内容的能力。

## 问题和建议

如果您在这本书的任何方面遇到问题，您可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决问题。
