# 前言

高可用性是一个广泛讨论的话题，它涉及到项目的部署和开发。在这本书中，我想探讨关于集群、负载均衡、故障转移和会话复制的话题。

高可用性也是一个非常有趣的话题，开源社区提供的技术特别有趣。在本书中，我们将学习如何使用 JBoss EAP6 与其他 JBoss 和 Apache 社区工具一起构建一个高可用性系统。

在本书中，我们将使用以下项目：JBoss EAP 6、Apache httpd、mod_jk 和 mod_cluster。当我编写这本书时，JBoss EAP 6.1.0.Final 是基于 JBoss AS 7.2.x 的最新产品版本，可以从 JBoss 社区免费下载。这个版本非常稳定，具有集群功能，因此我们将在本书中使用它。

自从 AS 8.x 以来，JBoss AS 的项目名称已更名为 WildFly。尽管项目名称已更改，但其设计变化不大，你可以将本书中的大部分知识用于 WildFly 的未来版本。

JBoss EAP6 提供了一个域管理功能，可以帮助我们集中管理多个服务器。这个功能在集群环境中非常有用，因为我们不需要分别管理每个服务器。我们将在书中检查这个功能。

在商业应用中，传输安全性通常被认为是至关重要的。在这本书中，我将介绍将 SSL 应用于集群环境的方法。

# 本书涵盖的内容

第一章, *JBoss EAP6 概述*，教你如何下载和安装 JBoss EAP6，介绍 JBoss EAP6 的启动模式，并涵盖域管理功能的基本用法。

第二章, *使用 JBoss EAP6*，更详细地介绍了使用 EAP6 管理控制台，并解释了 EAP6 管理模型的设计。

第三章, *设置 JBoss EAP6 集群*，指导你如何正确设置 EAP6 服务器，以便它们可以形成一个集群。

第四章, *使用 mod_jk 进行负载均衡*，展示了如何将 mod_jk 用作 EAP6 集群的负载均衡器。

第五章, *使用 mod_cluster 进行负载均衡*，讨论了如何将 mod_cluster 用作 EAP6 集群的负载均衡器。

第六章, *使用 SSL 进行集群*，展示了如何在集群环境中启用 SSL，并教你如何将 SSL 与 mod_jk 一起使用。

第七章, *使用 SSL 配置 mod_cluster*，展示了如何将 SSL 与 mod_cluster 一起使用。

第八章，*开发分布式应用程序*，讨论了如何借助 JavaEE 技术开发可分发应用程序并将其部署到 EAP6 集群中。

*附录*，*WildFly 故障排除*，展示了如何在运行时调试 WildFly 服务器。这一章作为附加章节提供，可以从[`www.packtpub.com/sites/default/files/downloads/2432OS_Appendix.pdf`](http://www.packtpub.com/sites/default/files/downloads/2432OS_Appendix.pdf)下载。

# 您需要这本书什么

阅读这本书需要一些关于 Linux/Unix 的基本知识。您可能需要遵循书中的 shell 命令来正确配置服务器。

强烈建议您对 IP 多播有一定的了解。因为许多集群功能依赖于 IP 多播，有了这方面的知识，您可以更好地理解 EAP6 集群的设计。

如果您想遵循第八章，*开发分布式应用程序*中的说明，您可能需要一些关于 EJB 和 Servlet 开发的基本知识。此外，对 Maven 使用的了解也是首选的。

第六章，*使用 SSL 进行集群*，和第七章，*使用 SSL 配置 mod_cluster*，主要关注在集群中应用 SSL。如果您想遵循这两章中的说明，需要了解 SSL/TLS 技术的基本知识。

当您遵循这本书中的说明时，请关闭您机器的网络防火墙，以防它阻止集群所需的重要端口。如果您使用 Linux 作为工作环境，请禁用 SELinux，因为它将对集群功能产生很大影响。当您完全理解了 EAP6 集群功能后，您可以重新启用这些保护措施，并正确配置它们以与 EAP6 集群一起工作。

# 这本书面向谁

JBoss EAP6 管理员和 JavaEE 开发者是这本书的主要读者。任何想了解 JBoss 社区提供的最酷技术的读者都建议阅读这本书。我希望这本书不仅仅是一个逐步教程，所以我包括了一些关于 JBoss EAP6 及其相关项目设计的讨论。

# 惯例

在这本书中，您会发现许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。

文本中的代码单词、文件夹名称、文件名、文件扩展名、路径名、虚拟 URL 和用户输入如下所示：“默认配置文件是`standalone.xml`。”

代码块设置如下：

```java
<interfaces>
  <interface name="management">
    <inet-address value="${jboss.bind.address.management:127.0.0.1}"/>
  </interface>
  <interface name="public">
    <inet-address value="${jboss.bind.address:127.0.0.1}"/>
  </interface>
</interfaces>
```

任何命令行输入或输出都如下所示：

```java
$ ./standalone.sh

```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“要取消部署项目，请首先点击**启用/禁用**，然后点击**删除**”。

### 注意

警告或重要注意事项以如下框中的方式显示。

### 小贴士

小技巧和技巧显示如下。

# 读者反馈

读者反馈始终受到欢迎。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正从中获得最大收益的标题非常重要。

要发送一般反馈，只需发送电子邮件到 `<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在，您已经成为 Packt 图书的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的账户下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 勘误

尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者感到沮丧，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)来报告它们，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。您可以通过选择您的标题从[`www.packtpub.com/support`](http://www.packtpub.com/support)查看任何现有勘误。

## 侵权

互联网上版权材料的侵权是一个持续存在的问题，涉及所有媒体。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过发送电子邮件到 `<copyright@packtpub.com>` 并附上涉嫌侵权材料的链接与我们联系。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题

如果你在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决。
