# 前言

当我在 2011 年第一次接触到 Gradle 时，它是一个年轻但功能强大的工具。如果我记得正确，版本是 0.9。尽管 Gradle 有足够的官方文档，但我仍然很难开始。我最缺少的是一本能帮助我首先理解核心概念的指南，而不必阅读整个文档。

Gradle 是一个出色的构建工具。关于它的学习内容非常多，新用户往往不知道从哪里开始。期望一个应用程序开发者阅读整个 Gradle 参考材料以了解基础知识是不明智的。

本书试图通过逐步揭示关键概念来帮助读者开始使用 Gradle。它简洁地介绍了更高级的主题。本书专注于 Gradle 的实际应用，读者可以立即将其应用于自己的项目。本书力求忠实于“精华”的精神，避免深入探讨 Gradle 提供的每一个可能的功能和选项。为了避免分散对应用程序逻辑的注意力，应用程序的代码示例被有意保持非常小。

这本书是 Gradle 的快速入门指南。如果你已经是一名使用 Ant 或 Maven 构建代码的 Java 开发者，并希望切换到 Gradle，这本书将帮助你快速理解 Gradle 的不同概念。即使你没有接触过其他构建工具，如 Ant 或 Maven，你也可以在这本书的帮助下从头开始学习 Gradle。它从 Gradle 的基础知识开始，然后逐步介绍多模块项目、迁移策略、测试策略、持续集成以及使用 Gradle 进行代码覆盖率的概念。

# 本书涵盖内容

本书可以大致分为三个部分。

第一部分包括第一章*运行您的第一个 Gradle 任务*，第二章*构建 Java 项目*，以及第三章*构建 Web 应用程序*。本部分通过非常简单的示例介绍了 Gradle 的基础知识，帮助读者创建 Java 项目和 Web 应用程序的构建文件。它以温和的方式开始，不涉及任何复杂的概念。

第二部分包括第四章, *揭秘构建脚本*，以及第五章, *多项目构建*。本节帮助读者更深入地理解 Gradle 的基础，同时仍保持本书的“基本”方面。它还帮助读者理解如何解释和编写符合 Gradle DSL 的脚本。

第三部分包括第六章, *使用 Gradle 的实战项目*，第七章, *使用 Gradle 进行测试和报告*，第八章, *组织构建逻辑和插件*，以及第九章, *多语言项目*。本节涵盖了 Gradle 用户可能遇到的更多实际用例。一些例子包括从现有的构建系统迁移到 Gradle，在 CI 服务器上使用 Gradle，使用 Gradle 维护代码质量，使用 Gradle 构建 Groovy 和 Scala 等项目语言等。这些概念大多围绕各种插件能提供什么，同时也允许读者创建自己的自定义插件。

此外，在所有章节的多个地方，读者都可以找到提示、参考资料和其他信息性注释。

第一章, *运行您的第一个 Gradle 任务*，从 Gradle 及其安装的介绍开始，随后转向探索 Gradle 命令行界面，最后运行第一个构建文件。

第二章, *构建 Java 项目*，解释了构建 Java 应用程序和库、使用 JUnit 进行单元测试、阅读测试报告以及创建应用程序分发的主题。

第三章, *构建 Web 应用程序*，涉及构建和运行 Web 应用程序。它还简要介绍了依赖项、存储库和配置等概念。

第四章，*揭秘构建脚本*，从 Gradle DSL 上下文中的 Groovy 语法入门。然后，它继续解释 Gradle 构建的骨干概念，如构建阶段、项目 API 以及与 Gradle 任务相关的各种主题。

第五章，*多项目构建*，涵盖了结构化多项目目录的一些选项。然后，它讨论了构建逻辑的组织，这是一个多项目构建。

第六章，*使用 Gradle 的实战项目*，讨论了开发者面临的一个重要问题，即如何将现有的 Ant 和 Maven 脚本迁移到 Gradle。这一章提供了不同的策略和示例，指导开发者以更简单、更易于管理的方式进行迁移。这一章还深入探讨了使用 Gradle 发布工件的不同方式，以及开发者如何将 Gradle 与持续集成工作流程集成。

第七章，*使用 Gradle 进行测试和报告*，讨论了 TestNG 框架与 Gradle 的集成。除了使用 TestNG 进行单元测试外，它还涉及了不同的集成测试策略，用户可以遵循这些策略来执行与单元测试用例分开的集成测试。它还讨论了将 Sonar 与 Gradle 集成，这有助于开发者根据不同参数分析代码质量，以及 JaCoCo 集成进行代码覆盖率分析。

第八章，*组织构建逻辑和插件*，讨论了 Gradle 插件的一个重要构建块，没有它你会发现这本书不完整。它讨论了插件的需求以及开发者可以根据项目大小和复杂性采用的不同方式来创建插件。

第九章，*多语言项目*，展示了如何使用 Gradle 为使用 Java 之外或除 Java 之外的语言的项目；这一章展示了构建 Groovy 和 Scala 项目的示例。

# 你需要这本书的什么

在执行书中提到的代码之前，你的系统必须安装以下软件：

+   Gradle

+   Java 1.7 或更高版本

对于第六章至第八章，你需要以下软件：

+   Jenkins

+   Ant 1.9.4

+   Maven 3.2.2

# 这本书面向的对象

这本书是为想要使用 Gradle 或已经在他们的项目中使用 Gradle 的 Java 和其他 JVM 语言开发者而写的。

不需要具备 Gradle 的先验知识，但了解与构建相关的术语以及理解 Java 语言会有所帮助。

# 术语

在这本书中，你会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称显示如下：“这个类仅公开一个名为`greet`的方法，我们可以使用它来生成问候消息。”

代码块设置如下：

```java
task helloWorld << {
  println "Hello, World!"
} 
```

任何命令行输入或输出都应如下书写：

```java
$ gradle --version

```

或者它可以这样写：

```java
> gradle --version

```

当某些输出或代码块被截断时，它将以省略号（...）表示，如下所示：

```java
$ gradle tasks
...
Other tasks
-----------
helloWorld
...

```

**新术语**和**重要词汇**以粗体显示。屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“一旦按下**提交**按钮，我们就会得到期望的结果。”

### 注意

警告或重要注意事项以如下方式显示在框中。

### 小贴士

技巧和窍门看起来像这样。

# 读者反馈

我们欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出你真正能从中获得最大收益的标题。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及书籍的标题。

如果你在某个主题上具有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 图书的骄傲所有者，我们有一些事情可以帮助你从购买中获得最大收益。

## 下载示例代码

你可以从你的账户中下载示例代码文件，地址为[`www.packtpub.com`](http://www.packtpub.com)，适用于你购买的所有 Packt 出版图书。如果你在其他地方购买了这本书，你可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给你。

## 错误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误表，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分。

## 盗版

互联网上版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现任何形式的我们作品的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题和建议

如果您在这本书的任何方面遇到问题，您可以通过`<questions@packtpub.com>`与我们联系，我们将尽力解决问题。
