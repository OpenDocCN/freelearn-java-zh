# 前言

本书将涵盖开发 JSF 2.2 应用程序所涉及的所有重要方面（重要特性）。它提供了充分利用 JSF 2.2 的清晰指导，并提供了许多练习（超过 300 个完整应用程序）来构建令人印象深刻的基于 JSF 的 Web 应用程序。

我们首先从关于表达式语言（EL）的章节开始，涵盖了 EL 2.2 和 EL 3.0 最重要的方面。接着，我们进行了一篇关于 JSF 通信的全面论文，随后是一章关于 JSF 2.2 作用域的精彩章节。在此阶段，我们讨论了大多数 JSF 组件和配置。进一步地，我们开始了一系列非常有趣的主题，例如 HTML5 和 AJAX。之后，我们剖析了 JSF 视图状态的概念，并学习如何处理这个微妙的 JSF 话题。此外，我们将详细讨论自定义组件和组合组件。之后，我们将讨论 JSF 2.2 资源的库合约（主题）。最后，最后一章将加强你对 JSF 2.2 Facelets 的知识。

# 本书涵盖的内容

第一章, *通过表达式语言（EL 3.0）动态访问 JSF 应用程序数据*，涵盖了表达式语言（EL）的主要方面。我们将涵盖 EL 2.2 和 EL 3.0，包括新操作符、lambda 表达式和集合对象支持。

第二章, *JSF 中的通信*，代表了对 JSF 机制的分析，这些机制用于确保 JSF 组件之间的通信。因此，我们将涵盖上下文参数、请求参数、JSF 2.2 对 GET 请求的操作（视图操作）等。

第三章, *JSF 作用域 – 生命周期和在托管 Bean 通信中的应用*，教你区分使用 JSF 和 CDI 作用域的良莠之别。我们将详细讨论 JSF 作用域与 CDI 作用域、请求、会话、视图作用域（包括新的 JSF 2.2 视图作用域）、应用作用域、会话作用域、JSF 2.2 流程作用域（重要特性）以及更多内容。

第四章, *使用 XML 文件和注解配置 JSF – 第一部分*，以学习示例的方式描述了 JSF 组件的配置方面。在`faces-config.xml`文件中配置 JSF 组件相当直接且乏味，但如果我们将每个组件及其在多个用例中的潜力进行利用，那么事情就会变得更有趣。

第五章, *使用 XML 文件和注解配置 JSF – 第二部分*，作为前一章的延续。在这里，我们将讨论配置资源处理器（JSF 2.2 的新`javax.faces.WEBAPP_RESOURCES_DIRECTORY`上下文参数），配置闪存（JSF 2.2 的`FlashFactory`、`FlashWrapper`和闪存系统事件），JSF 2.2 窗口 ID API，注入机制（从 JSF 2.2 开始，在大多数 JSF 组件中都是可能的），以及更多。

第六章, *处理表格数据*，向`<h:dataTable>`标签致敬。在这里，我们将专注于 JSF 2.2 的`CollectionDataModel` API（它支持`UIData`中的`Collection`接口）。此外，我们还将了解表格分页、删除/编辑/更新表格行、过滤和样式化 JSF 表格。

第七章, *JSF 和 AJAX*，利用 JSF 2.2 的`delay`属性进行 AJAX 请求的队列控制。它讨论了如何使用 JSF 2.2 重置值属性（输入字段可以在验证错误后使用 AJAX 更新），AJAX 和 JSF 2.2 流程作用域，如何自定义 AJAX 脚本，以及更多。这是几乎所有 JSF 书籍中的经典章节。

第八章, *JSF 2.2 – HTML5 和上传*，将主题分为两部分。第一部分完全致力于大票功能，HTML5 和 JSF 2.2（透传属性和元素）。第二部分致力于 JSF 2.2 的新上传组件`<h:inputFile>`。

第九章, *JSF 状态管理*，详细阐述了 JSF 视图状态。本章标题将涉及 JSF 的保存视图状态（包括 JSF 2.2 对状态保存方法的不区分大小写和标准化的服务器状态序列化）以及 JSF 2.2 无状态视图（大票功能）。

第十章, *JSF 自定义组件*，是任何 JSF 书籍中的另一个经典章节。显然，主要话题旨在构建自定义和组合组件。我们将专注于基于新的 JSF 2.2 方法（Facelet 的组件标签可以通过注解声明）开发几种组件。

第十一章, *JSF 2.2 资源库合约 – 主题*，专注于新的 JSF 2.2 资源库合约功能（大票功能）。你将学习如何使用合约，使用合约样式化 JSF 表格和 UI 组件，在不同类型的设备上样式化合约，以及更多。

第十二章, *Facelets 模板*，描述了 Facelets 模板的病毒式特性。我们将专注于 Facelets 的声明性和程序性方面。

附录, *JSF 生命周期*，涵盖不同 JSF 阶段的图表。

# 你需要这本书的内容

为了运行本书中的应用程序，你需要以下软件应用：

+   NetBeans IDE（推荐版本为 8.0 或更高）

+   GlassFish 4.0

+   JSF Mojarra 2.2.6（推荐）/ MyFaces 2.2.2

# 这本书面向谁

这本书是 JSF 2.0 和 2.2 之间的完美结合。它献给那些有先验经验的 JSF 开发者，他们希望将自己的知识升级到新的 JSF 2.2。通过巩固你在 JSF 2.0 上的知识，并加入 JSF 2.2 的力量，你很快就会成为 JSF 专家。

# 术语表

在这本书中，你会发现许多不同风格的文本，以区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示：“例如，在以下示例中，你调用一个名为`firstLambdaAction`的方法——lambda 表达式从这个方法中调用。”

代码块设置如下：

```java
<ui:repeat value="#{get_sublist(myList, from, to)}" var="t">
  #{t}
</ui:repeat>
```

当我们希望将你的注意力引到代码块的一个特定部分时，相关的行或项目将以粗体显示：

```java
<h:dataTable value="#{playersBean.dataArrayList}" binding="#{table}" var="t">
```

**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“当点击**登录**按钮时，JSF 将调用`playerLogin`方法。”

### 注意

警告或重要注意事项以如下框中的形式出现。

### 小贴士

小贴士和技巧看起来是这样的。

# 读者反馈

我们欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或者可能不喜欢什么。读者的反馈对我们开发你真正能从中获得最大价值的标题非常重要。

要发送给我们一般性的反馈，只需发送一封电子邮件到 `<feedback@packtpub.com>`，并在邮件的主题中提及书名。

如果你在某个主题上有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 书籍的骄傲所有者，我们有一些事情可以帮助你从你的购买中获得最大价值。

## 下载示例代码

你可以从你购买的所有 Packt 书籍的账户中下载示例代码文件。[`www.packtpub.com`](http://www.packtpub.com)。如果你在其他地方购买了这本书，你可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给你。

## 错误表

尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者感到沮丧，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。您可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)中选择您的标题来查看任何现有勘误。

## 盗版

互联网上版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

如果您发现任何疑似盗版材料，请通过发送链接到`<copyright@packtpub.com>`与我们联系。

我们感谢您在保护我们的作者以及为我们提供有价值内容的能力方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过发送链接到`<questions@packtpub.com>`与我们联系，我们将尽力解决。
