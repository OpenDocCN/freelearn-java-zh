# 前言

这本书是使用现代 Java 框架设计、构建、记录、测试和部署 RESTful API 的实用指南。REST API 已成为实现系统间通信的标准方式，尤其是在微服务和其它分布式架构中。Java 是后端开发中最广泛使用的语言之一，了解如何使用 Java 构建有效的 API 是当今开发者的一项关键技能。

在整个章节中，您将探索使用 Spring Boot、OpenAPI 和其他流行工具和库的实战技巧。您还将接触到容器化、可观察性、API 安全和性能调优——这些都是创建健壮、可扩展和可维护 API 所需的一切。无论您是在初创公司还是企业工作，这里涵盖的技能都将帮助您提供符合现代开发标准的优质后端服务。

# 本书面向对象

这本书非常适合有几年经验的 Java 后端开发者，他们希望提高自己 REST API 的设计、性能和可扩展性。它也是参与设计分布式系统的技术负责人和软件架构师的有价值资源。

# 本书涵盖内容

*第一章* ，*理解 RESTful 核心概念*，介绍了 REST 架构的基础原则，并解释了 RESTful API 的不同成熟度水平。它还涵盖了 JSON 作为标准数据格式的作用，概述了设计有效 API 的实用指南，并探讨了 REST 在实际系统中的应用的常见用例。

*第二章* ，*使用 Spring 公开 RESTful API*，专注于使用 Spring Boot 设计和实现 RESTful API。您将从设计一个简单的产品 API 开始，然后逐步使用 Spring Boot（Java 基于 Web 应用中最受欢迎的框架之一）构建它。本章提供了将 REST 概念转化为工作 API 的实战经验。

*第三章* ，*有效记录您的 API*，探讨了在构建可靠和可维护的服务中，清晰和准确的 API 文档的重要性。您将学习如何使用 OpenAPI 标准化您的 API 文档，并理解规范优先和代码优先方法之间的区别。本章还将指导您记录之前介绍的产品 API，确保它对其他开发者和系统既可理解又可使用。

*第四章* ，*从 OpenAPI 生成代码*，指导您基于 OpenAPI 规范创建完整的 API。您将从定义订单管理 API 规范开始，然后生成必要的代码以启动开发。本章还涵盖了组织项目的包结构、实现 API 控制器以及集成前面介绍的订单管理 API 和产品 API。

*第五章* ，*管理 API 演变*，展示了如何处理 API 的更改和更新，而不会干扰现有用户。您将了解不同的版本策略，了解如何在产品 API 中实现版本控制，并探索管理 API 演变的最佳实践，以确保您的服务保持可靠和向后兼容。

*第六章* ，*高级 API 概念和实现*，深入探讨了构建稳健且用户友好的 API 的关键技术。您将探索高级数据处理方法，如分页、过滤和通过 REST API 的文件上传/下载。本章还涵盖了 HATEOAS 以改善 API 导航，并介绍了弹性模式，使您的 API 在现实世界场景中更加可靠和容错。

*第七章* ，*保护您的 RESTful API*，专注于保护您的 API 免受未经授权的访问和安全威胁。您将了解身份验证和授权技术，探索 OWASP 的关键安全原则，并了解如何通过管理**常见漏洞和暴露**（**CVEs**）来应对常见漏洞，以确保您的 API 安全可靠。

*第八章* ，*稳健 API 的测试策略*，探讨了传统 API 测试方法和生成式 AI 对测试过程的影响。您将了解 AI 工具如 ChatGPT 如何改变测试创建过程，使其更快、更智能、更有效，同时仍涵盖构建可靠 API 所必需的基本测试类型、工具和最佳实践。

*第九章* ，*监控和可观察性*，深入探讨了在 RESTful API 中进行日志记录和跟踪的最佳实践。您将了解结构化日志、关联 ID 和集中式过滤器如何帮助进行有效的故障排除，而像 Micrometer 和 OpenTelemetry 这样的分布式跟踪工具则提供了对分布式系统中服务性能和请求流的深入可见性。

*第十章*，*扩展和性能优化技术*，涵盖了提高 RESTful API 速度和可扩展性的基本策略。您将了解以性能为重点的设计、利用 Java 的虚拟线程、有效使用基础设施以及通过负载测试验证改进，以确保您的 API 能够高效地处理不断增长的需求。

*第十一章*，*构建 RESTful API 的替代 Java 框架*，提供了对 Spring Boot 之外的流行 Java 框架的高级概述。您将探索标准化的好处以及命令式和响应式编程之间的选择，并了解 Java EE、Jakarta EE 和 MicroProfile。本章还包括使用 Quarkus 和 Helidon 的实用示例，展示 REST 原则如何应用于不同的工具。

*第十二章*，*部署 API*，指导您将 Java RESTful API 从开发阶段迁移到生产阶段。您将探索部署准备、使用 Docker 进行容器化以及 PaaS 平台的使用。本章侧重于实用、适合初学者的工作流程，为未来更高级的 DevOps 实践奠定坚实基础。

# 要充分利用本书

本书主要面向使用或希望使用 REST API 的后端开发者。它也对希望深入了解 API 监控、部署、以健康方式管理 API 增长、避免破坏性更改以及提高弹性和安全性的架构师和技术负责人有所帮助。

## 下载示例代码文件

本书代码包托管在 GitHub 上，网址为[`github.com/PacktPublishing/Mastering-RESTful-Web-Services-with-Java`](https://github.com/PacktPublishing/Mastering-RESTful-Web-Services-with-Java)。我们还有其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing`](https://github.com/PacktPublishing)找到。查看它们吧！

## 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表彩色图像的 PDF 文件。您可以从这里下载：[`packt.link/gbp/9781835466100`](https://packt.link/gbp/9781835466100)。

## 使用的约定

本书使用了多种文本约定。

`CodeInText`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。例如：“要添加 Spring Data 依赖项，请在您的`pom.xml`文件中包含以下条目：”。

代码块应如下设置：

```java
 <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency> 
```

任何命令行输入或输出都应如下编写：

```java
curl -X 'GET' \ 
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词在文本中会像这样显示。例如：“为了遵循**不要重复自己（DRY）**原则，我们必须更新从版本 1 开始的代码。”

![img](img/Information_Box_Icon.png)

警告或重要注意事项会像这样显示。

![img](img/lightbulb.png)

小贴士和技巧会像这样显示。

# 联系我们

我们欢迎读者的反馈。

**一般反馈**：如果您对本书的任何方面有疑问或有任何一般性反馈，请通过电子邮件发送给我们[customercare@packt.com](https://www.mailto:customercare@packt.com)，并在邮件主题中提及本书的标题。

**勘误表**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在此书中发现错误，我们将不胜感激，如果您能向我们报告，请访问[`www.packt.com/submit-errata`](http://www.packt.com/submit-errata)，点击**提交勘误**，并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过电子邮件联系[copyright@packt.com](https://www.mailto:copyright@packt.com)，并提供材料的链接。

**如果您想成为一名作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[`authors.packt.com/`](http://authors.packt.com/)。

# 分享您的想法

一旦您阅读了《精通 Java RESTful Web 服务》，我们很乐意听听您的想法！请[点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1835466109)并分享您的反馈。

您的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在路上阅读，但无法携带您的印刷书籍到处走吗？

您选择的设备是否不兼容您的电子书购买？

别担心，现在每购买一本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠不会就此停止，您还可以获得独家折扣、时事通讯以及每天收件箱中的优质免费内容。

按照以下简单步骤获取好处：

1.  扫描下面的二维码或访问以下链接：

![img](img/B21843_Free_PDF_QR.png)

[`packt.link/free-ebook/9781835466100`](https://packt.link/free-ebook/9781835466100)

1.  提交您的购买证明。

1.  就这些！我们将直接将您的免费 PDF 和其他优惠发送到您的电子邮件。

# 分享您的想法

一旦您阅读了 *《精通 Java RESTful Web 服务》*，我们非常期待听到您的想法！扫描下面的二维码直接进入此书的亚马逊评论页面并分享您的反馈。

[`packt.link/r/1835466109`](https://packt.link/r/1835466109)

您的评论对我们和科技社区都非常重要，并将帮助我们确保我们提供高质量的内容。
