# 前言

作为一名 Web 开发者，我喜欢创造新事物，快速上线，然后转向我的下一个想法。

在一个所有应用程序都相互连接的世界里，我们需要与社交媒体互动来推广我们的产品，提供复杂的系统，为我们的用户提供巨大的价值。

直到最近，所有这些对于 Java 开发者来说都是一个遥远且复杂的世界。随着 Spring Boot 的诞生和云平台的民主化，我们现在可以以创纪录的时间创建令人惊叹的应用程序，并将它们提供给每个人，而不需要花费一分钱。

在本书中，我们将从头开始构建一个有用的 Web 应用程序。一个具有许多精美功能的应用程序，例如国际化、表单验证、分布式会话和缓存、社交登录、多线程编程等等。

此外，我们还将对其进行全面测试。

到本书结束时，我们将发布我们的小型应用程序并将其发布到网络上。

如果这听起来很有趣，那我们就不要浪费时间，动手编写代码吧！

# 本书涵盖内容

第一章, *快速搭建 Spring Web 应用*，使我们能够快速开始使用 Spring Boot。它涵盖了将使我们更高效的工具，例如 Spring Tool Suite 和 Git。它还将帮助我们快速搭建应用程序框架，并揭示 Spring Boot 背后的魔法。

第二章, *精通 MVC 架构*，引导我们创建一个小型 Twitter 搜索引擎。在这个过程中，它涵盖了 Spring MVC 的基础和 Web 架构的原则。

第三章, *处理表单和复杂的 URL 映射*，帮助您了解如何创建用户资料表单。它涵盖了如何在服务器端以及客户端验证我们的数据，并使我们的应用程序支持不同的语言。

第四章, *文件上传和错误处理*，引导您将文件上传添加到您的个人资料表单中。它演示了在 Spring MVC 中正确处理错误并显示自定义错误页面。

第五章, *构建 RESTful 应用程序*，解释了 RESTful 架构的原则。它还帮助我们创建一个可通过 HTTP 调用访问的用户管理 API，了解哪些工具可以帮助我们设计这个 API，并讨论如何轻松地对其进行文档化。

第六章, *保护您的应用程序*，引导我们保护我们的应用程序。它涵盖了如何使用基本的 HTTP 身份验证来保护我们的 RESTful API，以及如何在登录页面之后保护我们的网页。它演示了如何通过 Twitter 启用登录并将我们的会话存储在 Redis 服务器上，以允许我们的应用程序进行扩展。

第七章，*别把希望寄托在运气上 – 单元测试和验收测试*，帮助我们测试我们的应用程序。它讨论了测试和 TDD，并涵盖了如何对控制器进行单元测试以及如何使用现代库设计端到端测试。它以 Groovy 如何提高我们的生产力和测试的可读性结束。

第八章，*优化你的请求*，带我们了解如何优化我们的应用程序。它涵盖了如何使用缓存控制和 Gzipping。本章教你如何在内存中和 Redis 中缓存我们的 Twitter 搜索结果，并展示了如何多线程搜索。作为额外奖励，实现 Etags 和使用 WebSockets 也包含在内。

第九章，*将你的 Web 应用程序部署到云端*，指导我们如何发布我们的应用程序。它展示了如何比较不同的 PaaS 解决方案。然后，它演示了如何在 Cloud Foundry 和 Heroku 上部署应用程序。

第十章，*超越 Spring Web*，讨论了 Spring 生态系统，现代 Web 应用程序由什么组成，以及从这里可以走向何方。

# 你需要为这本书准备的东西

虽然我们将构建一个前沿的 Web 应用程序，但我们不需要你安装很多东西。

我们将要构建的应用程序需要 Java 8。

你不是必须这么做，但你绝对应该使用 Git 来版本控制你的项目。如果你想在 Heroku 上部署你的应用程序，这将是有必要的。此外，你将能够轻松地备份你的工作，并查看代码通过差异和历史记录的演变。本书的第一章提供了几个开始使用 Git 的资源。

我还推荐你使用一个好的 IDE。我们将看到如何快速开始使用 Spring Tool Suite（免费）和 IntelliJ Idea（你可以获得一个月的试用版）。

如果你有一台 Mac，你应该检查 Homebrew ([`brew.sh`](http://brew.sh))). 使用这个包管理器，你可以安装本书中使用的任何工具。

# 这本书是为谁而写的

这本书非常适合熟悉 Spring 编程基础且渴望扩展他们的 Web 开发技能的开发者。建议具备 Spring 框架的先验知识。

# 习惯用法

在这本书中，你会找到许多不同风格的文本，用于区分不同类型的信息。以下是一些这些风格的示例，以及它们含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示："你将在`build/libs`目录中找到 JAR 文件"。

代码块设置如下：

```java
public class ProfileForm {
    private String twitterHandle;
    private String email;
    private LocalDate birthDate;
    private List<String> tastes = new ArrayList<>();

    // getters and setters
}
```

当我们希望引起你对代码块中特定部分的注意时，相关的行或项目将被设置为粗体：

```java
public class ProfileForm {
    private String twitterHandle;
    private String email;
    private LocalDate birthDate;
    private List<String> tastes = new ArrayList<>();

    // getters and setters
}
```

任何命令行输入或输出都应如下所示：

```java
$ curl https://start.spring.io

```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示：“转到新项目菜单并选择**Spring Initializr**项目类型”。

### 注意

警告或重要注意事项以这种方式出现在一个框中。

### 小贴士

小贴士和技巧看起来像这样。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大价值的书籍非常重要。

要发送给我们一般反馈，只需发送电子邮件到`<feedback@packtpub.com>`，并在您的邮件主题中提及书籍标题。

如果您在某个主题领域有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 书籍的骄傲拥有者了，我们有一些事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)的账户下载您购买的所有 Packt 书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您也可以从[`github.com/Mastering-Spring-MVC-4/mastering-spring-mvc4`](https://github.com/Mastering-Spring-MVC-4/mastering-spring-mvc4)下载这本书的示例代码。

## 错误清单

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进此书的后续版本。如果您发现任何错误清单，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误提交表单**链接，并输入您的错误详细信息来报告它们。一旦您的错误清单得到验证，您的提交将被接受，错误清单将被上传到我们的网站，或添加到该标题的现有错误清单中，在“错误清单”部分下。任何现有错误清单都可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看。

## 盗版

互联网上版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即向我们提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过链接发送至 `<copyright@packtpub.com>` 与我们联系，以提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者以及为我们提供有价值内容方面的帮助。

## 问题和建议

如果你在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 与我们联系，我们将尽力解决。
