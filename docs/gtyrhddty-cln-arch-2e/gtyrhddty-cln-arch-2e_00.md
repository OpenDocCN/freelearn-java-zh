# 前言

如果你拿起这本书，你关心你正在构建的软件架构。你希望你的软件不仅满足客户的明确要求，还要满足可维护性的隐性要求，以及你自己的关于结构和美学的需求。

满足这些要求很难，因为软件项目（或者更一般地说，项目）通常不会按计划进行。经理们在整个项目团队周围设定截止日期 1，外部合作伙伴构建的 API 与承诺的不同，而我们依赖的软件产品并不按预期工作。

1 “截止日期”这个词可能起源于 19 世纪，描述的是围绕监狱或囚犯营地画的一条线。越过这条线的囚犯会被枪毙。下次有人在你周围“设定截止日期”时，想想这个定义……这肯定会打开新的视角。参见[`www.merriam-webster.com/words-at-play/your-deadline-wont-kill-you`](https://www.merriam-webster.com/words-at-play/your-deadline-wont-kill-you)。

然后是我们的软件架构。一开始它非常美好。一切都很清晰和美丽。然后截止日期迫使我们走捷径。现在，架构中只剩下这些捷径，交付新功能所需的时间越来越长。

我们以捷径驱动的架构使得对必须更改的 API 做出反应变得困难，因为外部合作伙伴出了问题。似乎更容易让我们的项目经理与该合作伙伴战斗，告诉他们交付我们已同意的 API。

现在，我们已经放弃了所有对局势的控制。很可能会发生以下事情之一：

+   项目经理不足以赢得与外部合作伙伴的战斗

+   外部合作伙伴在 API 规范中找到一个漏洞，证明他们是正确的

+   外部合作伙伴需要再过*<在此处输入数字>*个月来修复 API

所有这些都导致同样的结果——我们必须快速更改代码，因为截止日期即将到来。

我们又添加了一个捷径。

这本书采取的立场不是让外部因素控制我们的软件架构状态，而是我们自己掌握控制权。我们通过创建一个使软件变得“灵活”、“可扩展”和“可适应”的架构来实现这种控制。这样的架构将使我们对外部因素的反应变得容易，并减轻我们背上的压力。

# 这本书的目标

我写这本书是因为我对领域中心架构风格（如 Robert C. Martin 的《Clean Architecture》和 Alistair Cockburn 的《Hexagonal Architecture》）可用资源的实用性感到失望。

许多书籍和在线资源解释了有价值的概念，但没有说明我们如何实际实现它们。

这可能是因为实现任何架构风格都有不止一种方法。

通过这本书，我试图通过提供关于以六边形架构或“端口和适配器”风格创建 Web 应用程序的动手代码讨论来填补这一空白。为了达到这个目标，本书中讨论的代码示例和概念提供了我对如何实现六边形架构的解释。当然，还有其他解释，我并不声称我的解释是权威的。

然而，我确实希望，你能从这本书中的概念中获得一些灵感，以便你可以创建自己对于六边形/整洁架构的解释。

# 本书面向对象

本书面向所有层次的软件开发者，他们参与创建 Web 应用程序。作为一名初级开发者，你将学习如何以干净和可维护的方式设计软件组件和应用程序。你还将学习一些何时应用特定技术的论点。然而，你应该参与过构建 Web 应用程序，以便充分利用这本书。如果你是经验丰富的开发者，你将享受将书中的概念与自己的做事方式进行比较，并希望将一些片段融入自己的软件开发风格中。本书中的代码示例使用 Java 和 Kotlin 编写，但所有讨论都同样适用于其他面向对象编程语言。如果你不是 Java 程序员，但能阅读其他语言中的面向对象代码，你没问题。在需要一些 Java 或框架特定信息的地方，我会解释它们。

# 示例应用

为了在整本书中保持一个反复出现的主题，大多数代码示例展示了用于在线转账的示例 Web 应用程序的代码。我们将称之为“BuckPal”。2

2 BuckPal：快速在线搜索发现，一家名为 PayPal 的公司盗用了我的想法，甚至复制了部分名称。开玩笑地说：尝试找到一个与“PayPal”类似但不属于现有公司名称的名字。这真是太有趣了！

BuckPal 应用程序允许用户注册账户，在账户之间转账，并查看账户上的活动（存款和取款）。

我绝不是金融专家，所以请不要根据法律或功能正确性来判断示例代码。相反，请根据结构和可维护性来判断。

软件工程书籍和在线资源中示例应用的诅咒在于它们过于简单，无法突出我们每天努力解决的现实世界问题。另一方面，示例应用必须足够简单，才能有效地传达讨论的概念。

我希望在我们讨论 BuckPal 应用程序的用例时，在“过于简单”和“过于复杂”之间找到了一个平衡。

示例应用的代码可以在 GitHub 上找到。3

3 BuckPal GitHub 仓库：[`github.com/thombergs/buckpal`](https://github.com/thombergs/buckpal)。

# 下载彩色图像

我们还提供包含本书中使用的截图和图表的彩色图像的 PDF 文件。请查看本书末尾的注释。4

4 本书使用的彩色图像的 PDF 版本：[`packt.link/eBKMn`](https://packt.link/eBKMn)。

# 联系我们

如果您对本书有任何意见，我非常乐意听到！请通过电子邮件直接与我联系至 tom@reflectoring.io 或在 Twitter 上通过`@TomHombergs`联系我。

**总体反馈**：如果您对本书的任何方面有任何疑问，请通过电子邮件发送至 customercare@packtpub.com，并在邮件主题中提及书名。

**勘误**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在本书中发现任何错误，我们将不胜感激，如果您能向我们报告，我们将不胜感激。请访问 www.packtpub.com/support/errata 并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，我们将不胜感激，如果您能提供位置地址或网站名称，我们将不胜感激。请通过 copyright@packt.com 与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为本书做出贡献，请访问 authors.packtpub.com。

# 分享您的想法

一旦您阅读了《Get Your Hands Dirty on Clean Architecture–Second Edition》，我们非常乐意听到您的想法！请[点击此处直接进入本书的亚马逊评论页面](https://www.packtpub.com/)并分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载本书的免费 PDF 副本

感谢您购买本书！

您喜欢在路上阅读，但无法携带您的印刷书籍到处走？

您的电子书购买是否与您选择的设备不兼容？

不要担心，现在，每购买一本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止这些，您还可以获得独家折扣、时事通讯和每日收件箱中的精彩免费内容。

按照以下简单步骤获取优惠：

1.  扫描二维码或访问以下链接

![图片](img/B19916_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781805128373`](https://packt.link/free-ebook/9781805128373)

2. 提交您的购买证明

3. 就这些了！我们将直接将您的免费 PDF 和其他优惠发送到您的电子邮件。
