# 前言

企业应用程序开发是一种在这个快节奏的技术世界中很少被承认的艺术形式。本书描述了使用两种最流行的技术——Spring 框架和 Sencha Ext JS——简化大规模开发项目的模式和策略。每一章都定义并构建了企业应用程序堆栈中的一个简洁层，压缩了多年开发实际项目所获得的 Web 开发方法。我们涵盖了相当广泛的概念领域，所以准备好迎接一个有趣的旅程！

本书不是 Java、JavaScript 或任何 Web 开发概念的介绍。书中包含大量实际的 Java 和 JavaScript 代码，因此需要对这些技术有一定的了解。如果你对 Java 和相关概念如面向对象编程不熟悉，那么在跟随示例和解释时可能会感到困难。同样适用于 Ext JS 开发；你需要对基本概念有一定的经验，包括框架 API，才能跟随大多数示例。

你不需要成为专家，但初学者可能希望从其他地方开始他们的旅程。

无论您的经验和背景如何，本书提供的实际示例都是以彻底覆盖每个概念为目标，然后再进入下一章。

# 本书涵盖的内容

第一章，“准备开发环境”，讨论了开发环境的安装和配置，包括 Java 开发工具包、NetBeans 和 MySQL。我们还将介绍 Maven，创建一个新的 NetBeans 项目，并将项目部署到 GlassFish 4 应用服务器。

第二章，“任务时间跟踪数据库”，定义了任务时间跟踪（3T）数据库设计，并帮助配置 NetBeans 作为 MySQL 服务器的客户端。我们创建和填充所有表，并确定可能适用于企业使用的可能增强功能。

第三章，“使用 JPA 反向工程领域层”，帮助我们使用 NetBeans IDE 对 3T 数据库进行反向工程，创建 JPA 实体的领域层。在我们检查和定义核心 JPA 概念时，这些实体将被探讨和重构。

第四章，“数据访问变得容易”，介绍了数据访问对象（DAO）设计模式，并帮助使用我们在上一章中定义的领域类实现健壮的数据访问层。还介绍了 Java 泛型和接口、简单日志门面（SLF4J）、JPA EntityManager 和事务语义。

第五章，“使用 Spring 和 JUnit 测试 DAO 层”，介绍了 JUnit 测试环境的配置以及为我们的 DAO 实现开发测试用例。我们介绍了 Spring 控制反转（IoC）容器，并探讨了 Spring 配置以将 Spring 管理的 JUnit 测试与 Maven 集成。

第六章，“回到业务-服务层”，探讨了企业应用程序开发中服务层的作用。然后，我们通过数据传输对象（DTO）设计模式使用值对象（VO）来实现我们的 3T 业务逻辑。我们还探讨了在编写实现之前编写测试用例——这是测试驱动开发和极限编程的核心原则。

第七章，“网络请求处理层”，为生成 JSON 数据的 Web 客户端定义了一个请求处理层，该层使用 Java EE 7 中引入的新 API——Java API for JSON processing。我们实现了轻量级的 Spring 控制器，介绍了 Spring 处理程序拦截器，并使用 Java 类配置了 Spring MVC。

第八章，“在 GlassFish 上运行 3T”，完成了我们的 Spring 配置，并允许我们将 3T 应用程序部署到 GlassFish 4 服务器。我们还配置 GlassFish 4 服务器，使其能够独立于 NetBeans IDE 运行，就像在企业环境中一样。

第九章，“开始使用 Ext JS 4”，介绍了强大的 Ext JS 4 框架，并讨论了核心的 Ext JS 4 MVC 概念和实际的设计约定。我们使用 Sencha Cmd 和 Ext JS 4 SDK 安装和配置我们的 Ext JS 开发环境，生成我们的 3T 应用程序框架。

第十章，“登录和用户维护”，帮助我们开发 3T 应用程序所需的 Ext JS 4 组件，并维护用户登录。我们将讨论 Ext JS 4 模型持久化，构建各种视图，审查应用程序概念，并开发两个 Ext JS 控制器。

第十一章，“构建任务日志用户界面”，继续加强我们对 Ext JS 4 组件的理解，同时实现任务日志用户界面。

第十二章，“3T 管理变得更容易”，使我们能够开发 3T 管理界面，并介绍了 Ext JS 4 树组件。我们将研究动态树加载，并实现拖放树操作。

第十三章，“将您的应用程序部署到生产环境”，将帮助我们准备、构建和部署我们的 3T 项目到 GlassFish 服务器。我们介绍了 Ext JS 主题化，将 Sencha Cmd 编译与 Maven 集成，自动化生成 Ext JS 4 app-all.js 文件的过程，并学习如何将我们的生产版本部署到 GlassFish 服务器上。

附录，“介绍 Spring Data JPA”，对 Spring Data JPA 进行了非常简要的介绍，作为第四章，“数据访问变得更容易”中讨论的实现的替代方案。

# 本书所需内容

本书中的示例可以在支持以下软件的任何 Windows、Mac 或 Linux 平台上运行：

+   Java 开发工具包（JDK）1.7

+   NetBeans 7.4+

+   MySQL 5+

+   Sencha Cmd

所有软件都可以在相应章节中列出的网站免费下载。

# 本书适合对象

本书特别适用于从事大型 Web 应用程序开发项目的人员，包括应用架构师、Java 开发人员和 Ext JS 开发人员。

## 应用架构师

架构师从技术角度理解全局图景，并负责制定开发标准的蓝图。本书将向您介绍 Spring Framework 和 Sencha Ext JS 的强大功能，以及在设计下一个项目时如何最好地利用这些技术。

## Java 开发人员

无论您的理解水平如何，您都将学习 Spring 框架如何鼓励良好的编程实践。这包括一个清晰的、分层的结构，易于增强和维护。对于 Spring 的新手来说，他们会惊讶于实现重大结果所需的努力是多么少。对于新手和有经验的 Spring 开发人员，重点将是企业 Web 开发的最佳实践，以实现与 Sencha Ext JS 客户端的无缝集成。如果您从未使用过 Sencha Ext JS，您会惊讶于强大的 UI 可以多快地将后端数据栩栩如生。

## Ext JS 开发人员

Sencha Ext JS 是一个强大的框架，用于构建跨浏览器兼容的企业应用程序。本书将从分析到提供完全功能的解决方案解决现实世界的问题。您将看到通常隐藏在 Ext JS 开发人员背后的许多开发阶段；您还将了解为客户端消费而生成 JSON 数据所需的步骤。关注 Ext JS 组件的章节将介绍基于最新 MVC 设计模式的可维护开发的简单策略。

# 约定

在本书中，您将找到一些区分不同类型信息的文本样式。以下是这些样式的一些示例，以及它们的含义解释。

文本中的代码单词、文件夹名称、文件名、文件扩展名、路径名、虚拟 URL 和用户输入显示如下：“`ManageTaskLogs`的定义如下：”

代码块设置如下：

```java
Ext.define('TTT.store.Task', {
    extend: 'Ext.data.Store',
    requires: ['TTT.model.Task'],
    model: 'TTT.model.Task',
    proxy: {
        type: 'ajax',
        url:'task/findAll.json',
        reader: {
            type: 'json',
            root: 'data'
        }
    }    
});
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目会以粗体显示：

```java
controllers: [
  'MainController',
  'UserController',
  'TaskLogController'
],
models: [
  'User',
  'Project',
 'Task',
 'TaskLog'
],
stores: [
  'User',
  'Project',
 'Task',
 'TaskLog'
]
```

任何命令行输入或输出都以以下方式编写：

```java
sencha –sdk ext compile -classpath=app page -yui -in index.html -out build/index.html

```

**新术语**和**重要单词**以粗体显示。例如，屏幕上看到的单词，例如菜单或对话框中的单词，会以这种方式出现在文本中：“如果存在，添加新的任务日志将保留当前选择的**日期**和**项目**：”。

### 注意

警告或重要说明会出现在这样的框中。

### 提示

提示和技巧会以这种方式出现。
