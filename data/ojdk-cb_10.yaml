- en: Chapter 10. Contributing to OpenJDK
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 10 章。为 OpenJDK 贡献
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Becoming a contributor
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成为贡献者
- en: Generating a patch with webrev
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 webrev 生成补丁
- en: Backporting OpenJDK v9 patches to OpenJDK v8
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 OpenJDK v9 补丁回滚到 OpenJDK v8
- en: Understanding OpenJDK groups
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 OpenJDK 小组
- en: Understanding OpenJDK projects
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 OpenJDK 项目
- en: Suggesting new JSRs
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提出新 JSR
- en: Suggesting new JEPs
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提出新 JEP
- en: Introduction
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: 'The OpenJDK community consists of lots of people who have different roles and
    responsibilities in a project. Such a structure evolved as a consequence of the
    scale of the project and its significance, otherwise it wouldn''t be controllable
    and you wouldn''t be able to progress further. The way in which OpenJDK is managed
    and structured can be described in two hierarchies: one is functional and the
    other is governance. These two hierarchies intercept, but not much. The only role
    which is present in both is **JDK Lead**, which is an OpenJDK member appointed
    by Oracle to manage the Java release project.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: OpenJDK 社区由许多人在项目中扮演不同角色和承担不同责任的人组成。这种结构是项目规模和重要性的结果，否则它将无法控制，也无法进一步发展。OpenJDK
    的管理和结构可以用两个层次来描述：一个是功能性的，另一个是治理性的。这两个层次相互交叉，但交叉不多。唯一在两者中都存在的角色是**JDK 领导者**，这是
    Oracle 指派的 OpenJDK 成员，负责管理 Java 发布项目。
- en: 'Functional hierarchy controls the change and development process. It defines
    the relationship between all the community members who are involved in proposing
    and making changes in OpenJDK. On the whole, it can be represented by the structure
    shown in the following figure:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 功能性层次控制变更和开发过程。它定义了所有参与在 OpenJDK 中提出和实施变更的社区成员之间的关系。总的来说，它可以由以下图中所示的结构表示：
- en: '![Introduction](img/8405_10_01.jpg)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![简介](img/8405_10_01.jpg)'
- en: A participant can be anyone who has participated in an OpenJDK project and this
    can be any type of participation. For example, it can be a discussion on the mailing
    list or creating a patch to fix a bug. Any participant can sign the **Oracle Contributor
    Agreement** (**OCA**) and become a contributor.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 参与者可以是任何参与过 OpenJDK 项目的任何人，这可以是任何类型的参与。例如，它可以是邮件列表上的讨论或创建补丁来修复错误。任何参与者都可以签署**Oracle
    贡献者协议**（**OCA**），成为贡献者。
- en: A contributor can work on any of the OpenJDK projects and be the **project author**
    if the project lead approves it. The project author can't push code into the repository
    and has to ask one of the project committers to do that. After an author gains
    the trust of the committers, he or she can be elected to become one of them. All
    code changes have to be approved before they go into the repository. This task
    is done by the project reviewers who are experienced committers and have a lot
    of authority. Some projects might not have the project reviewer's role.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 贡献者可以参与任何 OpenJDK 项目，如果项目领导批准，可以成为**项目作者**。项目作者不能将代码推送到仓库，而必须请求项目提交者之一来做。在作者获得提交者的信任后，他或她可以被选为其中之一。所有代码更改都必须在进入仓库前获得批准。这项任务由经验丰富的提交者（项目审查员）完成，他们拥有很大的权限。有些项目可能没有项目审查员的角色。
- en: Also, a contributor can become an OpenJDK member and participate in the OpenJDK
    groups. To become an OpenJDK member, the contributor needs to demonstrate a history
    of significant contribution and should be elected by the votes of the existing
    OpenJDK members. Being a member allows one to become an OpenJDK group member by
    joining one or more groups. Group members are nominated by existing group members
    so, to join a group, a member must have some history of contribution to that group.
    It is worth adding that the order of membership can be reversed—a contributor
    can be elected to become a group member and this can then become the route to
    be an OpenJDK member.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，贡献者可以成为 OpenJDK 成员并参与 OpenJDK 小组。要成为 OpenJDK 成员，贡献者需要证明有显著的贡献历史，并且应由现有的 OpenJDK
    成员投票选举。成为成员后，可以通过加入一个或多个小组成为 OpenJDK 小组成员。小组成员由现有小组成员提名，因此，要加入一个小组，成员必须对该小组有一些贡献历史。值得一提的是，成员资格的顺序可以颠倒——贡献者可以被选为小组成员，这可以成为成为
    OpenJDK 成员的途径。
- en: Each OpenJDK group is responsible for the area of JDK. For example, there is
    a *Swing Group*, *Security Group*, and so on. Each group has a group lead and
    group members. A group can sponsor projects, for example, as already mentioned,
    the Swing Group is a sponsor for projects such as *OpenJFX* and *Swing Application
    Framework*. As we mentioned earlier, any contributor can work on a sponsored project.
    The contributor is not required to be an Open JDK member or a group member to
    do this.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 每个OpenJDK小组负责JDK的领域。例如，有一个*Swing小组*、*安全小组*等等。每个小组都有一个小组负责人和小组成员。一个小组可以赞助项目，例如，如前所述，Swing小组是*OpenJFX*和*Swing应用程序框架*等项目的赞助商。正如我们之前提到的，任何贡献者都可以参与赞助项目。贡献者不需要是Open
    JDK成员或小组成员才能这样做。
- en: 'The governance structure is represented by the *Governing Board*, which consists
    of several roles, as follows:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 管理结构由*管理委员会*表示，该委员会由几个角色组成，如下所示：
- en: '**Chair**: This role is appointed by Oracle. This person is the lead of the
    Governing Board.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主席**：这个角色由Oracle任命。这个人是管理委员会的负责人。'
- en: '**Vice Chair**: This role is appointed by IBM'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**副主席**：这个角色由IBM任命'
- en: '**OpenJDK Lead**: This role is appointed by Oracle. This person also leads
    the Java Release project.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**OpenJDK负责人**：这个角色由Oracle任命。这个人还领导Java发布项目。'
- en: '**Two At-Large members**: These two members are chosen by a vote of the OpenJDK
    members.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**两名非正式成员**：这两名成员是通过OpenJDK成员的投票选择的。'
- en: The governing board's responsibility is to define new processes or refine existing
    ones, and update and support the Bylaws. The Governing Board is empowered to resolve
    procedural disputes within community, but it is not an executive body. The latter
    means that it has no direct authority over the technical or release decisions.
    Interestingly, the Governing Board and also the OpenJDK group can also sponsor
    projects.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 管理委员会的职责是定义新的流程或改进现有的流程，并更新和支持章程。管理委员会有权在社区内解决程序性争议，但它不是一个执行机构。这意味着它对技术或发布决策没有直接权威。有趣的是，管理委员会和OpenJDK小组也可以赞助项目。
- en: For those who are interested in the details of the hierarchy of OpenJDK roles,
    groups, projects, and their relationships, it is worth taking a look at the *bylaws*
    ([http://openjdk.java.net/bylaws](http://openjdk.java.net/bylaws)), which cover
    all these things in detail.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些对OpenJDK角色、组、项目及其关系的层次结构细节感兴趣的人来说，查看*章程*([http://openjdk.java.net/bylaws](http://openjdk.java.net/bylaws))是值得的，它详细涵盖了所有这些内容。
- en: Becoming a contributor
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 成为贡献者
- en: Becoming a participant is very easy. The only thing that is required is to be
    interested in OpenJDK and, as a minimum, participate in discussions on mailing
    lists. Participants can ask OpenJDK members to add code into the code base, but
    they can't do it themselves. Contributors, however, have a more involved role,
    These people can submit patches and have more influence on the project.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 成为参与者非常容易。唯一需要的是对OpenJDK感兴趣，并且至少参与邮件列表上的讨论。参与者可以向OpenJDK成员请求将代码添加到代码库中，但他们自己不能这样做。然而，贡献者有一个更复杂的角色，这些人可以提交补丁，并对项目有更大的影响力。
- en: Getting ready
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To get ready to follow this recipe is easy; all that is required is a desire
    to become a participant. It is important to understand that it is not a quick
    process and can easily take several weeks or even months. So, be patient and do
    not give up.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 准备遵循这个食谱很容易；所需的一切只是一个成为参与者的愿望。重要的是要理解这不是一个快速的过程，可能需要几周甚至几个月。所以，要有耐心，不要放弃。
- en: As preparing a patch requires running the Kron shell script, a machine needs
    to have that shell installed. If a Windows machine is used, then Cygwin is required
    on the system.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 准备补丁需要运行Kron shell脚本，因此需要安装该shell。如果使用Windows机器，则系统需要Cygwin。
- en: How to do it...
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'The next steps will describe how to become a participant of OpenJDK. Keep in
    mind that this is not a deterministic process and, in practice, it might either
    need a few additional steps or some of the following steps might not be required:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步将描述如何成为OpenJDK的参与者。请记住，这不是一个确定性的过程，在实践中，可能需要几个额外的步骤，或者以下步骤中的一些可能不需要：
- en: The first step is to become visible to other members of the OpenJDK community.
    This can be achieved by participating in the discussions on mailing lists, and
    it would be good to suggest a couple of small fixes and ask one of the OpenJDK
    members or contributors to submit them. This will show that you are interested
    in OpenJDK and how to contribute to it.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一步是让其他 OpenJDK 社区成员看到你。这可以通过参与邮件列表上的讨论来实现，并且提出一两个小修复并请求 OpenJDK 成员或贡献者提交它们是个好主意。这将表明你对
    OpenJDK 感兴趣以及如何为其做出贡献。
- en: Then, create an account in [Java.net](http://Java.net) by filling the form at
    [https://java.net/people/new](https://java.net/people/new). This account is needed
    for [Java.net](http://Java.net), OpenJDK bug tracking, and the source repository.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，通过填写 [https://java.net/people/new](https://java.net/people/new) 上的表格在 [Java.net](http://Java.net)
    创建一个账户。这个账户用于 [Java.net](http://Java.net)、OpenJDK 错误跟踪和源代码库。
- en: The next step is to sign the **Oracle Contribution Agreement** (**OCA**). It
    needs to be downloaded from [http://www.oracle.com/technetwork/oca-405177.pdf](http://www.oracle.com/technetwork/oca-405177.pdf).
    Read the agreement carefully and understand it, before signing it. Luckily, it
    is just one page long. Then, sign it and e-mail the scan to `<[oracle-ca_us@oracle.com](mailto:oracle-ca_us@oracle.com)>`.
    It might take a couple of weeks to receive a response. So, if the stipulated time
    has passed and you still haven't heard back, then it is worth sending a reminder.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一步是签署**Oracle 贡献协议**（**OCA**）。需要从 [http://www.oracle.com/technetwork/oca-405177.pdf](http://www.oracle.com/technetwork/oca-405177.pdf)
    下载。在签署之前，仔细阅读并理解协议。幸运的是，它只有一页长。然后，签署并扫描电子邮件发送到 `<[oracle-ca_us@oracle.com](mailto:oracle-ca_us@oracle.com)>`。可能需要几周时间才能收到回复。所以，如果规定的时间已经过去，而你还没有收到回复，那么发送一个提醒是值得的。
- en: Once you get back the OCA response from Oracle, it's time to find out what your
    contribution is going to be. Probably, the easiest thing is to find a bug and
    work on a fix for it. Bugs can be found on the OpenJDK JIRA at [https://bugs.openjdk.java.net/](https://bugs.openjdk.java.net/).
    Pick something that is not assigned to anyone. Be sure to choose something that
    will not require interface changes or any significant development.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你从 Oracle 收到 OCA 的回复，就是时候了解你的贡献将是什么了。可能最简单的事情就是找到一个错误并为它修复。错误可以在 OpenJDK JIRA
    [https://bugs.openjdk.java.net/](https://bugs.openjdk.java.net/) 上找到。选择一个尚未分配给任何人的错误。务必选择一个不需要接口更改或任何重大开发的错误。
- en: 'Before doing the actual work, it would be a good idea to discuss the bug and
    the proposed fix on the mailing list for the appropriate project. It is recommended
    to use the format, `<bugid>: <bug_description>` as the subject, for example, `JDK-8042253:
    StressRedefine tests timeout`.'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '在实际工作之前，最好在适当项目的邮件列表上讨论这个错误和提出的修复方案。建议使用格式，`<bugid>: <bug_description>` 作为主题，例如，`JDK-8042253:
    StressRedefine 测试超时`。'
- en: Carry out a fix. It is good idea to do the jtreg regression test for any work
    that was done in the scope of the fix.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行修复。对于在修复范围内所做的任何工作，进行jtreg回归测试是个好主意。
- en: Generate a patch for review using `webrev:[user@localhost hotspot]$ ksh ../make/scripts/webrev.ksh`.
    Make sure that the generated `webrev.zip` file is available for the relevant community.
    For example, it can be put on a file hosting with public access. Regular contributors
    prefer to use `cr.openjdk.java.net` for this purpose. For more details about webrev,
    see the *Generating a patch with webrev* recipe.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `webrev:[user@localhost hotspot]$ ksh ../make/scripts/webrev.ksh` 生成一个用于审查的补丁。确保生成的
    `webrev.zip` 文件可供相关社区使用。例如，可以将其放在一个公开访问的文件托管上。常规贡献者更喜欢使用 `cr.openjdk.java.net`
    来实现这一目的。有关 webrev 的更多详细信息，请参阅 *使用 webrev 生成补丁* 菜单。
- en: 'To post a patch, use the format `RFR <bugid>: <bug_description>`, as the subject
    for the mailing list. For example, `RFR JDK-8042253 StressRedefine tests timeout`,
    where **RFR** refers to **Request for Review**. Give the description of the patch
    and provide a link to the `webrev` file generated in the previous step.'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '要发布补丁，请使用格式 `RFR <bugid>: <bug_description>` 作为邮件列表的主题。例如，`RFR JDK-8042253
    StressRedefine 测试超时`，其中 **RFR** 代表 **请求审查**。提供补丁的描述并提供上一步生成的 `webrev` 文件的链接。'
- en: A review always means that there will be some cleanup, code changes, more tests,
    and so on. Carry out the updates, update `webrev`, and notify other members that
    changes have been made. Be ready since the process might need several iterations.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 审查总意味着将有一些清理、代码更改、更多测试等等。执行更新，更新 `webrev`，并通知其他成员已进行更改。准备好，因为这个过程可能需要多次迭代。
- en: Once everyone agrees that the fix is of a good quality, the sponsor will push
    the fix into the repository. At this stage, you might be asked to produce a changeset.
    Note that this step can take several weeks to execute.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦所有人都同意修复质量良好，发起人会将修复推送到仓库。在这个阶段，你可能会被要求生成一个变更集。请注意，这一步骤可能需要几周时间才能执行。
- en: See also
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: Some additional information on the code review process is available at [http://openjdk.java.net/guide/codeReview.html](http://openjdk.java.net/guide/codeReview.html).
    There is also documentation available on the change process as a whole. It is
    worth having a look at it at [http://openjdk.java.net/guide/changePlanning.html](http://openjdk.java.net/guide/changePlanning.html).
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于代码审查过程的更多信息可在[http://openjdk.java.net/guide/codeReview.html](http://openjdk.java.net/guide/codeReview.html)找到。关于整个变更过程的文档也是可用的。值得一看的是[http://openjdk.java.net/guide/changePlanning.html](http://openjdk.java.net/guide/changePlanning.html)。
- en: Generating a patch with webrev
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用webrev生成补丁
- en: Doing any update in a software product normally requires some kind of review
    process. The code should not be submitted into a repository unless someone else
    has already looked at it. In OpenJDK, the tool for this purpose is webrev, which
    allows you to create code reviews that can be shared with other members of the
    community.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在软件产品中进行任何更新通常都需要某种形式的审查过程。代码不应提交到仓库，除非有人已经查看过它。在OpenJDK中，用于此目的的工具是webrev，它允许你创建可以与其他社区成员共享的代码审查。
- en: Getting ready
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Webrev is a Korn shell script, which means that Korn shell must be installed
    on the machine before you can use it. On a Linux machine, run `yum install ksh`
    or an equivalent command. On a Windows machine, ensure that `ksh` in included
    in the Cygwin installation.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: Webrev是一个Korn shell脚本，这意味着在使用它之前，必须在机器上安装Korn shell。在Linux机器上，运行`yum install
    ksh`或等效命令。在Windows机器上，确保Cygwin安装中包含了`ksh`。
- en: Apart from the environment set up to create the patch review, some changes must
    be made in the source code as well. As an easy example, we can just modify some
    comments in a file, as discussed next. Open the file, `hotspot/src/os/linux/vm/jvm_linux.cpp`
    and update the header or just add a comment.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 除了设置用于创建补丁审查的环境之外，还必须在源代码中进行一些更改。作为一个简单的例子，我们可以修改文件中的某些注释，如以下所述。打开文件`hotspot/src/os/linux/vm/jvm_linux.cpp`并更新头文件或仅添加注释。
- en: How to do it...
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'As webdev is a shell script, start by launching your shell and follow the given
    steps. It is assumed that the current folder is `jdk` source root and the amended
    file is `hotspot/src/os/linux/vm/jvm_linux.cpp`:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 由于webdev是一个shell脚本，请先启动你的shell，然后按照给定的步骤操作。假设当前文件夹是`jdk`源根目录，修改的文件是`hotspot/src/os/linux/vm/jvm_linux.cpp`：
- en: 'First, change the current folder to `hostpot`; it''s not strictly required,
    but it will make the webrev script do less work:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，将当前文件夹更改为`hostpot`；这不是严格必要的，但它会使webrev脚本的工作量减少：
- en: '[PRE0]'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Run the webrev script:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行webrev脚本：
- en: '[PRE1]'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: As can be seen from the output, it detected that `jvm_linux.cpp` was changed
    and generated review files which were put in the `hotspot/webrev` folder.
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如输出所示，它检测到`jvm_linux.cpp`已更改，并生成了放在`hotspot/webrev`文件夹中的审查文件。
- en: Now, in the `hotspot` folder, locate the `webrev.zip` file and make it available
    to anyone who is interested in the changes that you have just made. This file
    will have the same content as the `webrev` folder.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在`hotspot`文件夹中找到`webrev.zip`文件，并将其提供给任何对您刚刚所做的更改感兴趣的人。此文件将具有与`webrev`文件夹相同的内容。
- en: How it works…
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: As you have already noticed, webrev is just a shell script and, if you need
    to see how it works, then it should be relatively easy to do so. All it does is
    scan your disk for changes and compare them with the parent Mercurial forest.
    Then, based on the comparison, it generates various reports and a patch file.
    Finally, all the files are packed into a ZIP file, which is easy to share with
    other community members or with anyone who just wants to have a look at the change.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你已经注意到的，webrev只是一个shell脚本，如果你需要了解它是如何工作的，那么相对容易做到。它所做的只是扫描你的磁盘以查找更改，并将它们与父Mercurial森林进行比较。然后，根据比较结果，它生成各种报告和一个补丁文件。最后，所有文件都被打包成一个ZIP文件，这使得与其他社区成员或只是想查看更改的人分享变得容易。
- en: There's more...
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'Webrev has some command options which are displayed if you enter a command,
    which it doesn''t understand. For example, try to run this:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Webrev有一些命令选项，如果你输入一个它不理解的命令，就会显示出来。例如，尝试运行这个：
- en: '[PRE2]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This will print all the available command-line options and environment variables
    that can affect the execution of the script.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这将打印出所有可用的命令行选项和环境变量，它们可能会影响脚本的执行。
- en: See also
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: More information and several examples are available on the [openjdk.java.net](http://openjdk.java.net)
    website at [http://openjdk.java.net/guide/webrevHelp.html](http://openjdk.java.net/guide/webrevHelp.html)
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更多信息和几个示例可在 [openjdk.java.net](http://openjdk.java.net) 网站上的 [http://openjdk.java.net/guide/webrevHelp.html](http://openjdk.java.net/guide/webrevHelp.html)
    找到。
- en: The overall OpenJDK code review process is described at [http://openjdk.java.net/guide/codeReview.html](http://openjdk.java.net/guide/codeReview.html)
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整体 OpenJDK 代码审查过程描述在 [http://openjdk.java.net/guide/codeReview.html](http://openjdk.java.net/guide/codeReview.html)
- en: Backporting OpenJDK v9 patches to OpenJDK v8
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将 OpenJDK v9 补丁回滚到 OpenJDK v8
- en: In the scope of one of the initiatives for the improvement of the source code
    structure ([https://bugs.openjdk.java.net/browse/JDK-8051619](https://bugs.openjdk.java.net/browse/JDK-8051619))
    there are some significant changes in the way how the source files are located
    in OpenJDK v9\. It means that if someone is making a patch for OpenJDK v9 and
    wants these changes to be applied to OpenJDK v8, he/she has to follow a special
    procedure. That procedure will do the required transformation in the path of changed
    files.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在改进源代码结构的倡议之一（[https://bugs.openjdk.java.net/browse/JDK-8051619](https://bugs.openjdk.java.net/browse/JDK-8051619)）的范围内，OpenJDK
    v9 中源文件的定位方式发生了重大变化。这意味着如果有人为 OpenJDK v9 制作补丁，并希望这些更改应用于 OpenJDK v8，他/她必须遵循一个特殊的程序。该程序将在更改文件的路径上执行所需的转换。
- en: Getting ready
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: We need a computer which can run bash shell, that is, a Linux or Windows computer
    with Cygwin and the source code of OpenJDK v9 and OpenJDK v8.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要一个可以运行 bash shell 的计算机，即带有 Cygwin 的 Linux 或 Windows 计算机，以及 OpenJDK v9 和
    OpenJDK v8 的源代码。
- en: How to do it…
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'Following these steps, a developer can learn how to port changes from OpenJDK
    v9 to OpenJDK v8:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤，开发者可以学习如何将 OpenJDK v9 的更改移植到 OpenJDK v8：
- en: 'There is a special script that was created to help to port patches from OpenJDK
    v9 to OpenJDK v8\. This script is located in `common/bin/unshuffle_patch.sh`.
    Run this script with the `--help` argument to see its usage:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有一个特殊的脚本被创建出来，用于帮助将 OpenJDK v9 的补丁移植到 OpenJDK v8。此脚本位于 `common/bin/unshuffle_patch.sh`。使用
    `--help` 参数运行此脚本以查看其用法：
- en: '[PRE3]'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: If you can see the help output, it means that the script is available and should
    just work fine.
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你能看到帮助输出，这意味着脚本可用，应该可以正常工作。
- en: 'Now. just make the required change in the source tree, commit the code, and
    generate a patch. For our example, we will edit the `Sockets.java` file. Just
    add a new line with a few comments in it as shown:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，只需在源代码树中进行必要的更改，提交代码，并生成补丁。在我们的例子中，我们将编辑 `Sockets.java` 文件。只需添加一行带有几个注释的新行，如下所示：
- en: '[PRE4]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Next, get the revision number of the changeset:'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，获取更改集的修订号：
- en: '[PRE5]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Now, export the changeset that we just created to a patch file in an extended
    GIT format:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将我们刚刚创建的更改集导出为扩展 GIT 格式的补丁文件：
- en: '[PRE6]'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Then, run the script to make the patch compatible with the OpenJDK 8 source
    code tree:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，运行脚本以使补丁与 OpenJDK 8 源代码树兼容：
- en: '[PRE7]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Finally, change the current folder to the `jdk` directory in the `jdk8u` source
    root, copy the updated patch to it, and apply it:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，将当前文件夹更改为 `jdk8u` 源根目录中的 `jdk` 目录，将更新的补丁复制到其中并应用：
- en: '[PRE8]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: And that's it. Now all that is required is to commit the changes and then follow
    the normal process of making the changes in OpenJDK.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样。现在所需做的就是提交更改，然后遵循在 OpenJDK 中进行更改的正常流程。
- en: See also
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: To get some more information and to be up-to-date with the changes in the utilities,
    it is recommended that you visit its home page at [http://cr.openjdk.java.net/~chegar/docs/portingScript.html](http://cr.openjdk.java.net/~chegar/docs/portingScript.html)
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要获取更多信息并了解实用工具的变化，建议访问其主页 [http://cr.openjdk.java.net/~chegar/docs/portingScript.html](http://cr.openjdk.java.net/~chegar/docs/portingScript.html)
- en: Understanding OpenJDK groups
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解 OpenJDK 组
- en: OpenJDK groups look at wide areas of OpenJDK and define what projects are required
    to support these areas. For example, the Compiler Group's sponsored project Coin
    added new language features in JDK7, and the HotSpot Group's sponsored project
    Graal makes VM functionality available via a set of APIs. The groups usually have
    a much longer life than the projects and do not appear and disappear very often.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: OpenJDK 小组审视 OpenJDK 的广泛领域，并定义支持这些领域所需的项目。例如，编译器小组资助的项目 Coin 为 JDK7 添加了新的语言特性，而
    HotSpot 小组资助的项目 Graal 通过一组 API 使 VM 功能可用。小组通常比项目寿命更长，并且不会经常出现和消失。
- en: Getting ready
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: All that is required is a computer with access to the Internet, a web browser,
    and some patience.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 所需的只是能够访问互联网的电脑、一个网络浏览器和一些耐心。
- en: How to do it…
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'The following steps demonstrate documentation and some examples of groups on
    OpenJDK. They''ll also show what groups are, how they are managed, created, and
    what they do:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤展示了 OpenJDK 中的文档和一些小组的示例。它们还将展示小组是什么，如何管理、创建以及它们做什么：
- en: 'To become familiar with the definition of groups in OpenJDK, go to [http://openjdk.java.net/groups/](http://openjdk.java.net/groups/).
    There is information about various processes and procedures required to support
    groups and to make them function well. These procedures include the following
    topics:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要熟悉 OpenJDK 中小组的定义，请访问 [http://openjdk.java.net/groups/](http://openjdk.java.net/groups/)。那里有关于支持小组并使它们良好运行所需的各种流程和程序的信息。这些程序包括以下主题：
- en: Proposing a new group.
  id: totrans-94
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提议成立一个新的小组。
- en: Nominating a contributor to become a group member.
  id: totrans-95
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指定一个贡献者成为小组成员。
- en: Nominating a group member to become an OpenJDK member
  id: totrans-96
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指定一个小组成员成为 OpenJDK 成员
- en: Nominating a group lead
  id: totrans-97
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指定一个小组负责人
- en: Each group has some web content that is available publically. It can be found
    on the left-hand side of [http://openjdk.java.net/](http://openjdk.java.net/),
    under **Groups**. Usually the content on a group's page has a relatively standard
    structure and contains information such as the introduction, a list of specifications
    supported by the group, documentation, some guidelines on how to contribute, where
    to find the source code, and so on. Also, there are links to the mailing lists,
    blogs, and contact details. As an example, take a look at the JMX Group webpage
    at [http://openjdk.java.net/groups/jmx/](http://openjdk.java.net/groups/jmx/).
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每个小组都有一些公开的网页内容。您可以在左侧的 [http://openjdk.java.net/](http://openjdk.java.net/)
    找到这些内容，在 **Groups** 下。通常，小组页面上的内容具有相对标准的结构，并包含介绍、小组支持的规范列表、文档、一些关于如何贡献的指南、查找源代码的地方等信息。此外，还有邮件列表、博客和联系方式的链接。例如，您可以查看
    JMX 小组网页 [http://openjdk.java.net/groups/jmx/](http://openjdk.java.net/groups/jmx/)。
- en: We also recommended that you have a look at the list of projects and see which
    groups they belong to. This will give some idea about the relationship between
    groups and projects. The list of projects can be found on the left-hand side of
    [http://openjdk.java.net/](http://openjdk.java.net/) under **Groups**.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还建议您查看项目列表，看看它们属于哪些小组。这将有助于了解小组和项目之间的关系。项目列表可以在 [http://openjdk.java.net/](http://openjdk.java.net/)
    的左侧 **Groups** 下找到。
- en: See also
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考以下内容
- en: It is worth spending some time exploring [http://openjdk.java.net/](http://openjdk.java.net/)
    to see what is available and which groups exist. As we have already mentioned,
    group creation doesn't happen very often and no new groups have been created since
    2007\. The last one was the Conformance Group, which was proposed in September
    2007\. You can find the proposal e-mail in the mailing list archive at [http://mail.openjdk.java.net/pipermail/announce/2007-September.txt](http://mail.openjdk.java.net/pipermail/announce/2007-September.txt).
    See the last message in that file.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 值得花些时间去探索 [http://openjdk.java.net/](http://openjdk.java.net/)，看看有什么可用以及哪些小组存在。正如我们之前提到的，小组的创建并不经常发生，自
    2007 年以来没有创建新的小组。最后一个是在 2007 年 9 月提出的符合性小组。您可以在邮件列表存档 [http://mail.openjdk.java.net/pipermail/announce/2007-September.txt](http://mail.openjdk.java.net/pipermail/announce/2007-September.txt)
    中找到该提案电子邮件。查看该文件中的最后一条消息。
- en: Understanding OpenJDK projects
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解 OpenJDK 项目
- en: OpenJDK projects aim to deliver some kind of an artefact, which can be a source
    code, documentation, or something else. Projects are sponsored by one or more
    OpenJDK groups. By their nature, projects are much more short-lived than groups
    and often can cover the implementation of JEPs or JSRs.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: OpenJDK项目旨在交付某种形式的成果，这可能是一段源代码、文档或其他内容。项目由一个或多个OpenJDK小组赞助。根据其性质，项目通常比小组存在的时间更短，并且通常可以涵盖JEPs或JSRs的实现。
- en: How to do it…
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'This recipe takes you through some sources of information that are available
    about OpenJDK projects and gives some high-level information about them:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 这个食谱将带你了解关于OpenJDK项目的一些信息来源，并提供了关于它们的一些高层次信息：
- en: 'Similar to OpenJDK Groups, there is a web page that gives some definitions
    about the projects and defines how they function. This page is available at [http://openjdk.java.net/projects/](http://openjdk.java.net/projects/).
    Among the list of procedures, you will find the following:'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与OpenJDK小组类似，有一个网页提供了关于项目和它们如何运作的一些定义。这个页面可在[http://openjdk.java.net/projects/](http://openjdk.java.net/projects/)找到。在流程列表中，你会找到以下内容：
- en: Becoming an Author
  id: totrans-107
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成为作者
- en: Appointing a Contributor to be an Author
  id: totrans-108
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指派贡献者为作者
- en: Nominating a Contributor or Author to be a Committer
  id: totrans-109
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指派贡献者或作者成为提交者
- en: Nominating a Committer to be a Reviewer
  id: totrans-110
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指派提交者成为审阅者
- en: Proposing a New Project
  id: totrans-111
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提出新项目
- en: Very similar to groups, each project also has its own page on [http://openjdk.java.net/](http://openjdk.java.net/).
    The list of projects and the links to their pages can be found on the left-hand
    side of the website under **Projects**. The project page is not very informative,
    but might have a link to a wiki, which usually contains lots of information.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与小组非常相似，每个项目在[http://openjdk.java.net/](http://openjdk.java.net/)上也有自己的页面。项目列表及其页面链接可以在网站左侧的**项目**部分找到。项目页面可能不是很信息丰富，但可能包含指向wiki的链接，通常包含大量信息。
- en: As an example of how projects are created, we can look at the proposal for the
    project *Sumatra*, which can be found at [http://mail.openjdk.java.net/pipermail/announce/2012-September/000135.html](http://mail.openjdk.java.net/pipermail/announce/2012-September/000135.html).
    This thread also contains the voting results and, therefore, the decision to create
    that project.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为项目创建的一个例子，我们可以看看项目“Sumatra”的提案，该提案可在[http://mail.openjdk.java.net/pipermail/announce/2012-September/000135.html](http://mail.openjdk.java.net/pipermail/announce/2012-September/000135.html)找到。这个帖子还包含了投票结果，因此，创建该项目的决定也是基于这个投票。
- en: See also
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: As usual, it is recommended that you spend some time exploring [http://openjdk.java.net/](http://openjdk.java.net/)
    to see which projects are available.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如同往常，建议你花些时间探索[http://openjdk.java.net/](http://openjdk.java.net/)，看看有哪些项目可供选择。
- en: Suggesting new JSRs
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提出新JSR
- en: A **Java Specification Request** (**JSR**) is the request for a change to the
    specifications of the Java language, APS, JVM, and so on. Such changes are governed
    by the **Java Community Process** (**JCP**), where every member of the community
    can register and participate in the review.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**Java规范请求**（**JSR**）是对Java语言、APS、JVM等规范的变更请求。此类变更由**Java社区进程**（**JCP**）管理，社区中的每个成员都可以注册并参与审查。'
- en: This recipe is written as if you were submitting a JSR, but keep in mind that
    JSRs are not usually submitted by a single individual, but by a group of experts
    who come out with a proposal. The group has a Spec Lead who submits the JSR. So,
    this recipe is more about giving you a high-level understanding of the process,
    helping you to see how JSRs work, and what it is all about. To get some deeper
    insight, see the resources provided in the *See also* section.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 这个食谱是按照提交JSR的方式来写的，但请记住，JSR通常不是由单个个人提交的，而是由一群提出提案的专家团队提交的。该团队有一个规范负责人负责提交JSR。因此，这个食谱更多的是为了让你对整个过程有一个高层次的理解，帮助你了解JSR是如何运作的，以及它涉及的内容。要获得更深入的见解，请参阅“参见”部分提供的相关资源。
- en: In the following recipe, it can be seen that being a spec lead for JSR is not
    only a technical position, but it also involves doing lots of work with people
    and requires one to possess a good amount of soft and leadership skills. The leader
    has to push the project forward and has to be capable of handling difficult situations.
    There can be cases when some members of group of experts, for some reason, can't
    participate any more, or there is clash of personalities. The other possible situation
    is when the JSR itself faces complicated questions and is challenged by the other
    community members. Such questions have to be answered clearly and with enough
    knowledge and passion for people to believe that it's worth going forward and
    including that JSR into the JDK.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下食谱中，我们可以看到，成为JSR的规范负责人不仅是一个技术职位，还涉及到与人们做大量工作，并需要具备一定量的软技能和领导力。领导者必须推动项目前进，并能够处理困难情况。可能会出现某些专家组成员由于某些原因不能再参与的情况，或者存在个性冲突。另一种可能的情况是，JSR本身面临复杂的问题，并受到其他社区成员的挑战。这些问题必须得到清晰且知识丰富、充满热情的回答，以便人们相信继续前进并将该JSR纳入JDK是值得的。
- en: Getting ready
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: As this is a more procedural recipe, all that is required is a computer with
    access to the Internet and a web browser.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这是一个更程序化的食谱，所需的一切仅是一台可以访问互联网的计算机和浏览器。
- en: How to do it...
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何去做...
- en: 'The following steps, on a high-level, go through the stages of a JSR lifecycle,
    starting from the idea and finishing with the actual implemented change:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤从高层次上概述了JSR生命周期的各个阶段，从想法开始，到实际实施变更结束：
- en: As a start, it would be good to create a JCP account. This is required to submit
    a JSR proposal and to participate in any part of a JCP. The process is very simple.
    Just go to [https://jcp.org/en/home/index](https://jcp.org/en/home/index) and
    follow the steps in the registration link.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，创建一个JCP账户是个不错的选择。这是提交JSR提案和参与JCP任何部分所必需的。这个过程非常简单。只需访问[https://jcp.org/en/home/index](https://jcp.org/en/home/index)，然后按照注册链接中的步骤操作。
- en: It is good idea to explore the site and see what's already available there.
    The list of all JSRs is available at [https://www.jcp.org/en/jsr/all](https://www.jcp.org/en/jsr/all).
    Since the whole list can have too much information, there are options to filter
    JSRs by their stage in the approval process ([https://www.jcp.org/en/jsr/stage](https://www.jcp.org/en/jsr/stage)),
    by technology ([https://www.jcp.org/en/jsr/tech](https://www.jcp.org/en/jsr/tech)),
    by committee ([https://www.jcp.org/en/jsr/ec](https://www.jcp.org/en/jsr/ec)),
    or by the platform ([https://www.jcp.org/en/jsr/platform](https://www.jcp.org/en/jsr/platform)).
    There is also a list of JSRs by the ballot results, where you can find the results
    of voting for each year at [https://www.jcp.org/en/jsr/vote_summary](https://www.jcp.org/en/jsr/vote_summary).
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 好的想法是探索网站，看看那里已经有什么。所有JSR的列表可在[https://www.jcp.org/en/jsr/all](https://www.jcp.org/en/jsr/all)找到。由于整个列表可能包含太多信息，有选项可以按审批流程的阶段([https://www.jcp.org/en/jsr/stage](https://www.jcp.org/en/jsr/stage))、技术([https://www.jcp.org/en/jsr/tech](https://www.jcp.org/en/jsr/tech))、委员会([https://www.jcp.org/en/jsr/ec](https://www.jcp.org/en/jsr/ec))或平台([https://www.jcp.org/en/jsr/platform](https://www.jcp.org/en/jsr/platform))来过滤JSR。还有一个按投票结果列出的JSR列表，你可以在[https://www.jcp.org/en/jsr/vote_summary](https://www.jcp.org/en/jsr/vote_summary)找到每年投票的结果。
- en: If your proposal is something worth doing, then, similar to all OpenJDK change
    processes, describe the proposal on the relevant mailing list. This will ensure
    that the whole thing makes sense and helps to improve the quality of the material.
    As a spec lead, you need to have followers, that is, a group of experts who will
    participate in the JCR and push it forward. Such people can be found on mailing
    lists, relevant forums, or can be anyone who has the right mindset to participate
    and feels that your idea is worth doing.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的提案是值得做的事情，那么，类似于所有OpenJDK变更流程，你需要在相关的邮件列表上描述你的提案。这将确保整个流程合理，并有助于提高材料的质量。作为规范负责人，你需要有追随者，也就是说，一群将参与JCR并推动其前进的专家。这样的人可以在邮件列表、相关论坛上找到，或者可以是任何有正确心态并认为你的想法值得去做的人。
- en: To make an actual submission, fill the **Java Specification Request Proposal**,
    which is available at [https://jcp.org/en/jsr/proposal](https://jcp.org/en/jsr/proposal).
    After submission, the JSR has to go through the **JSR Approval Ballot**, which
    will determine whether the initial JSR submission should be approved.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要进行实际提交，请填写 **Java 规范请求提案**，该提案可在 [https://jcp.org/en/jsr/proposal](https://jcp.org/en/jsr/proposal)
    获取。提交后，JSR 必须经过 **JSR 审批投票**，这将决定初始 JSR 提交是否应该被批准。
- en: In the next stage, the group has to start working as a team, push the proposal
    forward, discuss it, and answer questions from other members of the community.
    It would be a good idea to have regular team calls, and regular face-to-face discussions
    can also be beneficial. This stage is probably the most important one, as it forms
    the precise shape of the JSR.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一阶段，该小组必须开始作为一个团队工作，推进提案，讨论它，并回答来自社区其他成员的问题。定期进行团队电话会议和定期的面对面讨论也可能有益。这个阶段可能是最重要的，因为它形成了
    JSR 的精确形状。
- en: All discussions have to be publically available and the expert group that has
    proposed the JSR has to publically answer all the raised questions. This also
    means that there has to be a publically available archive of all the communication
    on the matter.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有讨论都必须公开进行，提出 JSR 的专家小组必须公开回答所有提出的问题。这也意味着必须有一个公开可用的所有相关通信的存档。
- en: When all the responses for all the comments and questions have been received
    and the JSR is updated accordingly, it is ready for the final submission. The
    spec lead is responsible for completion and submitting the **Technology Compatibly
    Kit** (**TCK**) and the **Reference Implementation** (**RI**). If a JSR is targeted
    to several environments, then it might be required to submit a TCK and RI for
    each platform. The submission has to follow the process described in the *Final
    Release* section of the JCP 2 process at [https://jcp.org/en/procedures/jcp2#4](https://jcp.org/en/procedures/jcp2#4).
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当收到所有评论和问题的所有回复，并且 JSR 已相应更新后，它就准备好进行最终提交。规范负责人负责完成并提交 **技术兼容性套件**（**TCK**）和
    **参考实现**（**RI**）。如果 JSR 针对多个环境，则可能需要为每个平台提交一个 TCK 和 RI。提交必须遵循 JCP 2 流程中 *最终发布*
    部分所述的过程，见 [https://jcp.org/en/procedures/jcp2#4](https://jcp.org/en/procedures/jcp2#4)。
- en: After the final successful approval ballot, the spec lead will become the maintenance
    lead and the JSR will move to the maintenance stage. For details, see the *Maintenance*
    section of JCP 2 process at [https://jcp.org/en/procedures/jcp2#5](https://jcp.org/en/procedures/jcp2#5).
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在最终成功通过投票后，规范负责人将成为维护负责人，JSR 将进入维护阶段。有关详细信息，请参阅 JCP 2 流程中的 *维护* 部分，见 [https://jcp.org/en/procedures/jcp2#5](https://jcp.org/en/procedures/jcp2#5)。
- en: See also
  id: totrans-132
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: As the whole process is governed by JCP, it would be a good idea for you to
    go through the document at [https://jcp.org/en/procedures/jcp2](https://jcp.org/en/procedures/jcp2),
    which describes the latest version of the process. At the time of writing, the
    latest version was 2.9.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 由于整个过程由 JCP 管理，因此您最好查阅 [https://jcp.org/en/procedures/jcp2](https://jcp.org/en/procedures/jcp2)
    上的文档，该文档描述了流程的最新版本。在撰写本文时，最新版本为 2.9。
- en: On the JCP website at [https://jcp.org/en/resources/speclead_life](https://jcp.org/en/resources/speclead_life),
    there is a good article about being a spec lead that has some good insights and
    advice. It covers almost all the aspects of the role, starting from the submission
    of a JSR, and ending with building a team and communicating with people. It is
    definitely worth reading.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在 JCP 网站 [https://jcp.org/en/resources/speclead_life](https://jcp.org/en/resources/speclead_life)
    上，有一篇关于成为规范负责人的好文章，其中包含一些有价值的见解和建议。它涵盖了该角色的几乎所有方面，从 JSR 的提交开始，到建立团队和与人沟通结束。它绝对值得一读。
- en: As part of the JSR process, one is required to submit the **Technology Compatibility
    Kit** (**TCK**).This is the suite of tests that are designed to ensure that a
    particular implementation is compliant with the JSR. This piece can be considered
    as one of the most complicated parts of the JSR application. The most common tool
    to implement the set of tests is JT Harness, but there are also some cases where
    the TCK might be implemented based on JUnit or TestNG.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 作为 JSR 流程的一部分，需要提交 **技术兼容性套件**（**TCK**）。这是设计用来确保特定实现符合 JSR 的测试套件。这部分可以被认为是 JSR
    申请中最复杂的一部分。实现测试套件的最常见工具是 JT Harness，但也有一些情况下 TCK 可能基于 JUnit 或 TestNG 实现。
- en: The next revision of JCP is going to update some of the current process. This
    revision is covered by JSR 358\. To get more information about it, visit its home
    page at [https://java.net/projects/jsr358/pages/Home](https://java.net/projects/jsr358/pages/Home)
    and the JRS page at [https://jcp.org/en/jsr/detail?id=358](https://jcp.org/en/jsr/detail?id=358).
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个JCP版本将更新一些当前流程。这次修订由JSR 358负责。要了解更多信息，请访问其主页[https://java.net/projects/jsr358/pages/Home](https://java.net/projects/jsr358/pages/Home)和JRS页面[https://jcp.org/en/jsr/detail?id=358](https://jcp.org/en/jsr/detail?id=358)。
- en: Suggesting new JEPs
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提出新JEP
- en: 'JEP is the abbreviation for JDK Enhancement Proposal. It means a relatively
    big change in OpenJDK that requires significant implementation effort, but it
    doesn''t imply changes in the Java specification. The definition of JEP is covered
    in *JEP 1 JDK Enhancement-Proposal & Roadmap Process* which explains the details
    of definition of JEP, the process and the required documentation. As defined in
    JEP 1 ([http://openjdk.java.net/jeps/1](http://openjdk.java.net/jeps/1)), JEP
    has to meet at least one of the following criteria:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: JEP是JDK Enhancement Proposal的缩写。它意味着OpenJDK中相对较大的变更，需要大量的实施工作，但它并不暗示Java规范的变化。JEP的定义包含在*JEP
    1 JDK Enhancement-Proposal & Roadmap Process*中，该文档解释了JEP定义的细节、流程以及所需的文档。根据JEP
    1([http://openjdk.java.net/jeps/1](http://openjdk.java.net/jeps/1))的定义，JEP必须满足以下至少一项标准：
- en: It requires two or more weeks of engineering effort
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要两周或更长时间的工程努力
- en: It makes a significant change to the JDK, or to the processes and the infrastructure
    by which it is developed
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它对JDK或其开发流程和基础设施做出了重大改变
- en: It is in high demand by the developers or the customers
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 受到开发人员或客户的强烈需求
- en: This recipe will cover the definition of JEPs, their lifecycle, and how to find
    the latest information about them. It will also go through steps that are required
    for the creation of a JEP. Such an approach will allow you to get a good understanding
    of the process and see what JEPs are.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 此食谱将涵盖JEP的定义、其生命周期以及如何找到有关它们的最新信息。它还将介绍创建JEP所需的步骤。这种方法将使您对流程有一个良好的理解，并了解JEP是什么。
- en: Getting ready
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备中
- en: This recipe doesn't require any special tools. All you need is this book and,
    preferably, a computer with a web browser.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 此食谱不需要任何特殊工具。你只需要这本书，以及最好有一台带有网络浏览器的电脑。
- en: How to do it...
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'To start with, it is a good idea to have a look at what has already been submitted
    as JEPs. To get the full list of JEPs, just go to [http://openjdk.java.net/jeps/](http://openjdk.java.net/jeps/).
    There, you can find the complete list of JEPs with their status, name, and some
    more information about them. Here is an example of what you can see there:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，查看已经提交的JEP是一个好主意。要获取JEP的完整列表，只需访问[http://openjdk.java.net/jeps/](http://openjdk.java.net/jeps/)。在那里，您可以找到JEP的完整列表，包括其状态、名称以及更多相关信息。以下是一个示例：
- en: '![How to do it...](img/8405_10_02.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/8405_10_02.jpg)'
- en: 'As you can see from the list, the table of JEPs has several columns, which
    give a brief overview and some additional information. For example, the first
    column is the type of the JEP, `P` stands for `Process`, `F` for `Feature`, and
    so on. It is not that hard to find out the meaning of specific values if you click
    on **JEP** and have a look at its header:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 如您从列表中看到的，JEP表有多个列，提供了简要概述和一些附加信息。例如，第一列是JEP的类型，`P`代表`Process`，`F`代表`Feature`等。如果您点击**JEP**并查看其标题，就不难找出特定值的含义：
- en: '![How to do it...](img/8405_10_03.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![如何做...](img/8405_10_03.jpg)'
- en: 'Assuming that we have something completely new that is not in the list, and
    which definitely has to become a part of OpenJDK:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一些完全新的内容，不在列表中，但肯定需要成为OpenJDK的一部分：
- en: 'The next step is to read through *JEP 1: JDK Enhancement-Proposal & Roadmap
    Process*, which is available at [http://openjdk.java.net/jeps/1](http://openjdk.java.net/jeps/1).
    This covers the process and some mechanics of the process.'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '下一步是阅读*JEP 1: JDK Enhancement-Proposal & Roadmap Process*，该文档可在[http://openjdk.java.net/jeps/1](http://openjdk.java.net/jeps/1)找到。它涵盖了流程和流程的一些机制。'
- en: 'The next step is to do some more reading. *JEP 2: JEP Template* contains the
    template of the JEP. This template has to be filled in with the proposal details.
    The details will cover the overview, testing, dependencies, and so on. It is worthwhile
    looking at other JEP examples to fill the template. There is also a sample draft,
    available at [http://cr.openjdk.java.net/~mr/jep/draft-mcimadamore-inference-01.md](http://cr.openjdk.java.net/~mr/jep/draft-mcimadamore-inference-01.md).'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '下一步是进行更多阅读。*JEP 2: JEP 模板* 包含了 JEP 的模板。这个模板必须填写提案的详细信息。这些细节将包括概述、测试、依赖关系等。查看其他
    JEP 示例以填写模板是值得的。还有一个样本草案，可在 [http://cr.openjdk.java.net/~mr/jep/draft-mcimadamore-inference-01.md](http://cr.openjdk.java.net/~mr/jep/draft-mcimadamore-inference-01.md)
    找到。'
- en: Before attempting to publish a JEP, it would be a good idea to submit the proposal
    to the appropriate OpenJDK mailing lists for discussion. This will help you to
    produce a high quality proposal.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在尝试发布 JEP 之前，将提案提交给适当的 OpenJDK 邮件列表进行讨论是个好主意。这将帮助您制作出高质量的提案。
- en: When the proposal is ready for submission, send it to `<[jep-submit@openjdk.java.net](mailto:jep-submit@openjdk.java.net)>`.
    After this, assuming that the proposal has adequate quality, it will be available
    in the repository ([http://hg.openjdk.java.net/jep/jeps](http://hg.openjdk.java.net/jep/jeps))
    and the webpage which was mentioned in step 1 of this recipe.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当提案准备提交时，请将其发送到 `<[jep-submit@openjdk.java.net](mailto:jep-submit@openjdk.java.net)>`。在此之后，假设提案质量足够，它将可在存储库
    ([http://hg.openjdk.java.net/jep/jeps](http://hg.openjdk.java.net/jep/jeps)) 和本食谱第
    1 步中提到的网页上找到。
- en: After this, there will be several rounds of updates and discussions, which might
    eventually result in the JEP being approved and having its status changed to `Candidate`.
    This means that it is accepted for inclusion and has a good chance of being funded
    for one of the next versions. It would be worth mentioning that a JEP can also
    be rejected, which means that it was decided that it was not worth implementing
    at all.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此之后，将会有几轮更新和讨论，这最终可能导致 JEP 被批准，其状态变为 `Candidate`。这意味着它被接受并包含在内，并且有很大机会被资助用于下一个版本。值得一提的是，JEP
    也可能被拒绝，这意味着它被认为根本不值得实施。
- en: When a JEP is transferred to the status `Funded`, it means that the group or
    area lead is happy to fund it. This means that the actual implementation can now
    be initiated and will be included in one of the future versions.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当一个 JEP 转变为 `Funded` 状态时，这意味着小组或区域负责人愿意资助它。这意味着实际的实施现在可以开始，并将被包含在未来的某个版本中。
- en: How it works…
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'As was already mentioned earlier, the detailed process is described in *JEP
    1: JDK Enhancement-Proposal & Roadmap Process*. Similar to all OpenJDK changes,
    this process requires lots of involvement from the community and OpenJDK members.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '如前所述，详细流程在 *JEP 1: JDK 增强提案 & 路线图流程* 中描述。与所有 OpenJDK 变更一样，此流程需要社区和 OpenJDK
    成员的大量参与。'
- en: See also
  id: totrans-159
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: '*JEP 1: JDK Enhancement-Proposal & Roadmap Process* at [http://openjdk.java.net/jeps/1](http://openjdk.java.net/jeps/1)'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*JEP 1: JDK 增强提案 & 路线图流程* 在 [http://openjdk.java.net/jeps/1](http://openjdk.java.net/jeps/1)'
- en: '*JEP 2: JEP Template* at [http://openjdk.java.net/jeps/2](http://openjdk.java.net/jeps/2)'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*JEP 2: JEP 模板* 在 [http://openjdk.java.net/jeps/2](http://openjdk.java.net/jeps/2)'
- en: It would be good for you to take a look at some exciting discussions of JEP
    on mailing lists at [http://mail.openjdk.java.net/pipermail/jdk9-dev/2014-May/000781.html](http://mail.openjdk.java.net/pipermail/jdk9-dev/2014-May/000781.html).
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以查看一些关于 JEP 的激动人心的讨论，这些讨论在 [http://mail.openjdk.java.net/pipermail/jdk9-dev/2014-May/000781.html](http://mail.openjdk.java.net/pipermail/jdk9-dev/2014-May/000781.html)
    的邮件列表上。
- en: There is a JEP at [http://cr.openjdk.java.net/~mr/jep/jep-2.0-02.html](http://cr.openjdk.java.net/~mr/jep/jep-2.0-02.html)
    that suggests some changes in the existing process. The current state is *Draft*,
    but eventually most of the proposals will be applied to the current process.
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 [http://cr.openjdk.java.net/~mr/jep/jep-2.0-02.html](http://cr.openjdk.java.net/~mr/jep/jep-2.0-02.html)
    有一个 JEP 建议对现有流程进行一些更改。当前状态是 *草案*，但最终大多数提案都将应用于当前流程。
