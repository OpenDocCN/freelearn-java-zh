- en: Chapter 1. Getting Started with Dropwizard
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 1 章. 开始使用 Dropwizard
- en: 'Dropwizard is an open source Java framework for the rapid development of RESTful
    Web Services putting together everything you''ll need. You can have a production-ready
    application, making use of **Jetty**, **Jersey**, **Jackson**, **JDBI**, and **Hibernate**,
    as well as a large number of additional libraries that Dropwizard includes, either
    in its core or as modules. This solves the problem of manually adding, configuring,
    and wiring together lots of different libraries while building a web service application
    from scratch. Think of it like this: you will need Jersey to expose the web services,
    some other library for database interaction, and additional ones for validation
    and authentication, not to mention the overhead of dependency management, packaging,
    and distribution.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Dropwizard 是一个开源的 Java 框架，用于快速开发 RESTful Web 服务，它将您所需的一切整合在一起。您可以使用一个生产就绪的应用程序，利用
    **Jetty**、**Jersey**、**Jackson**、**JDBI** 和 **Hibernate**，以及 Dropwizard 包含的大量其他库，无论是核心库还是模块库。这解决了在从头开始构建
    Web 服务应用程序时手动添加、配置和连接大量不同库的问题。可以这样想：您将需要 Jersey 来公开 Web 服务，一些其他库用于数据库交互，以及额外的库用于验证和身份验证，更不用说依赖项管理、打包和分发的开销了。
- en: Throughout the chapters of this book, we are going to use Dropwizard and its
    components in order to build a sample application—that is, a phonebook application
    that exposes a set of RESTful Web Services that facilitate the storing and management
    of contacts. It works pretty much like your mobile phone's built-in phonebook
    application or any other contact management application.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的各个章节中，我们将使用 Dropwizard 和其组件来构建一个示例应用程序——即一个电话簿应用程序，它公开了一组 RESTful Web 服务，这些服务有助于存储和管理联系人。它的工作方式几乎与您手机内置的电话簿应用程序或任何其他联系人管理应用程序相同。
- en: Web service development with Dropwizard
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Dropwizard 开发 Web 服务
- en: We are going to use Jersey in order to build our web services. Jersey is the
    reference implementation of the **JAX-RS** standard (JSR 311), the Java API for
    RESTful Web Services. JAX-RS makes use of annotations, simplifying the development
    of web service applications.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用 Jersey 来构建我们的 Web 服务。Jersey 是 **JAX-RS** 标准（JSR 311）的参考实现，即 Java API for
    RESTful Web Services。JAX-RS 利用注解，简化了 Web 服务应用程序的开发。
- en: The web services we'll build are going to produce JSON output. Dropwizard includes
    Jackson, which is a fast, configurable JSON processor, and is used by Jersey to
    transform plain Java objects to JSON representations.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将构建的 Web 服务将生成 JSON 输出。Dropwizard 包含 Jackson，这是一个快速、可配置的 JSON 处理器，并由 Jersey
    用于将普通的 Java 对象转换为 JSON 表示形式。
- en: Our application is going to use a database in order to store data. For our database
    interaction needs, we'll use JDBI. JDBI is a library that will allow us to easily
    create DAO interfaces. Data Access Objects would allow us to perform database
    operations by mapping Java methods to SQL queries and statements. JDBI comes as
    a Dropwizard module, allowing us to build Data Access Objects easily and fast.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的应用程序将使用数据库来存储数据。为了满足我们的数据库交互需求，我们将使用 JDBI。JDBI 是一个库，它将使我们能够轻松地创建 DAO 接口。数据访问对象将允许我们通过将
    Java 方法映射到 SQL 查询和语句来执行数据库操作。JDBI 作为 Dropwizard 模块提供，使我们能够轻松快速地构建数据访问对象。
- en: Dropwizard includes validation, monitoring, and testing modules, which we'll
    use to ensure that our services will behave correctly in production environments.
    We are going to integrate Dropwizard's validation mechanisms, ensuring that each
    and every request to our web services is valid, before trying to serve it.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: Dropwizard 包含验证、监控和测试模块，我们将使用这些模块来确保我们的服务在生产环境中表现正确。我们将集成 Dropwizard 的验证机制，确保在尝试提供服务之前，每个对我们的
    Web 服务的请求都是有效的。
- en: Preparing your development environment
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备开发环境
- en: Before we start creating Dropwizard applications, we need to set up our development
    environment, which will consist of, at least, **Java (JDK 7)**, **Maven**, and
    **MySQL**.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始创建 Dropwizard 应用程序之前，我们需要设置我们的开发环境，这至少包括 **Java (JDK 7**)、**Maven** 和 **MySQL**。
- en: Getting ready
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Maven is a build manager for Java projects. We will use it to create and build
    our project. Our application's dependencies (on Dropwizard's modules) will be
    managed by Maven; we just need to add the appropriate entries in our project configuration
    file.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Maven 是 Java 项目的构建管理器。我们将使用它来创建和构建我们的项目。我们的应用程序的依赖项（对 Dropwizard 模块的依赖）将由 Maven
    管理；我们只需在我们的项目配置文件中添加适当的条目即可。
- en: We need a database, so we will use MySQL for the needs of this book. MySQL is
    the most popular open source relational database management system—a common choice
    for web applications. Throughout the installation process, you will be prompted
    to create or configure the values of environment variables. This procedure varies
    from one operating system to another, and is something out of the scope of this
    book.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要一个数据库，因此我们将使用MySQL来满足本书的需求。MySQL是最流行的开源关系型数据库管理系统——是网络应用程序的常见选择。在整个安装过程中，你将被提示创建或配置环境变量的值。这个过程因操作系统而异，并且超出了本书的范围。
- en: How to do it…
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: We will take a look at all the components that you will need to download and
    install.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将查看你需要下载和安装的所有组件。
- en: Downloading and installing Java
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 下载和安装Java
- en: Download Java 7 JDK from [http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html).
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html)下载Java
    7 JDK。
- en: Since many installation packages are available, you need to select the appropriate
    one, depending on your operating system and platform.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于有许多安装包可用，你需要根据你的操作系统和平台选择合适的安装包。
- en: After the download has completed, install the JDK by running the installer you
    downloaded, as shown in the following screenshot. There's no need to use settings
    different than the default ones for now. After a few steps, the installation will
    be completed.![Downloading and installing Java](img/9530OS_01_01.jpg)
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载完成后，通过运行你下载的安装程序来安装JDK，如下面的截图所示。目前不需要使用与默认设置不同的设置。经过几个步骤后，安装将完成。![下载和安装Java](img/9530OS_01_01.jpg)
- en: Following the successful installation, set the `JAVA_HOME` environment variable
    with its value set to the path where you installed Java. In Windows, this may
    be something like `C:\Program Files\Java\jdk1.7.0_40\`.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装成功后，将`JAVA_HOME`环境变量设置为Java安装路径。在Windows中，这可能类似于`C:\Program Files\Java\jdk1.7.0_40\`。
- en: Downloading and installing Maven
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 下载和安装Maven
- en: Maven installation is pretty straightforward. Just download Maven binaries from
    [http://maven.apache.org/download.cgi](http://maven.apache.org/download.cgi) and
    extract the contents of the package in a directory of your choice.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Maven安装相当简单。只需从[http://maven.apache.org/download.cgi](http://maven.apache.org/download.cgi)下载Maven二进制文件，并将包的内容提取到你的选择目录中。
- en: Modify the `PATH` environment variable, adding the Maven directory suffixed
    with `\bin`, like `C:\apache-maven-3.0.5\bin`, so the `mvn` executable will be
    available on all directories when using the command line or the terminal.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改`PATH`环境变量，添加以`\bin`结尾的Maven目录，例如`C:\apache-maven-3.0.5\bin`，这样在命令行或终端中使用时，`mvn`可执行文件将在所有目录中可用。
- en: Downloading and installing MySQL
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 下载和安装MySQL
- en: Download the **MySQL Community Server** installer for your operating system
    from [http://dev.mysql.com/downloads/mysql/#downloads](http://dev.mysql.com/downloads/mysql/#downloads).
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[http://dev.mysql.com/downloads/mysql/#downloads](http://dev.mysql.com/downloads/mysql/#downloads)下载适用于你操作系统的**MySQL
    Community Server**安装程序。
- en: Run the installer and select to install MySQL. Keep the proposed, default installation
    settings.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行安装程序并选择安装MySQL。保持建议的默认安装设置。
- en: At some point, you will be prompted to provide the **MySQL Root Password**.
    This is the password of the root user, which has full access rights. Enter a password
    of your choice, and proceed by clicking on the **Next >** button. The installation
    will be completed shortly.![Downloading and installing MySQL](img/9530OS_01_02.jpg)
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在某个时候，你将被提示提供**MySQL Root密码**。这是root用户的密码，具有完全访问权限。输入你选择的密码，然后点击**下一步 >**按钮。安装将很快完成。![下载和安装MySQL](img/9530OS_01_02.jpg)
- en: Please choose a password that you will remember easily, as you will need to
    provide it at a later stage.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请选择一个你容易记住的密码，因为你将在稍后阶段需要提供它。
- en: How it works…
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: We just completed the installation of the software packages required to build
    Dropwizard applications. We will use Maven to create the structure of our application,
    which will use MySQL as a persistent store for its data.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚完成了构建Dropwizard应用程序所需软件包的安装。我们将使用Maven来创建应用程序的结构，该应用程序将使用MySQL作为其数据的持久存储。
- en: We are going to create a Maven project, and in its **Project Object Model**
    (POM) file, we will include the references (dependencies) to the Dropwizard components
    our application will use. Maven will automatically download and make them available
    for use throughout our project.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将创建一个 Maven 项目，并在其 **项目对象模型** (POM) 文件中包含应用将使用的 Dropwizard 组件的引用（依赖项）。Maven
    将自动下载并使它们在整个项目中可用。
